
> professional-arbitrage-system@1.0.0 test
> jest


[Jest Global Setup] Starting Redis test server...
[Jest Global Setup] Redis test server running at 127.0.0.1:63867

FAIL unit shared/ml/__tests__/unit/tf-backend.test.ts (14.683 s)
  â— tf-backend â€º initializeTensorFlow â€º should initialize with default cpu backend in test environment

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 69 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow()[33m;[39m
     [90m 70 |[39m
    [31m[1m>[22m[39m[90m 71 |[39m       expect(result[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 72 |[39m       expect(result[33m.[39mbackend)[33m.[39mtoBe([32m'cpu'[39m)[33m;[39m
     [90m 73 |[39m       expect(mockTf[33m.[39msetBackend)[33m.[39mtoHaveBeenCalledWith([32m'cpu'[39m)[33m;[39m
     [90m 74 |[39m       expect(mockTf[33m.[39mready)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:71:30)

  â— tf-backend â€º initializeTensorFlow â€º should return cached result on subsequent calls

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 79 |[39m       [36mconst[39m result2 [33m=[39m [36mawait[39m initializeTensorFlow()[33m;[39m
     [90m 80 |[39m
    [31m[1m>[22m[39m[90m 81 |[39m       expect(result1[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 82 |[39m       expect(result2[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 83 |[39m       expect(mockTf[33m.[39msetBackend)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m 84 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:81:31)

  â— tf-backend â€º initializeTensorFlow â€º should use forced backend from environment variable

    expect(received).toBe(expected) // Object.is equality

    Expected: "wasm"
    Received: "cpu"

    [0m [90m 89 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow()[33m;[39m
     [90m 90 |[39m
    [31m[1m>[22m[39m[90m 91 |[39m       expect(result[33m.[39mbackend)[33m.[39mtoBe([32m'wasm'[39m)[33m;[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 92 |[39m       expect(mockTf[33m.[39msetBackend)[33m.[39mtoHaveBeenCalledWith([32m'wasm'[39m)[33m;[39m
     [90m 93 |[39m     })[33m;[39m
     [90m 94 |[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:91:30)

  â— tf-backend â€º initializeTensorFlow â€º should warn and ignore invalid TF_FORCE_BACKEND

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m  98 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow()[33m;[39m
     [90m  99 |[39m
    [31m[1m>[22m[39m[90m 100 |[39m       expect(result[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 101 |[39m       expect(result[33m.[39mbackend)[33m.[39mtoBe([32m'cpu'[39m)[33m;[39m [90m// Falls back to default[39m
     [90m 102 |[39m     })[33m;[39m
     [90m 103 |[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:100:30)

  â— tf-backend â€º initializeTensorFlow â€º should use preferred backend from config

    expect(received).toBe(expected) // Object.is equality

    Expected: "wasm"
    Received: "cpu"

    [0m [90m 105 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow({ preferredBackend[33m:[39m [32m'wasm'[39m })[33m;[39m
     [90m 106 |[39m
    [31m[1m>[22m[39m[90m 107 |[39m       expect(result[33m.[39mbackend)[33m.[39mtoBe([32m'wasm'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 108 |[39m     })[33m;[39m
     [90m 109 |[39m
     [90m 110 |[39m     it([32m'should fall back to cpu if preferred backend fails'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:107:30)

  â— tf-backend â€º initializeTensorFlow â€º should set isNative=true for tensorflow backend

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 134 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow({ preferredBackend[33m:[39m [32m'tensorflow'[39m })[33m;[39m
     [90m 135 |[39m
    [31m[1m>[22m[39m[90m 136 |[39m       expect(result[33m.[39misNative)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 137 |[39m     })[33m;[39m
     [90m 138 |[39m
     [90m 139 |[39m     it([32m'should respect initTimeoutMs config'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:136:31)

  â— tf-backend â€º query functions â€º getTensorFlowMemory should return memory info

    expect(received).toHaveProperty(path)

    Matcher error: received value must not be null nor undefined

    Received has value: undefined

    [0m [90m 173 |[39m     it([32m'getTensorFlowMemory should return memory info'[39m[33m,[39m () [33m=>[39m {
     [90m 174 |[39m       [36mconst[39m mem [33m=[39m getTensorFlowMemory()[33m;[39m
    [31m[1m>[22m[39m[90m 175 |[39m       expect(mem)[33m.[39mtoHaveProperty([32m'numTensors'[39m)[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 176 |[39m       expect(mem)[33m.[39mtoHaveProperty([32m'numDataBuffers'[39m)[33m;[39m
     [90m 177 |[39m     })[33m;[39m
     [90m 178 |[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:175:19)

  â— tf-backend â€º query functions â€º getTensorFlowInfo should return backend and memory

    expect(received).toBe(expected) // Object.is equality

    Expected: "cpu"
    Received: "unknown"

    [0m [90m 179 |[39m     it([32m'getTensorFlowInfo should return backend and memory'[39m[33m,[39m () [33m=>[39m {
     [90m 180 |[39m       [36mconst[39m info [33m=[39m getTensorFlowInfo()[33m;[39m
    [31m[1m>[22m[39m[90m 181 |[39m       expect(info[33m.[39mbackend)[33m.[39mtoBe([32m'cpu'[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 182 |[39m       expect(info[33m.[39mmemory)[33m.[39mtoBeDefined()[33m;[39m
     [90m 183 |[39m     })[33m;[39m
     [90m 184 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:181:28)

  â— tf-backend â€º memory management â€º disposeAllTensors should call tf.disposeVariables

    TypeError: Cannot read properties of undefined (reading 'numTensors')

    [0m [90m 374 |[39m [90m */[39m
     [90m 375 |[39m [36mexport[39m [36mfunction[39m disposeAllTensors()[33m:[39m [36mvoid[39m {
    [31m[1m>[22m[39m[90m 376 |[39m   [36mconst[39m numTensors [33m=[39m tf[33m.[39mmemory()[33m.[39mnumTensors[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 377 |[39m   [36mif[39m (numTensors [33m>[39m [35m0[39m) {
     [90m 378 |[39m     logger[33m.[39mwarn([32m`Disposing ${numTensors} tensors from memory`[39m)[33m;[39m
     [90m 379 |[39m   }[0m

      at disposeAllTensors (shared/ml/src/tf-backend.ts:376:33)
      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:188:24)

  â— tf-backend â€º memory management â€º withTensorCleanup should call tf.tidy

    expect(received).toBe(expected) // Object.is equality

    Expected: 42
    Received: undefined

    [0m [90m 195 |[39m
     [90m 196 |[39m       expect(mockTf[33m.[39mtidy)[33m.[39mtoHaveBeenCalled()[33m;[39m
    [31m[1m>[22m[39m[90m 197 |[39m       expect(result)[33m.[39mtoBe([35m42[39m)[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 198 |[39m     })[33m;[39m
     [90m 199 |[39m
     [90m 200 |[39m     it([32m'withTensorCleanupAsync should execute async function'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:197:22)

  â— tf-backend â€º memory management â€º withTensorCleanupAsync should execute async function

    TypeError: Cannot read properties of undefined (reading 'numTensors')

    [0m [90m 405 |[39m )[33m:[39m [33mPromise[39m[33m<[39m[33mT[39m[33m>[39m {
     [90m 406 |[39m   [90m// Track tensors before execution[39m
    [31m[1m>[22m[39m[90m 407 |[39m   [36mconst[39m tensorsBefore [33m=[39m tf[33m.[39mmemory()[33m.[39mnumTensors[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 408 |[39m
     [90m 409 |[39m   [90m// Execute the async function[39m
     [90m 410 |[39m   [36mconst[39m result [33m=[39m [36mawait[39m fn()[33m;[39m[0m

      at withTensorCleanupAsync (shared/ml/src/tf-backend.ts:407:36)
      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:202:50)

  â— tf-backend â€º environment-based backend selection â€º should use wasm in production mode

    expect(received).toBe(expected) // Object.is equality

    Expected: "wasm"
    Received: "cpu"

    [0m [90m 236 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow()[33m;[39m
     [90m 237 |[39m
    [31m[1m>[22m[39m[90m 238 |[39m       expect(result[33m.[39mbackend)[33m.[39mtoBe([32m'wasm'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 239 |[39m     })[33m;[39m
     [90m 240 |[39m
     [90m 241 |[39m     it([32m'should use tensorflow in production with TF_ENABLE_NATIVE'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:238:30)

  â— tf-backend â€º environment-based backend selection â€º should use tensorflow in production with TF_ENABLE_NATIVE

    expect(received).toBe(expected) // Object.is equality

    Expected: "tensorflow"
    Received: "cpu"

    [0m [90m 246 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow()[33m;[39m
     [90m 247 |[39m
    [31m[1m>[22m[39m[90m 248 |[39m       expect(result[33m.[39mbackend)[33m.[39mtoBe([32m'tensorflow'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 249 |[39m     })[33m;[39m
     [90m 250 |[39m
     [90m 251 |[39m     it([32m'should use cpu in development mode'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:248:30)

FAIL unit shared/ml/__tests__/unit/model-persistence.test.ts (15.382 s)
  â— model-persistence â€º ModelPersistence class â€º loadModel â€º should load model from disk

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 172 |[39m         [36mconst[39m result [33m=[39m [36mawait[39m persistence[33m.[39mloadModel([32m'test-model'[39m)[33m;[39m
     [90m 173 |[39m
    [31m[1m>[22m[39m[90m 174 |[39m         expect(result[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 175 |[39m         expect(result[33m.[39mmodel)[33m.[39mtoBeDefined()[33m;[39m
     [90m 176 |[39m         expect(result[33m.[39mmetadata)[33m.[39mtoBeDefined()[33m;[39m
     [90m 177 |[39m         expect(mockTf[33m.[39mloadLayersModel)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/model-persistence.test.ts:174:32)

  â— model-persistence â€º ModelPersistence class â€º modelExists â€º should return true for existing model

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 222 |[39m         [36mawait[39m persistence[33m.[39msaveModel(mockModel [36mas[39m any[33m,[39m metadata)[33m;[39m
     [90m 223 |[39m
    [31m[1m>[22m[39m[90m 224 |[39m         expect(persistence[33m.[39mmodelExists([32m'test-model'[39m))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                                       [31m[1m^[22m[39m
     [90m 225 |[39m       })[33m;[39m
     [90m 226 |[39m
     [90m 227 |[39m       it([32m'should return false for non-existent model'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/model-persistence.test.ts:224:55)

FAIL unit services/execution-engine/__tests__/unit/services/simulation/simulation-metrics-collector.test.ts
  â— Test suite failed to run

    [96mservices/execution-engine/__tests__/unit/services/simulation/simulation-metrics-collector.test.ts[0m:[93m56[0m:[93m87[0m - [91merror[0m[90m TS2322: [0mType '{ opportunitiesReceived: number; executionAttempts: number; opportunitiesRejected: number; successfulExecutions: number; failedExecutions: number; queueRejects: number; lockConflicts: number; ... 15 more ...; riskHaltCount: number; }' is not assignable to type 'ExecutionStats'.
      Types of property 'staleLockRecoveries' are incompatible.
        Type 'number | undefined' is not assignable to type 'number'.
          Type 'undefined' is not assignable to type 'number'.

    [7m 56[0m const createMockStats = (overrides: Partial<ExecutionStats> = {}): ExecutionStats => ({
    [7m   [0m [91m                                                                                      ~[0m
    [7m 57[0m   opportunitiesReceived: 100,
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m...[0m 
    [7m 80[0m   ...overrides,
    [7m   [0m [91m~~~~~~~~~~~~~~~[0m
    [7m 81[0m });
    [7m   [0m [91m~[0m

FAIL unit shared/config/__tests__/unit/config-modules.test.ts
  â— Test suite failed to run

    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m48[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module './index' or its corresponding type declarations.

    [7m48[0m } from './index';
    [7m  [0m [91m       ~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m290[0m:[93m9[0m - [91merror[0m[90m TS7006: [0mParameter 'b' implicitly has an 'any' type.

    [7m290[0m         b => b.sourceChain === 'solana' || b.targetChain === 'solana'
    [7m   [0m [91m        ~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m293[0m:[93m34[0m - [91merror[0m[90m TS7006: [0mParameter 'b' implicitly has an 'any' type.

    [7m293[0m       expect(solanaBridges.every(b => b.bridge === 'wormhole')).toBe(true);
    [7m   [0m [91m                                 ~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m324[0m:[93m47[0m - [91merror[0m[90m TS7006: [0mParameter 'b' implicitly has an 'any' type.

    [7m324[0m         const lowestFee = Math.min(...all.map(b => b.feePercentage));
    [7m   [0m [91m                                              ~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m506[0m:[93m16[0m - [91merror[0m[90m TS18046: [0m'config' is of type 'unknown'.

    [7m506[0m         expect(config.batchSize).toBeGreaterThan(0);
    [7m   [0m [91m               ~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m507[0m:[93m16[0m - [91merror[0m[90m TS18046: [0m'config' is of type 'unknown'.

    [7m507[0m         expect(config.batchSize).toBeLessThanOrEqual(1000); // Reasonable upper limit
    [7m   [0m [91m               ~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m572[0m:[93m51[0m - [91merror[0m[90m TS2307: [0mCannot find module '../../types' or its corresponding type declarations.

    [7m572[0m     let getAllChains: () => Record<string, import('../../types').Chain>;
    [7m   [0m [91m                                                  ~~~~~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m575[0m:[93m35[0m - [91merror[0m[90m TS2307: [0mCannot find module './chains' or its corresponding type declarations.

    [7m575[0m       const module = await import('./chains');
    [7m   [0m [91m                                  ~~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m616[0m:[93m35[0m - [91merror[0m[90m TS2307: [0mCannot find module './event-config' or its corresponding type declarations.

    [7m616[0m   let EVENT_CONFIG: typeof import('./event-config').EVENT_CONFIG;
    [7m   [0m [91m                                  ~~~~~~~~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m617[0m:[93m39[0m - [91merror[0m[90m TS2307: [0mCannot find module './event-config' or its corresponding type declarations.

    [7m617[0m   let EVENT_SIGNATURES: typeof import('./event-config').EVENT_SIGNATURES;
    [7m   [0m [91m                                      ~~~~~~~~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m620[0m:[93m33[0m - [91merror[0m[90m TS2307: [0mCannot find module './event-config' or its corresponding type declarations.

    [7m620[0m     const module = await import('./event-config');
    [7m   [0m [91m                                ~~~~~~~~~~~~~~~~[0m

(node:75156) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL unit shared/security/__tests__/unit/rate-limiter.test.ts (18.21 s)
  â— RateLimiter â€º checkLimit â€º should handle Redis errors gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 130 |[39m
     [90m 131 |[39m       [90m// Should fail open (allow request) on Redis error[39m
    [31m[1m>[22m[39m[90m 132 |[39m       expect(result[33m.[39mexceeded)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 133 |[39m       expect(result[33m.[39mtotal)[33m.[39mtoBe([35m10[39m)[33m;[39m
     [90m 134 |[39m       expect(recordingLogger[33m.[39mhasLogMatching([32m'error'[39m[33m,[39m [32m'Rate limiter error'[39m))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 135 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (shared/security/__tests__/unit/rate-limiter.test.ts:132:31)

  â— RateLimiter â€º middleware â€º should handle middleware errors gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 258 |[39m
     [90m 259 |[39m       [90m// Should fail open[39m
    [31m[1m>[22m[39m[90m 260 |[39m       expect(mockNext)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 261 |[39m       expect(recordingLogger[33m.[39mhasLogMatching([32m'error'[39m[33m,[39m [32m'Rate limiter error'[39m))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 262 |[39m     })[33m;[39m
     [90m 263 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (shared/security/__tests__/unit/rate-limiter.test.ts:260:24)

FAIL unit services/execution-engine/__tests__/unit/strategies/simulation.strategy.test.ts
  â— Test suite failed to run

    [96mservices/execution-engine/__tests__/unit/strategies/simulation.strategy.test.ts[0m:[93m54[0m:[93m3[0m - [91merror[0m[90m TS2741: [0mProperty 'staleLockRecoveries' is missing in type '{ opportunitiesReceived: number; executionAttempts: number; opportunitiesRejected: number; successfulExecutions: number; failedExecutions: number; lockConflicts: number; executionTimeouts: number; ... 14 more ...; riskHaltCount: number; }' but required in type 'ExecutionStats'.

    [7m54[0m   stats: {
    [7m  [0m [91m  ~~~~~[0m

      [96mservices/execution-engine/src/types.ts[0m:[93m433[0m:[93m3[0m
        [7m433[0m   staleLockRecoveries: number;
        [7m   [0m [96m  ~~~~~~~~~~~~~~~~~~~[0m
        'staleLockRecoveries' is declared here.
      [96mservices/execution-engine/src/types.ts[0m:[93m967[0m:[93m3[0m
        [7m967[0m   stats: ExecutionStats;
        [7m   [0m [96m  ~~~~~[0m
        The expected type comes from property 'stats' which is declared here on type 'StrategyContext'

FAIL unit services/execution-engine/__tests__/unit/strategies/strategy-factory.test.ts
  â— Test suite failed to run

    [96mservices/execution-engine/__tests__/unit/strategies/strategy-factory.test.ts[0m:[93m66[0m:[93m3[0m - [91merror[0m[90m TS2741: [0mProperty 'staleLockRecoveries' is missing in type '{ opportunitiesReceived: number; executionAttempts: number; opportunitiesRejected: number; successfulExecutions: number; failedExecutions: number; queueRejects: number; lockConflicts: number; ... 14 more ...; riskHaltCount: number; }' but required in type 'ExecutionStats'.

    [7m66[0m   stats: {
    [7m  [0m [91m  ~~~~~[0m

      [96mservices/execution-engine/src/types.ts[0m:[93m433[0m:[93m3[0m
        [7m433[0m   staleLockRecoveries: number;
        [7m   [0m [96m  ~~~~~~~~~~~~~~~~~~~[0m
        'staleLockRecoveries' is declared here.
      [96mservices/execution-engine/src/types.ts[0m:[93m967[0m:[93m3[0m
        [7m967[0m   stats: ExecutionStats;
        [7m   [0m [96m  ~~~~~[0m
        The expected type comes from property 'stats' which is declared here on type 'StrategyContext'

(node:120740) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:40936) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
PASS unit services/execution-engine/__tests__/unit/services/simulation/simulation.service.test.ts (18.948 s)
(node:32116) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL integration tests/integration/s3.1.7-detector-migration.integration.test.ts (19.517 s)
  â— S3.1.7.10: Migration Documentation â€º should reference partition architecture in implementation plan

    ENOENT: no such file or directory, open 'C:\Users\kj2bn8f\arbitrage_new\docs\IMPLEMENTATION_PLAN.md'

    [0m [90m 666 |[39m
     [90m 667 |[39m     [36mconst[39m planPath [33m=[39m path[33m.[39mjoin(process[33m.[39mcwd()[33m,[39m [32m'docs/IMPLEMENTATION_PLAN.md'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 668 |[39m     [36mconst[39m content [33m=[39m fs[33m.[39mreadFileSync(planPath[33m,[39m [32m'utf-8'[39m)[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 669 |[39m
     [90m 670 |[39m     expect(content)[33m.[39mtoContain([32m'Partitioned'[39m)[33m;[39m
     [90m 671 |[39m     expect(content)[33m.[39mtoContain([32m'S3.1.7'[39m)[33m;[39m[0m

      at Object.<anonymous> (tests/integration/s3.1.7-detector-migration.integration.test.ts:668:24)

PASS unit services/execution-engine/__tests__/unit/services/simulation/alchemy-provider.test.ts
FAIL integration tests/integration/s3.1.6-partition-solana.integration.test.ts (20.349 s)
  â— Console

    console.log
      2026-02-01T22:51:22.268Z [partition-solana:arbitrage] info: SolanaArbitrageDetector initialized {"chainId":"solana","minProfitThreshold":0.3,"crossChainEnabled":true,"triangularEnabled":true,"hasStreamsClient":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:22.370Z [partition-solana:arbitrage] info: Connected to SolanaDetector for pool updates

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

  â— S3.1.6.18: Cross-Partition Consistency â€º P4 uses same patterns as P1-P3 â€º should have consistent comment patterns with P3

    expect(received).toContain(expected) // indexOf

    Expected substring: "P12-P14 refactor"
    Received string:    "/**Â·
     * P3 High-Value Partition Service Entry PointÂ·
     *Â·
     * Deploys the unified detector for the High-Value partition:Â·
     * - Chains: Ethereum, zkSync, LineaÂ·
     * - Region: Oracle Cloud US-East (us-east1)Â·
     * - Resource Profile: Heavy (3 high-value chains)Â·
     *Â·
     * This service is a deployment wrapper for the unified-detector,Â·
     * configured specifically for the P3 partition.Â·
     *Â·
     * High-Value partition characteristics:Â·
     * - Longer health checks (30s) for Ethereum's ~12s blocksÂ·
     * - Standard failover timeout (60s) for mainnet stabilityÂ·
     * - Heavy resource profile for Ethereum mainnet processingÂ·
     * - US-East deployment for proximity to major Ethereum infrastructureÂ·
     *Â·
     * Environment Variables:Â·
     * - PARTITION_ID: Set to 'high-value' by defaultÂ·
     * - PARTITION_CHAINS: Override chains to monitor (comma-separated, default: ethereum,zksync,linea)Â·
     * - REDIS_URL: Redis connection URL (required)Â·
     * - LOG_LEVEL: Logging level (default: info)Â·
     * - HEALTH_CHECK_PORT: HTTP health check port (default: 3003)Â·
     * - INSTANCE_ID: Unique instance identifier (auto-generated if not set)Â·
     * - REGION_ID: Deployment region (default: us-east1)Â·
     * - ENABLE_CROSS_REGION_HEALTH: Enable cross-region health reporting (default: true)Â·
     *Â·
     * @see ADR-003: Partitioned Chain DetectorsÂ·
     */Â·Â·Â·
    import { Server } from 'http';Â·
    import { UnifiedChainDetector, UnifiedDetectorConfig } from '@arbitrage/unified-detector';Â·
    import {Â·
      createLogger,Â·
      parsePort,Â·
      validateAndFilterChains,Â·
      createPartitionHealthServer,Â·
      setupDetectorEventHandlers,Â·
      setupProcessHandlers,Â·
      exitWithConfigError,Â·
      closeServerWithTimeout,Â·
      parsePartitionEnvironmentConfig,Â·
      validatePartitionEnvironmentConfig,Â·
      generateInstanceId,Â·
      PartitionServiceConfig,Â·
      PartitionEnvironmentConfig,Â·
      PARTITION_PORTS,Â·
      PARTITION_SERVICE_NAMESÂ·
    } from '@arbitrage/core';Â·
    import { getPartition, PARTITION_IDS } from '@arbitrage/config';Â·Â·Â·
    // =============================================================================Â·
    // P3 Partition ConstantsÂ·
    // =============================================================================Â·Â·Â·
    const P3_PARTITION_ID = PARTITION_IDS.HIGH_VALUE;Â·
    // Use centralized port constant (P1: 3001, P2: 3002, P3: 3003, P4: 3004)Â·
    const P3_DEFAULT_PORT = PARTITION_PORTS[P3_PARTITION_ID] ?? 3003;Â·Â·Â·
    // =============================================================================Â·
    // ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    const logger = createLogger('partition-high-value:main');Â·Â·Â·
    // =============================================================================Â·
    // Partition Configuration RetrievalÂ·
    // =============================================================================Â·Â·Â·
    // Single partition config retrievalÂ·
    const partitionConfig = getPartition(P3_PARTITION_ID);Â·
    if (!partitionConfig) {Â·
      exitWithConfigError('P3 partition configuration not found', { partitionId: P3_PARTITION_ID }, logger);Â·
    }Â·Â·Â·
    // BUG-FIX: Add defensive null-safety checks for test compatibilityÂ·
    // During test imports, mocks may not be fully initialized, so we use optional chainingÂ·
    // and provide safe defaults to prevent \"Cannot read properties of undefined\" errorsÂ·
    const P3_CHAINS: readonly string[] = partitionConfig?.chains ?? [];Â·
    const P3_REGION = partitionConfig?.region ?? 'us-east1';Â·Â·Â·
    // BUG-FIX: Validate partition config has chainsÂ·
    if (!P3_CHAINS || P3_CHAINS.length === 0) {Â·
      exitWithConfigError('P3 partition has no chains configured', {Â·
        partitionId: P3_PARTITION_ID,Â·
        chains: P3_CHAINSÂ·
      }, logger);Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // Environment Configuration (Using shared typed utilities)Â·
    // =============================================================================Â·Â·Â·
    // Parse environment into typed configuration using shared utilityÂ·
    const envConfig: PartitionEnvironmentConfig = parsePartitionEnvironmentConfig(P3_CHAINS);Â·Â·Â·
    // Validate environment configuration (exits on critical errors, warns on non-critical)Â·
    validatePartitionEnvironmentConfig(envConfig, P3_PARTITION_ID, P3_CHAINS, logger);Â·Â·Â·
    // =============================================================================Â·
    // Service ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    // Service configuration for shared utilitiesÂ·
    const serviceConfig: PartitionServiceConfig = {Â·
      partitionId: P3_PARTITION_ID,Â·
      serviceName: PARTITION_SERVICE_NAMES[P3_PARTITION_ID] ?? 'partition-high-value',Â·
      defaultChains: P3_CHAINS,Â·
      defaultPort: P3_DEFAULT_PORT,Â·
      region: P3_REGION,Â·
      provider: partitionConfig?.provider ?? 'oracle'Â·
    };Â·Â·Â·
    // Store server reference for graceful shutdownÂ·
    const healthServerRef: { current: Server | null } = { current: null };Â·Â·Â·
    // Unified detector configuration (uses typed envConfig)Â·
    // BUG-FIX: Use nullish coalescing (??) consistently instead of logical OR (||)Â·
    // to properly handle falsy but valid values like empty strings or 0Â·
    // BUG-FIX: Add optional chaining for envConfig properties for test compatibilityÂ·
    const config: UnifiedDetectorConfig = {Â·
      partitionId: P3_PARTITION_ID,Â·
      chains: validateAndFilterChains(envConfig?.partitionChains, P3_CHAINS, logger),Â·
      instanceId: generateInstanceId(P3_PARTITION_ID, envConfig?.instanceId),Â·
      regionId: envConfig?.regionId ?? P3_REGION,Â·
      enableCrossRegionHealth: envConfig?.enableCrossRegionHealth ?? true,Â·
      healthCheckPort: parsePort(envConfig?.healthCheckPort, P3_DEFAULT_PORT, logger)Â·
    };Â·Â·Â·
    // =============================================================================Â·
    // Service InstanceÂ·
    // =============================================================================Â·Â·Â·
    const detector = new UnifiedChainDetector(config);Â·Â·Â·
    // =============================================================================Â·
    // Event Handlers (Using shared utilities)Â·
    // =============================================================================Â·Â·Â·
    setupDetectorEventHandlers(detector, logger, P3_PARTITION_ID);Â·Â·Â·
    // =============================================================================Â·
    // Process Handlers (Using shared utilities with shutdown guard)Â·
    // =============================================================================Â·Â·Â·
    // Store cleanup function to prevent MaxListenersExceeded warningsÂ·
    // in test scenarios and allow proper handler cleanupÂ·
    const cleanupProcessHandlers = setupProcessHandlers(healthServerRef, detector, logger, serviceConfig.serviceName);Â·Â·Â·
    // =============================================================================Â·
    // Main Entry PointÂ·
    // =============================================================================Â·Â·Â·
    // Guard against multiple main() invocations (e.g., from integration tests)Â·
    // FIX: Standardized to use single state enum (matching P2 l2-turbo pattern)Â·
    // This is cleaner and more explicit about the service lifecycle stateÂ·
    type MainState = 'idle' | 'starting' | 'started' | 'failed';Â·
    let mainState: MainState = 'idle';Â·Â·Â·
    async function main(): Promise<void> {Â·
      // Check-and-set guard prevents duplicate invocations within same event loop tickÂ·
      if (mainState !== 'idle') {Â·
        logger.warn('main() already started or starting, ignoring duplicate invocation', {Â·
          currentState: mainStateÂ·
        });Â·
        return;Â·
      }Â·
      mainState = 'starting';Â·Â·Â·
      logger.info('Starting P3 High-Value Partition Service', {Â·
        partitionId: P3_PARTITION_ID,Â·
        chains: config.chains,Â·
        region: P3_REGION,Â·
        provider: serviceConfig.provider,Â·
        nodeVersion: process.version,Â·
        pid: process.pidÂ·
      });Â·Â·Â·
      try {Â·
        // Start health check server first (using shared utilities)Â·
        // BUG-FIX: Use nullish coalescing for port to handle port 0 correctlyÂ·
        healthServerRef.current = createPartitionHealthServer({Â·
          port: config.healthCheckPort ?? P3_DEFAULT_PORT,Â·
          config: serviceConfig,Â·
          detector,Â·
          loggerÂ·
        });Â·Â·Â·
        // Start detectorÂ·
        await detector.start();Â·Â·Â·
        // BUG-FIX: Mark as fully started only after successful completionÂ·
        mainState = 'started';Â·Â·Â·
        logger.info('P3 High-Value Partition Service started successfully', {Â·
          partitionId: detector.getPartitionId(),Â·
          chains: detector.getChains(),Â·
          healthyChains: detector.getHealthyChains()Â·
        });Â·Â·Â·
      } catch (error) {Â·
        // BUG-FIX: Mark as failed instead of resetting to idleÂ·
        mainState = 'failed';Â·Â·Â·
        logger.error('Failed to start P3 High-Value Partition Service', { error });Â·Â·Â·
        // BUG-FIX: Explicit null check before closing serverÂ·
        // Server may be null if createPartitionHealthServer threw before assignmentÂ·
        if (healthServerRef.current) {Â·
          await closeServerWithTimeout(healthServerRef.current, 1000, logger);Â·
        }Â·Â·Â·
        // BUG-FIX: Clear server reference after closing to prevent stale reference issuesÂ·
        healthServerRef.current = null;Â·Â·Â·
        // Clean up process handlers before exit to prevent listener leaksÂ·
        cleanupProcessHandlers();Â·Â·Â·
        process.exit(1);Â·
      }Â·
    }Â·Â·Â·
    // Run - only when this is the main entry point (not when imported by tests)Â·
    // Check for Jest worker to prevent auto-start during test importsÂ·
    if (!process.env.JEST_WORKER_ID) {Â·
      main().catch((error) => {Â·
        // BUG-FIX: Wrap logging in try-catch to prevent silent failures if logger failsÂ·
        try {Â·
          if (logger) {Â·
            logger.error('Fatal error in P3 High-Value partition main', { error });Â·
          } else {Â·
            console.error('Fatal error in P3 High-Value partition main (logger unavailable):', error);Â·
          }Â·
        } catch (logError) {Â·
          // Last resort - write to stderr directlyÂ·
          process.stderr.write(`FATAL: ${error}\\nLOG ERROR: ${logError}\\n`);Â·
        }Â·
        process.exit(1);Â·
      });Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // ExportsÂ·
    // =============================================================================Â·Â·Â·
    export {Â·
      detector,Â·
      config,Â·
      P3_PARTITION_ID,Â·
      P3_CHAINS,Â·
      P3_REGION,Â·
      cleanupProcessHandlers,Â·
      // Export for testingÂ·
      envConfigÂ·
    };Â·Â·Â·
    // Re-export type from shared utilities for convenienceÂ·
    export type { PartitionEnvironmentConfig };Â·
    "

    [0m [90m 1665 |[39m
     [90m 1666 |[39m       [90m// Both should use P12-P14 refactor pattern[39m
    [31m[1m>[22m[39m[90m 1667 |[39m       expect(p3Content)[33m.[39mtoContain([32m'P12-P14 refactor'[39m)[33m;[39m
     [90m      |[39m                         [31m[1m^[22m[39m
     [90m 1668 |[39m       expect(p4Content)[33m.[39mtoContain([32m'P12-P14 refactor'[39m)[33m;[39m
     [90m 1669 |[39m
     [90m 1670 |[39m       [90m// Both should use P12-P16 refactor pattern[39m[0m

      at Object.<anonymous> (tests/integration/s3.1.6-partition-solana.integration.test.ts:1667:25)

  â— S3.1.6.18: Cross-Partition Consistency â€º All partitions share same utility patterns â€º should use validateAndFilterChains in all partitions

    expect(received).toContain(expected) // indexOf

    Expected substring: "validateAndFilterChains(process.env.PARTITION_CHAINS"
    Received string:    "/**Â·
     * P1 Asia-Fast Partition Service Entry PointÂ·
     *Â·
     * Deploys the unified detector for the Asia-Fast partition:Â·
     * - Chains: BSC, Polygon, Avalanche, FantomÂ·
     * - Region: Oracle Cloud Singapore (asia-southeast1)Â·
     * - Resource Profile: Heavy (4 chains)Â·
     *Â·
     * This service is a deployment wrapper for the unified-detector,Â·
     * configured specifically for the P1 partition.Â·
     *Â·
     * Architecture Note:Â·
     * This service creates its own HTTP health server via createPartitionHealthServer().Â·
     * The UnifiedChainDetector class provides health data but NOT an HTTP server.Â·
     * This separation of concerns allows:Â·
     * - Partition-specific health endpoint configurationÂ·
     * - Consistent health response format across all partition servicesÂ·
     * - The detector class to remain transport-agnosticÂ·
     *Â·
     * Environment Variables:Â·
     * - PARTITION_ID: Set to 'asia-fast' by defaultÂ·
     * - REDIS_URL: Redis connection URL (required)Â·
     * - LOG_LEVEL: Logging level (default: info)Â·
     * - HEALTH_CHECK_PORT: HTTP health check port (default: 3001)Â·
     * - INSTANCE_ID: Unique instance identifier (auto-generated if not set)Â·
     * - REGION_ID: Region identifier (default: asia-southeast1)Â·
     * - ENABLE_CROSS_REGION_HEALTH: Enable cross-region health reporting (default: true)Â·
     * - PARTITION_CHAINS: Override default chains (comma-separated)Â·
     *Â·
     * @see ADR-003: Partitioned Chain DetectorsÂ·
     */Â·Â·Â·
    import { Server } from 'http';Â·
    import { UnifiedChainDetector, UnifiedDetectorConfig } from '@arbitrage/unified-detector';Â·
    import {Â·
      createLogger,Â·
      parsePort,Â·
      validateAndFilterChains,Â·
      createPartitionHealthServer,Â·
      setupDetectorEventHandlers,Â·
      setupProcessHandlers,Â·
      exitWithConfigError,Â·
      closeServerWithTimeout,Â·
      parsePartitionEnvironmentConfig,Â·
      validatePartitionEnvironmentConfig,Â·
      generateInstanceId,Â·
      PartitionServiceConfig,Â·
      PartitionEnvironmentConfig,Â·
      PARTITION_PORTS,Â·
      PARTITION_SERVICE_NAMES,Â·
      LoggerÂ·
    } from '@arbitrage/core';Â·
    import { getPartition, PARTITION_IDS } from '@arbitrage/config';Â·Â·Â·
    // =============================================================================Â·
    // P1 Partition ConstantsÂ·
    // =============================================================================Â·Â·Â·
    const P1_PARTITION_ID = PARTITION_IDS.ASIA_FAST;Â·
    // Use centralized port constant (P1: 3001, P2: 3002, P3: 3003, P4: 3004)Â·
    const P1_DEFAULT_PORT = PARTITION_PORTS[P1_PARTITION_ID] ?? 3001;Â·Â·Â·
    // =============================================================================Â·
    // ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    const logger = createLogger('partition-asia-fast:main');Â·Â·Â·
    // =============================================================================Â·
    // Partition Configuration RetrievalÂ·
    // =============================================================================Â·Â·Â·
    // Single partition config retrievalÂ·
    const partitionConfig = getPartition(P1_PARTITION_ID);Â·
    if (!partitionConfig) {Â·
      exitWithConfigError('P1 partition configuration not found', { partitionId: P1_PARTITION_ID }, logger);Â·
    }Â·Â·Â·
    // BUG-FIX: Add defensive null-safety checks for test compatibilityÂ·
    // During test imports, mocks may not be fully initialized, so we use optional chainingÂ·
    // and provide safe defaults to prevent \"Cannot read properties of undefined\" errorsÂ·
    const P1_CHAINS: readonly string[] = partitionConfig?.chains ?? [];Â·
    const P1_REGION = partitionConfig?.region ?? 'asia-southeast1';Â·Â·Â·
    // BUG-FIX: Validate partition config has chainsÂ·
    if (!P1_CHAINS || P1_CHAINS.length === 0) {Â·
      exitWithConfigError('P1 partition has no chains configured', {Â·
        partitionId: P1_PARTITION_ID,Â·
        chains: P1_CHAINSÂ·
      }, logger);Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // Environment Configuration (Using shared typed utilities)Â·
    // =============================================================================Â·Â·Â·
    // Parse environment into typed configuration using shared utilityÂ·
    const envConfig: PartitionEnvironmentConfig = parsePartitionEnvironmentConfig(P1_CHAINS);Â·Â·Â·
    // Validate environment configuration (exits on critical errors, warns on non-critical)Â·
    validatePartitionEnvironmentConfig(envConfig, P1_PARTITION_ID, P1_CHAINS, logger);Â·Â·Â·
    // =============================================================================Â·
    // Service ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    // Service configuration for shared utilitiesÂ·
    const serviceConfig: PartitionServiceConfig = {Â·
      partitionId: P1_PARTITION_ID,Â·
      serviceName: PARTITION_SERVICE_NAMES[P1_PARTITION_ID] ?? 'partition-asia-fast',Â·
      defaultChains: P1_CHAINS,Â·
      defaultPort: P1_DEFAULT_PORT,Â·
      region: P1_REGION,Â·
      provider: partitionConfig?.provider ?? 'oracle'Â·
    };Â·Â·Â·
    // Store server reference for graceful shutdownÂ·
    const healthServerRef: { current: Server | null } = { current: null };Â·Â·Â·
    // Unified detector configuration (uses typed envConfig)Â·
    // BUG-FIX: Use nullish coalescing (??) consistently instead of logical OR (||)Â·
    // to properly handle falsy but valid values like empty strings or 0Â·
    // BUG-FIX: Add optional chaining for envConfig properties for test compatibilityÂ·
    const config: UnifiedDetectorConfig = {Â·
      partitionId: P1_PARTITION_ID,Â·
      chains: validateAndFilterChains(envConfig?.partitionChains, P1_CHAINS, logger),Â·
      instanceId: generateInstanceId(P1_PARTITION_ID, envConfig?.instanceId),Â·
      regionId: envConfig?.regionId ?? P1_REGION,Â·
      enableCrossRegionHealth: envConfig?.enableCrossRegionHealth ?? true,Â·
      healthCheckPort: parsePort(envConfig?.healthCheckPort, P1_DEFAULT_PORT, logger)Â·
    };Â·Â·Â·
    // =============================================================================Â·
    // Service InstanceÂ·
    // =============================================================================Â·Â·Â·
    const detector = new UnifiedChainDetector(config);Â·Â·Â·
    // =============================================================================Â·
    // Event Handlers (Using shared utilities)Â·
    // =============================================================================Â·Â·Â·
    setupDetectorEventHandlers(detector, logger, P1_PARTITION_ID);Â·Â·Â·
    // =============================================================================Â·
    // Process Handlers (Using shared utilities with shutdown guard)Â·
    // =============================================================================Â·Â·Â·
    // Store cleanup function to prevent MaxListenersExceeded warningsÂ·
    // in test scenarios and allow proper handler cleanupÂ·
    const cleanupProcessHandlers = setupProcessHandlers(healthServerRef, detector, logger, serviceConfig.serviceName);Â·Â·Â·
    // =============================================================================Â·
    // Main Entry PointÂ·
    // =============================================================================Â·Â·Â·
    // Guard against multiple main() invocations (e.g., from integration tests)Â·
    // FIX: Standardized to use single state enum (matching P2 l2-turbo pattern)Â·
    // This is cleaner and more explicit about the service lifecycle stateÂ·
    type MainState = 'idle' | 'starting' | 'started' | 'failed';Â·
    let mainState: MainState = 'idle';Â·Â·Â·
    async function main(): Promise<void> {Â·
      // Check-and-set guard prevents duplicate invocations within same event loop tickÂ·
      if (mainState !== 'idle') {Â·
        logger.warn('main() already started or starting, ignoring duplicate invocation', {Â·
          currentState: mainStateÂ·
        });Â·
        return;Â·
      }Â·
      mainState = 'starting';Â·Â·Â·
      logger.info('Starting P1 Asia-Fast Partition Service', {Â·
        partitionId: P1_PARTITION_ID,Â·
        chains: config.chains,Â·
        region: P1_REGION,Â·
        provider: serviceConfig.provider,Â·
        nodeVersion: process.version,Â·
        pid: process.pidÂ·
      });Â·Â·Â·
      try {Â·
        // Start health check server first (using shared utilities)Â·
        // BUG-FIX: Use nullish coalescing for port to handle port 0 correctlyÂ·
        healthServerRef.current = createPartitionHealthServer({Â·
          port: config.healthCheckPort ?? P1_DEFAULT_PORT,Â·
          config: serviceConfig,Â·
          detector,Â·
          loggerÂ·
        });Â·Â·Â·
        // Start detectorÂ·
        await detector.start();Â·Â·Â·
        // BUG-FIX: Mark as fully started only after successful completionÂ·
        mainState = 'started';Â·Â·Â·
        logger.info('P1 Asia-Fast Partition Service started successfully', {Â·
          partitionId: detector.getPartitionId(),Â·
          chains: detector.getChains(),Â·
          healthyChains: detector.getHealthyChains()Â·
        });Â·Â·Â·
      } catch (error) {Â·
        // BUG-FIX: Mark as failed instead of resetting to idleÂ·
        mainState = 'failed';Â·Â·Â·
        logger.error('Failed to start P1 Asia-Fast Partition Service', { error });Â·Â·Â·
        // BUG-FIX: Explicit null check before closing serverÂ·
        // Server may be null if createPartitionHealthServer threw before assignmentÂ·
        if (healthServerRef.current) {Â·
          await closeServerWithTimeout(healthServerRef.current, 1000, logger);Â·
        }Â·Â·Â·
        // BUG-FIX: Clear server reference after closing to prevent stale reference issuesÂ·
        healthServerRef.current = null;Â·Â·Â·
        // Clean up process handlers before exit to prevent listener leaksÂ·
        cleanupProcessHandlers();Â·Â·Â·
        process.exit(1);Â·
      }Â·
    }Â·Â·Â·
    // Run - only when this is the main entry point (not when imported by tests)Â·
    // Check for Jest worker to prevent auto-start during test importsÂ·
    if (!process.env.JEST_WORKER_ID) {Â·
      main().catch((error) => {Â·
        // BUG-FIX: Wrap logging in try-catch to prevent silent failures if logger failsÂ·
        try {Â·
          if (logger) {Â·
            logger.error('Fatal error in P1 Asia-Fast partition main', { error });Â·
          } else {Â·
            console.error('Fatal error in P1 Asia-Fast partition main (logger unavailable):', error);Â·
          }Â·
        } catch (logError) {Â·
          // Last resort - write to stderr directlyÂ·
          process.stderr.write(`FATAL: ${error}\\nLOG ERROR: ${logError}\\n`);Â·
        }Â·
        process.exit(1);Â·
      });Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // ExportsÂ·
    // =============================================================================Â·Â·Â·
    export {Â·
      detector,Â·
      config,Â·
      P1_PARTITION_ID,Â·
      P1_CHAINS,Â·
      P1_REGION,Â·
      cleanupProcessHandlers,Â·
      // Export for testingÂ·
      envConfigÂ·
    };Â·Â·Â·
    // Re-export type from shared utilities for convenienceÂ·
    export type { PartitionEnvironmentConfig };Â·
    "

    [0m [90m 1843 |[39m         [36mconst[39m content [33m=[39m fs[33m.[39mreadFileSync(filePath[33m,[39m [32m'utf-8'[39m)[33m;[39m
     [90m 1844 |[39m
    [31m[1m>[22m[39m[90m 1845 |[39m         expect(content)[33m.[39mtoContain([32m'validateAndFilterChains(process.env.PARTITION_CHAINS'[39m)[33m;[39m
     [90m      |[39m                         [31m[1m^[22m[39m
     [90m 1846 |[39m       }
     [90m 1847 |[39m     })[33m;[39m
     [90m 1848 |[39m[0m

      at Object.<anonymous> (tests/integration/s3.1.6-partition-solana.integration.test.ts:1845:25)

  â— S3.1.6.18: Cross-Partition Consistency â€º All partitions share same utility patterns â€º should use parsePort in all partitions

    expect(received).toContain(expected) // indexOf

    Expected substring: "parsePort(process.env.HEALTH_CHECK_PORT"
    Received string:    "/**Â·
     * P1 Asia-Fast Partition Service Entry PointÂ·
     *Â·
     * Deploys the unified detector for the Asia-Fast partition:Â·
     * - Chains: BSC, Polygon, Avalanche, FantomÂ·
     * - Region: Oracle Cloud Singapore (asia-southeast1)Â·
     * - Resource Profile: Heavy (4 chains)Â·
     *Â·
     * This service is a deployment wrapper for the unified-detector,Â·
     * configured specifically for the P1 partition.Â·
     *Â·
     * Architecture Note:Â·
     * This service creates its own HTTP health server via createPartitionHealthServer().Â·
     * The UnifiedChainDetector class provides health data but NOT an HTTP server.Â·
     * This separation of concerns allows:Â·
     * - Partition-specific health endpoint configurationÂ·
     * - Consistent health response format across all partition servicesÂ·
     * - The detector class to remain transport-agnosticÂ·
     *Â·
     * Environment Variables:Â·
     * - PARTITION_ID: Set to 'asia-fast' by defaultÂ·
     * - REDIS_URL: Redis connection URL (required)Â·
     * - LOG_LEVEL: Logging level (default: info)Â·
     * - HEALTH_CHECK_PORT: HTTP health check port (default: 3001)Â·
     * - INSTANCE_ID: Unique instance identifier (auto-generated if not set)Â·
     * - REGION_ID: Region identifier (default: asia-southeast1)Â·
     * - ENABLE_CROSS_REGION_HEALTH: Enable cross-region health reporting (default: true)Â·
     * - PARTITION_CHAINS: Override default chains (comma-separated)Â·
     *Â·
     * @see ADR-003: Partitioned Chain DetectorsÂ·
     */Â·Â·Â·
    import { Server } from 'http';Â·
    import { UnifiedChainDetector, UnifiedDetectorConfig } from '@arbitrage/unified-detector';Â·
    import {Â·
      createLogger,Â·
      parsePort,Â·
      validateAndFilterChains,Â·
      createPartitionHealthServer,Â·
      setupDetectorEventHandlers,Â·
      setupProcessHandlers,Â·
      exitWithConfigError,Â·
      closeServerWithTimeout,Â·
      parsePartitionEnvironmentConfig,Â·
      validatePartitionEnvironmentConfig,Â·
      generateInstanceId,Â·
      PartitionServiceConfig,Â·
      PartitionEnvironmentConfig,Â·
      PARTITION_PORTS,Â·
      PARTITION_SERVICE_NAMES,Â·
      LoggerÂ·
    } from '@arbitrage/core';Â·
    import { getPartition, PARTITION_IDS } from '@arbitrage/config';Â·Â·Â·
    // =============================================================================Â·
    // P1 Partition ConstantsÂ·
    // =============================================================================Â·Â·Â·
    const P1_PARTITION_ID = PARTITION_IDS.ASIA_FAST;Â·
    // Use centralized port constant (P1: 3001, P2: 3002, P3: 3003, P4: 3004)Â·
    const P1_DEFAULT_PORT = PARTITION_PORTS[P1_PARTITION_ID] ?? 3001;Â·Â·Â·
    // =============================================================================Â·
    // ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    const logger = createLogger('partition-asia-fast:main');Â·Â·Â·
    // =============================================================================Â·
    // Partition Configuration RetrievalÂ·
    // =============================================================================Â·Â·Â·
    // Single partition config retrievalÂ·
    const partitionConfig = getPartition(P1_PARTITION_ID);Â·
    if (!partitionConfig) {Â·
      exitWithConfigError('P1 partition configuration not found', { partitionId: P1_PARTITION_ID }, logger);Â·
    }Â·Â·Â·
    // BUG-FIX: Add defensive null-safety checks for test compatibilityÂ·
    // During test imports, mocks may not be fully initialized, so we use optional chainingÂ·
    // and provide safe defaults to prevent \"Cannot read properties of undefined\" errorsÂ·
    const P1_CHAINS: readonly string[] = partitionConfig?.chains ?? [];Â·
    const P1_REGION = partitionConfig?.region ?? 'asia-southeast1';Â·Â·Â·
    // BUG-FIX: Validate partition config has chainsÂ·
    if (!P1_CHAINS || P1_CHAINS.length === 0) {Â·
      exitWithConfigError('P1 partition has no chains configured', {Â·
        partitionId: P1_PARTITION_ID,Â·
        chains: P1_CHAINSÂ·
      }, logger);Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // Environment Configuration (Using shared typed utilities)Â·
    // =============================================================================Â·Â·Â·
    // Parse environment into typed configuration using shared utilityÂ·
    const envConfig: PartitionEnvironmentConfig = parsePartitionEnvironmentConfig(P1_CHAINS);Â·Â·Â·
    // Validate environment configuration (exits on critical errors, warns on non-critical)Â·
    validatePartitionEnvironmentConfig(envConfig, P1_PARTITION_ID, P1_CHAINS, logger);Â·Â·Â·
    // =============================================================================Â·
    // Service ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    // Service configuration for shared utilitiesÂ·
    const serviceConfig: PartitionServiceConfig = {Â·
      partitionId: P1_PARTITION_ID,Â·
      serviceName: PARTITION_SERVICE_NAMES[P1_PARTITION_ID] ?? 'partition-asia-fast',Â·
      defaultChains: P1_CHAINS,Â·
      defaultPort: P1_DEFAULT_PORT,Â·
      region: P1_REGION,Â·
      provider: partitionConfig?.provider ?? 'oracle'Â·
    };Â·Â·Â·
    // Store server reference for graceful shutdownÂ·
    const healthServerRef: { current: Server | null } = { current: null };Â·Â·Â·
    // Unified detector configuration (uses typed envConfig)Â·
    // BUG-FIX: Use nullish coalescing (??) consistently instead of logical OR (||)Â·
    // to properly handle falsy but valid values like empty strings or 0Â·
    // BUG-FIX: Add optional chaining for envConfig properties for test compatibilityÂ·
    const config: UnifiedDetectorConfig = {Â·
      partitionId: P1_PARTITION_ID,Â·
      chains: validateAndFilterChains(envConfig?.partitionChains, P1_CHAINS, logger),Â·
      instanceId: generateInstanceId(P1_PARTITION_ID, envConfig?.instanceId),Â·
      regionId: envConfig?.regionId ?? P1_REGION,Â·
      enableCrossRegionHealth: envConfig?.enableCrossRegionHealth ?? true,Â·
      healthCheckPort: parsePort(envConfig?.healthCheckPort, P1_DEFAULT_PORT, logger)Â·
    };Â·Â·Â·
    // =============================================================================Â·
    // Service InstanceÂ·
    // =============================================================================Â·Â·Â·
    const detector = new UnifiedChainDetector(config);Â·Â·Â·
    // =============================================================================Â·
    // Event Handlers (Using shared utilities)Â·
    // =============================================================================Â·Â·Â·
    setupDetectorEventHandlers(detector, logger, P1_PARTITION_ID);Â·Â·Â·
    // =============================================================================Â·
    // Process Handlers (Using shared utilities with shutdown guard)Â·
    // =============================================================================Â·Â·Â·
    // Store cleanup function to prevent MaxListenersExceeded warningsÂ·
    // in test scenarios and allow proper handler cleanupÂ·
    const cleanupProcessHandlers = setupProcessHandlers(healthServerRef, detector, logger, serviceConfig.serviceName);Â·Â·Â·
    // =============================================================================Â·
    // Main Entry PointÂ·
    // =============================================================================Â·Â·Â·
    // Guard against multiple main() invocations (e.g., from integration tests)Â·
    // FIX: Standardized to use single state enum (matching P2 l2-turbo pattern)Â·
    // This is cleaner and more explicit about the service lifecycle stateÂ·
    type MainState = 'idle' | 'starting' | 'started' | 'failed';Â·
    let mainState: MainState = 'idle';Â·Â·Â·
    async function main(): Promise<void> {Â·
      // Check-and-set guard prevents duplicate invocations within same event loop tickÂ·
      if (mainState !== 'idle') {Â·
        logger.warn('main() already started or starting, ignoring duplicate invocation', {Â·
          currentState: mainStateÂ·
        });Â·
        return;Â·
      }Â·
      mainState = 'starting';Â·Â·Â·
      logger.info('Starting P1 Asia-Fast Partition Service', {Â·
        partitionId: P1_PARTITION_ID,Â·
        chains: config.chains,Â·
        region: P1_REGION,Â·
        provider: serviceConfig.provider,Â·
        nodeVersion: process.version,Â·
        pid: process.pidÂ·
      });Â·Â·Â·
      try {Â·
        // Start health check server first (using shared utilities)Â·
        // BUG-FIX: Use nullish coalescing for port to handle port 0 correctlyÂ·
        healthServerRef.current = createPartitionHealthServer({Â·
          port: config.healthCheckPort ?? P1_DEFAULT_PORT,Â·
          config: serviceConfig,Â·
          detector,Â·
          loggerÂ·
        });Â·Â·Â·
        // Start detectorÂ·
        await detector.start();Â·Â·Â·
        // BUG-FIX: Mark as fully started only after successful completionÂ·
        mainState = 'started';Â·Â·Â·
        logger.info('P1 Asia-Fast Partition Service started successfully', {Â·
          partitionId: detector.getPartitionId(),Â·
          chains: detector.getChains(),Â·
          healthyChains: detector.getHealthyChains()Â·
        });Â·Â·Â·
      } catch (error) {Â·
        // BUG-FIX: Mark as failed instead of resetting to idleÂ·
        mainState = 'failed';Â·Â·Â·
        logger.error('Failed to start P1 Asia-Fast Partition Service', { error });Â·Â·Â·
        // BUG-FIX: Explicit null check before closing serverÂ·
        // Server may be null if createPartitionHealthServer threw before assignmentÂ·
        if (healthServerRef.current) {Â·
          await closeServerWithTimeout(healthServerRef.current, 1000, logger);Â·
        }Â·Â·Â·
        // BUG-FIX: Clear server reference after closing to prevent stale reference issuesÂ·
        healthServerRef.current = null;Â·Â·Â·
        // Clean up process handlers before exit to prevent listener leaksÂ·
        cleanupProcessHandlers();Â·Â·Â·
        process.exit(1);Â·
      }Â·
    }Â·Â·Â·
    // Run - only when this is the main entry point (not when imported by tests)Â·
    // Check for Jest worker to prevent auto-start during test importsÂ·
    if (!process.env.JEST_WORKER_ID) {Â·
      main().catch((error) => {Â·
        // BUG-FIX: Wrap logging in try-catch to prevent silent failures if logger failsÂ·
        try {Â·
          if (logger) {Â·
            logger.error('Fatal error in P1 Asia-Fast partition main', { error });Â·
          } else {Â·
            console.error('Fatal error in P1 Asia-Fast partition main (logger unavailable):', error);Â·
          }Â·
        } catch (logError) {Â·
          // Last resort - write to stderr directlyÂ·
          process.stderr.write(`FATAL: ${error}\\nLOG ERROR: ${logError}\\n`);Â·
        }Â·
        process.exit(1);Â·
      });Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // ExportsÂ·
    // =============================================================================Â·Â·Â·
    export {Â·
      detector,Â·
      config,Â·
      P1_PARTITION_ID,Â·
      P1_CHAINS,Â·
      P1_REGION,Â·
      cleanupProcessHandlers,Â·
      // Export for testingÂ·
      envConfigÂ·
    };Â·Â·Â·
    // Re-export type from shared utilities for convenienceÂ·
    export type { PartitionEnvironmentConfig };Â·
    "

    [0m [90m 1862 |[39m         [36mconst[39m content [33m=[39m fs[33m.[39mreadFileSync(filePath[33m,[39m [32m'utf-8'[39m)[33m;[39m
     [90m 1863 |[39m
    [31m[1m>[22m[39m[90m 1864 |[39m         expect(content)[33m.[39mtoContain([32m'parsePort(process.env.HEALTH_CHECK_PORT'[39m)[33m;[39m
     [90m      |[39m                         [31m[1m^[22m[39m
     [90m 1865 |[39m       }
     [90m 1866 |[39m     })[33m;[39m
     [90m 1867 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (tests/integration/s3.1.6-partition-solana.integration.test.ts:1864:25)

FAIL unit shared/config/__tests__/unit/partitions.test.ts
  â— Test suite failed to run

    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m34[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module './partitions' or its corresponding type declarations.

    [7m34[0m } from './partitions';
    [7m  [0m [91m       ~~~~~~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m43[0m:[93m34[0m - [91merror[0m[90m TS7006: [0mParameter 'p' implicitly has an 'any' type.

    [7m43[0m       const ids = PARTITIONS.map(p => p.partitionId);
    [7m  [0m [91m                                 ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m49[0m:[93m40[0m - [91merror[0m[90m TS7006: [0mParameter 'p' implicitly has an 'any' type.

    [7m49[0m       const asiaFast = PARTITIONS.find(p => p.partitionId === 'asia-fast');
    [7m  [0m [91m                                       ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m56[0m:[93m38[0m - [91merror[0m[90m TS7006: [0mParameter 'p' implicitly has an 'any' type.

    [7m56[0m       const l2Fast = PARTITIONS.find(p => p.partitionId === 'l2-turbo');
    [7m  [0m [91m                                     ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m64[0m:[93m41[0m - [91merror[0m[90m TS7006: [0mParameter 'p' implicitly has an 'any' type.

    [7m64[0m       const highValue = PARTITIONS.find(p => p.partitionId === 'high-value');
    [7m  [0m [91m                                        ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m105[0m:[93m47[0m - [91merror[0m[90m TS7006: [0mParameter 'p' implicitly has an 'any' type.

    [7m105[0m       const expanded = FUTURE_PARTITIONS.find(p => p.partitionId === 'asia-fast-expanded');
    [7m   [0m [91m                                              ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m250[0m:[93m29[0m - [91merror[0m[90m TS7006: [0mParameter 'p' implicitly has an 'any' type.

    [7m250[0m     const ids = enabled.map(p => p.partitionId);
    [7m   [0m [91m                            ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m325[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m325[0m     expect(instances.map(i => i.chainId)).toContain('bsc');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m326[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m326[0m     expect(instances.map(i => i.chainId)).toContain('polygon');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m327[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m327[0m     expect(instances.map(i => i.chainId)).toContain('avalanche');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m328[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m328[0m     expect(instances.map(i => i.chainId)).toContain('fantom');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m334[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m334[0m     expect(instances.map(i => i.chainId)).toContain('arbitrum');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m335[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m335[0m     expect(instances.map(i => i.chainId)).toContain('optimism');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m336[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m336[0m     expect(instances.map(i => i.chainId)).toContain('base');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m413[0m:[93m31[0m - [91merror[0m[90m TS7006: [0mParameter 'e' implicitly has an 'any' type.

    [7m413[0m     expect(result.errors.some(e => e.includes('not found'))).toBe(true);
    [7m   [0m [91m                              ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m432[0m:[93m33[0m - [91merror[0m[90m TS7006: [0mParameter 'w' implicitly has an 'any' type.

    [7m432[0m     expect(result.warnings.some(w => w.includes('insufficient'))).toBe(true);
    [7m   [0m [91m                                ~[0m

PASS unit services/execution-engine/__tests__/unit/services/simulation/local-provider.test.ts
FAIL unit shared/config/__tests__/unit/config-manager.test.ts
  â— Test suite failed to run

    [96mshared/config/__tests__/unit/config-manager.test.ts[0m:[93m352[0m:[93m12[0m - [91merror[0m[90m TS2304: [0mCannot find name 'result'.

    [7m352[0m     expect(result.warnings.filter((w: string) => w.includes('OPTIONAL_VAR'))).toHaveLength(0);
    [7m   [0m [91m           ~~~~~~[0m
    [96mshared/config/__tests__/unit/config-manager.test.ts[0m:[93m426[0m:[93m1[0m - [91merror[0m[90m TS1128: [0mDeclaration or statement expected.

    [7m426[0m });
    [7m   [0m [91m~[0m
    [96mshared/config/__tests__/unit/config-manager.test.ts[0m:[93m426[0m:[93m2[0m - [91merror[0m[90m TS1128: [0mDeclaration or statement expected.

    [7m426[0m });
    [7m   [0m [91m ~[0m

(node:72680) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
PASS unit services/execution-engine/__tests__/unit/consumers/validation.test.ts
FAIL unit services/coordinator/__tests__/unit/leadership/leadership-election-service.test.ts
  â— Test suite failed to run

    [96mservices/coordinator/__tests__/unit/leadership/leadership-election-service.test.ts[0m:[93m13[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module './leadership-election-service' or its corresponding type declarations.

    [7m13[0m } from './leadership-election-service';
    [7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96mservices/coordinator/__tests__/unit/leadership/leadership-election-service.test.ts[0m:[93m71[0m:[93m17[0m - [91merror[0m[90m TS7006: [0mParameter 'alert' implicitly has an 'any' type.

    [7m71[0m       onAlert: (alert) => alerts.push(alert),
    [7m  [0m [91m                ~~~~~[0m
    [96mservices/coordinator/__tests__/unit/leadership/leadership-election-service.test.ts[0m:[93m72[0m:[93m28[0m - [91merror[0m[90m TS7006: [0mParameter 'isLeader' implicitly has an 'any' type.

    [7m72[0m       onLeadershipChange: (isLeader) => leadershipChanges.push(isLeader),
    [7m  [0m [91m                           ~~~~~~~~[0m

(node:112000) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
PASS unit services/execution-engine/__tests__/unit/services/simulation/pending-state-simulator.test.ts
  â— Console

    console.log
      Anvil not found. Integration tests will be skipped.

      at Object.<anonymous> (services/execution-engine/__tests__/unit/services/simulation/pending-state-simulator.test.ts:37:11)

FAIL unit shared/config/__tests__/unit/cross-chain.test.ts
  â— Test suite failed to run

    [96mshared/config/__tests__/unit/cross-chain.test.ts[0m:[93m19[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module './cross-chain' or its corresponding type declarations.

    [7m19[0m } from './cross-chain';
    [7m  [0m [91m       ~~~~~~~~~~~~~~~[0m

PASS unit services/execution-engine/__tests__/unit/services/simulation/anvil-manager.test.ts
  â— Console

    console.log
      Anvil not found. Integration tests will be skipped.

      at Object.<anonymous> (services/execution-engine/__tests__/unit/services/simulation/anvil-manager.test.ts:33:11)

FAIL unit shared/test-utils/__tests__/unit/helpers/timer-helpers.test.ts
  â— Test suite failed to run

    [96mshared/test-utils/__tests__/unit/helpers/timer-helpers.test.ts[0m:[93m16[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module './timer-helpers' or its corresponding type declarations.

    [7m16[0m } from './timer-helpers';
    [7m  [0m [91m       ~~~~~~~~~~~~~~~~~[0m

FAIL unit shared/config/__tests__/unit/websocket-resilience.test.ts
  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º Arbitrum should have 3 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 3
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/arbitrum", "wss://arbitrum-one-rpc.publicnode.com", "wss://arbitrum-mainnet.public.blastapi.io", "wss://arb1.arbitrum.io/feed"]

    [0m [90m 146 |[39m   describe([32m'Chain-Specific Configuration'[39m[33m,[39m () [33m=>[39m {
     [90m 147 |[39m     it([32m'Arbitrum should have 3 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 148 |[39m       expect([33mCHAINS[39m[33m.[39marbitrum[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 149 |[39m     })[33m;[39m
     [90m 150 |[39m
     [90m 151 |[39m     it([32m'Optimism should have 3 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:148:46)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º Optimism should have 3 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 3
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/optimism", "wss://optimism-rpc.publicnode.com", "wss://optimism-mainnet.public.blastapi.io", "wss://mainnet.optimism.io"]

    [0m [90m 150 |[39m
     [90m 151 |[39m     it([32m'Optimism should have 3 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 152 |[39m       expect([33mCHAINS[39m[33m.[39moptimism[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 153 |[39m     })[33m;[39m
     [90m 154 |[39m
     [90m 155 |[39m     it([32m'BSC should have 3 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:152:46)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º BSC should have 3 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 3
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/bsc", "wss://bsc-rpc.publicnode.com", "wss://bsc-mainnet.public.blastapi.io", "wss://bsc-ws-node.nariox.org:443"]

    [0m [90m 154 |[39m
     [90m 155 |[39m     it([32m'BSC should have 3 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 156 |[39m       expect([33mCHAINS[39m[33m.[39mbsc[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m     |[39m                                         [31m[1m^[22m[39m
     [90m 157 |[39m     })[33m;[39m
     [90m 158 |[39m
     [90m 159 |[39m     it([32m'Ethereum should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:156:41)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º Ethereum should have 2 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/eth", "wss://ethereum-rpc.publicnode.com", "wss://eth-mainnet.public.blastapi.io", "wss://eth.llamarpc.com"]

    [0m [90m 158 |[39m
     [90m 159 |[39m     it([32m'Ethereum should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 160 |[39m       expect([33mCHAINS[39m[33m.[39methereum[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 161 |[39m     })[33m;[39m
     [90m 162 |[39m
     [90m 163 |[39m     it([32m'Base should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:160:46)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º Base should have 2 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/base", "wss://base-rpc.publicnode.com", "wss://base-mainnet.public.blastapi.io", "wss://mainnet.base.org"]

    [0m [90m 162 |[39m
     [90m 163 |[39m     it([32m'Base should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 164 |[39m       expect([33mCHAINS[39m[33m.[39mbase[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                                          [31m[1m^[22m[39m
     [90m 165 |[39m     })[33m;[39m
     [90m 166 |[39m
     [90m 167 |[39m     it([32m'Polygon should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:164:42)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º Polygon should have 2 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/polygon", "wss://polygon-bor-rpc.publicnode.com", "wss://polygon-mainnet.public.blastapi.io", "wss://polygon-rpc.com"]

    [0m [90m 166 |[39m
     [90m 167 |[39m     it([32m'Polygon should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 168 |[39m       expect([33mCHAINS[39m[33m.[39mpolygon[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                                             [31m[1m^[22m[39m
     [90m 169 |[39m     })[33m;[39m
     [90m 170 |[39m
     [90m 171 |[39m     it([32m'Avalanche should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:168:45)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º Avalanche should have 2 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/avalanche", "wss://avalanche-c-chain-rpc.publicnode.com", "wss://avax-mainnet.public.blastapi.io", "wss://api.avax.network/ext/bc/C/ws"]

    [0m [90m 170 |[39m
     [90m 171 |[39m     it([32m'Avalanche should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 172 |[39m       expect([33mCHAINS[39m[33m.[39mavalanche[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 173 |[39m     })[33m;[39m
     [90m 174 |[39m
     [90m 175 |[39m     it([32m'Fantom should have at least 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:172:47)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º zkSync should have 2 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/zksync_era", "wss://zksync-era-rpc.publicnode.com", "wss://zksync-mainnet.public.blastapi.io", "wss://mainnet.era.zksync.io/ws"]

    [0m [90m 178 |[39m
     [90m 179 |[39m     it([32m'zkSync should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 180 |[39m       expect([33mCHAINS[39m[33m.[39mzksync[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                                            [31m[1m^[22m[39m
     [90m 181 |[39m     })[33m;[39m
     [90m 182 |[39m
     [90m 183 |[39m     it([32m'Linea should have at least 1 WebSocket fallback'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:180:44)

FAIL unit shared/config/__tests__/unit/dex-expansion.test.ts
  â— Test suite failed to run

    [96mshared/config/__tests__/unit/dex-expansion.test.ts[0m:[93m16[0m:[93m21[0m - [91merror[0m[90m TS2307: [0mCannot find module '../../types' or its corresponding type declarations.

    [7m16[0m import { Dex } from '../../types';
    [7m  [0m [91m                    ~~~~~~~~~~~~~[0m

PASS unit services/unified-detector/src/__tests__/unit/health-reporter.test.ts
PASS unit services/unified-detector/src/__tests__/unit/types-utils.test.ts
PASS unit services/unified-detector/src/__tests__/unit/opportunity-publisher.test.ts
PASS unit services/execution-engine/__tests__/unit/services/queue.service.test.ts (11.046 s)
PASS unit services/unified-detector/src/__tests__/unit/metrics-collector.test.ts
PASS unit services/unified-detector/src/__tests__/unit/whale-alert-publisher.test.ts
PASS unit services/execution-engine/__tests__/unit/risk/risk-management-orchestrator.test.ts (11.887 s)
PASS unit services/unified-detector/src/__tests__/unit/chain-instance-manager.test.ts
PASS unit services/unified-detector/__tests__/unit/chain-instance.test.ts
PASS integration tests/integration/s2.2.5-pair-services.integration.test.ts
  â— Console

    console.log
      2026-02-01T22:51:36.052Z [pair-discovery] warn: getPairDiscoveryService called with config but instance already exists. Config ignored.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:36.127Z [pair-cache] error: Cache get error {"key":"test:pair:ethereum:uniswap_v2:0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2:0xdac17f958d2ee523a2206206994597c13d831ec7","error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:36.135Z [pair-cache] error: Cache set error {"key":"test:pair:ethereum:uniswap_v2:0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2:0xdac17f958d2ee523a2206206994597c13d831ec7","error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:36.419Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:36.525Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:36.680Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:36.889Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:36.954Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.025Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.141Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.329Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.339Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.410Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.550Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.718Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.737Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.811Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.962Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.131Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.248Z [pair-cache] error: Cache get error {"key":"pair:ethereum:uniswap_v2:0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2:0xdac17f958d2ee523a2206206994597c13d831ec7","error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.251Z [pair-cache] error: Cache get error {"key":"pair:ethereum:uniswap_v2:0xa:0xb","error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.252Z [pair-cache] error: Cache set error {"key":"pair:ethereum:uniswap_v2:0xa:0xb","error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration tests/integration/s1.2-swap-event-filter.integration.test.ts
  â— Console

    console.log
      2026-02-01T22:51:37.634Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.667Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.669Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.671Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.673Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.675Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.676Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.678Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.680Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.682Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.684Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.685Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":100,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.688Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.689Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.691Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.695Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.696Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.699Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.710Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.712Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.713Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.714Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":100,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.879Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.881Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.882Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.883Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x71a050501bd69"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.884Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.885Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.887Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.888Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.889Z [swap-event-filter] info: Whale alert detected {"usdValue":75000,"chain":"ethereum","dex":"uniswap_v3","pair":"0xd316ebae3c3c7"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.891Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.892Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.894Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x87ddaf3c5774a"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.899Z [swap-event-filter] info: Whale alert detected {"usdValue":70000,"chain":"ethereum","dex":"uniswap_v3","pair":"0xd48f4f7bf8f68"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.900Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.901Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.903Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x94f2f1d52a9f4"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.903Z [swap-event-filter] info: Whale alert detected {"usdValue":100000,"chain":"ethereum","dex":"uniswap_v3","pair":"0xe04ff10ed685b8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.906Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:37.908Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":100,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.078Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.079Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":100,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.249Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.251Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":100,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.439Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.441Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":50,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.636Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.637Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.639Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0xd23f271ab914f8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.640Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.642Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.645Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.646Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.650Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.655Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.656Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0xe13ec8fea9fd5"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.658Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.660Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.661Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.662Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.663Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0xfef5e2bbc721e8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.681Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.683Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.684Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.685Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.766Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.768Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.770Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0xde9f96f2b3ebb8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.772Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.774Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":50,"aggregationWindowMs":5000,"maxDedupCacheSize":100,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.900Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:38.909Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":50,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.028Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.030Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.032Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.034Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.034Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.035Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.036Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.041Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.042Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.043Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.044Z [swap-event-filter] info: Whale alert detected {"usdValue":1000000000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x6c4e51f920402"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.045Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.046Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.050Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.050Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.051Z [swap-event-filter] warn: processEvent called on destroyed filter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.052Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.054Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.057Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.058Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.088Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.090Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.101Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.103Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.132Z [swap-event-filter] info: Whale alert detected {"usdValue":862114.925195794,"chain":"ethereum","dex":"uniswap_v3","pair":"0x74cf9dd698e01"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.133Z [swap-event-filter] info: Whale alert detected {"usdValue":245078.35882754604,"chain":"ethereum","dex":"uniswap_v3","pair":"0xb5ad62b0a4b288"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.134Z [swap-event-filter] info: Whale alert detected {"usdValue":483815.8834196463,"chain":"ethereum","dex":"uniswap_v3","pair":"0x3d08cf16d49e"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.135Z [swap-event-filter] info: Whale alert detected {"usdValue":267538.3305081618,"chain":"ethereum","dex":"uniswap_v3","pair":"0x2da78ae433aba8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.155Z [swap-event-filter] info: Whale alert detected {"usdValue":532924.2251673919,"chain":"ethereum","dex":"uniswap_v3","pair":"0xf6e470e583de3"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.157Z [swap-event-filter] info: Whale alert detected {"usdValue":477859.3041379033,"chain":"ethereum","dex":"uniswap_v3","pair":"0x02dbad3af493c"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.158Z [swap-event-filter] info: Whale alert detected {"usdValue":555982.1273141252,"chain":"ethereum","dex":"uniswap_v3","pair":"0x2b83bae1149f08"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.159Z [swap-event-filter] info: Whale alert detected {"usdValue":774386.5914996072,"chain":"ethereum","dex":"uniswap_v3","pair":"0xe8b70629613e28"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.160Z [swap-event-filter] info: Whale alert detected {"usdValue":426654.5899497654,"chain":"ethereum","dex":"uniswap_v3","pair":"0xf15f8d86e8ffc8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.161Z [swap-event-filter] info: Whale alert detected {"usdValue":135165.38574161084,"chain":"ethereum","dex":"uniswap_v3","pair":"0xa7a67155ce20f"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.174Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.175Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.177Z [swap-event-filter] info: Whale alert detected {"usdValue":643331.8924461041,"chain":"ethereum","dex":"uniswap_v3","pair":"0x0443fb3370e26"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.178Z [swap-event-filter] info: Whale alert detected {"usdValue":878523.4172301485,"chain":"ethereum","dex":"uniswap_v3","pair":"0x8bc606f38de4"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.180Z [swap-event-filter] info: Whale alert detected {"usdValue":864675.7312684138,"chain":"ethereum","dex":"uniswap_v3","pair":"0x856669af4adb2"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.180Z [swap-event-filter] info: Whale alert detected {"usdValue":641493.0659493223,"chain":"ethereum","dex":"uniswap_v3","pair":"0xe9a9f2024b977"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.181Z [swap-event-filter] info: Whale alert detected {"usdValue":424988.4295036473,"chain":"ethereum","dex":"uniswap_v3","pair":"0x068c24ce25609"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.193Z [swap-event-filter] info: Whale alert detected {"usdValue":270823.68699046073,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1d698db0d5cb78"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.194Z [swap-event-filter] info: Whale alert detected {"usdValue":632236.6796878427,"chain":"ethereum","dex":"uniswap_v3","pair":"0x0976dc035e94d"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.194Z [swap-event-filter] info: Whale alert detected {"usdValue":145661.47550516622,"chain":"ethereum","dex":"uniswap_v3","pair":"0x97bdf1d6a0385"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.195Z [swap-event-filter] info: Whale alert detected {"usdValue":961822.0755011854,"chain":"ethereum","dex":"uniswap_v3","pair":"0xec8c7d6b084ae8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.196Z [swap-event-filter] info: Whale alert detected {"usdValue":898587.0842665995,"chain":"ethereum","dex":"uniswap_v3","pair":"0x5a010eb90886c8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.197Z [swap-event-filter] info: Whale alert detected {"usdValue":640419.9358968862,"chain":"ethereum","dex":"uniswap_v3","pair":"0xe9519ab15291d"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.198Z [swap-event-filter] info: Whale alert detected {"usdValue":857027.4245739072,"chain":"ethereum","dex":"uniswap_v3","pair":"0x109452de80633"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.199Z [swap-event-filter] info: Whale alert detected {"usdValue":721857.2194383149,"chain":"ethereum","dex":"uniswap_v3","pair":"0x8f1a4208200d2"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.200Z [swap-event-filter] info: Whale alert detected {"usdValue":478080.14959284326,"chain":"ethereum","dex":"uniswap_v3","pair":"0xf687b638873a88"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.200Z [swap-event-filter] info: Whale alert detected {"usdValue":282405.59974719334,"chain":"ethereum","dex":"uniswap_v3","pair":"0x2e778978d6cfe8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.201Z [swap-event-filter] info: Whale alert detected {"usdValue":734758.3793061321,"chain":"ethereum","dex":"uniswap_v3","pair":"0xfed2af435d7f18"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.202Z [swap-event-filter] info: Whale alert detected {"usdValue":853424.5560156277,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1c422627601428"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.203Z [swap-event-filter] info: Whale alert detected {"usdValue":529903.4293680135,"chain":"ethereum","dex":"uniswap_v3","pair":"0x506f33b183ade"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.204Z [swap-event-filter] info: Whale alert detected {"usdValue":920648.1670081313,"chain":"ethereum","dex":"uniswap_v3","pair":"0x64ddc5f7e03d08"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.205Z [swap-event-filter] info: Whale alert detected {"usdValue":831242.0443694374,"chain":"ethereum","dex":"uniswap_v3","pair":"0xb8a17b9b828c7"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.206Z [swap-event-filter] info: Whale alert detected {"usdValue":368654.7822051416,"chain":"ethereum","dex":"uniswap_v3","pair":"0x3c25c160bc251"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.207Z [swap-event-filter] info: Whale alert detected {"usdValue":971648.1991904341,"chain":"ethereum","dex":"uniswap_v3","pair":"0x30122cf84f0898"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.208Z [swap-event-filter] info: Whale alert detected {"usdValue":160425.37065900344,"chain":"ethereum","dex":"uniswap_v3","pair":"0xde1a955d81926"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.209Z [swap-event-filter] info: Whale alert detected {"usdValue":702325.8342757836,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1dade09d10e498"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.210Z [swap-event-filter] info: Whale alert detected {"usdValue":166387.13904165337,"chain":"ethereum","dex":"uniswap_v3","pair":"0xb3ddf5d9f72738"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.211Z [swap-event-filter] info: Whale alert detected {"usdValue":803881.428047917,"chain":"ethereum","dex":"uniswap_v3","pair":"0xfb8b86bb0db208"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.212Z [swap-event-filter] info: Whale alert detected {"usdValue":122134.25397856189,"chain":"ethereum","dex":"uniswap_v3","pair":"0x81494de05461e"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.212Z [swap-event-filter] info: Whale alert detected {"usdValue":753367.0760242149,"chain":"ethereum","dex":"uniswap_v3","pair":"0xb793347d72ef88"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.213Z [swap-event-filter] info: Whale alert detected {"usdValue":968326.8290224026,"chain":"ethereum","dex":"uniswap_v3","pair":"0xff866bac72ebb8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.214Z [swap-event-filter] info: Whale alert detected {"usdValue":789802.698488122,"chain":"ethereum","dex":"uniswap_v3","pair":"0x7ef39f40cdb4d"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.215Z [swap-event-filter] info: Whale alert detected {"usdValue":318345.1978302627,"chain":"ethereum","dex":"uniswap_v3","pair":"0x32781997934698"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.216Z [swap-event-filter] info: Whale alert detected {"usdValue":80687.90438664239,"chain":"ethereum","dex":"uniswap_v3","pair":"0xfe1db22a831548"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.217Z [swap-event-filter] info: Whale alert detected {"usdValue":199255.1000012067,"chain":"ethereum","dex":"uniswap_v3","pair":"0xde0405f5e681e"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.218Z [swap-event-filter] info: Whale alert detected {"usdValue":301633.28052750666,"chain":"ethereum","dex":"uniswap_v3","pair":"0x0b30a0b83efd2"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.219Z [swap-event-filter] info: Whale alert detected {"usdValue":802499.2185511914,"chain":"ethereum","dex":"uniswap_v3","pair":"0xbf6ab7a0db526"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.221Z [swap-event-filter] info: Whale alert detected {"usdValue":477020.82809039427,"chain":"ethereum","dex":"uniswap_v3","pair":"0x5d1822f7c7769"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.222Z [swap-event-filter] info: Whale alert detected {"usdValue":958891.071624987,"chain":"ethereum","dex":"uniswap_v3","pair":"0xe25fe4a8b4dbe8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.223Z [swap-event-filter] info: Whale alert detected {"usdValue":907043.7466419066,"chain":"ethereum","dex":"uniswap_v3","pair":"0x6f6dc3921ab38"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.224Z [swap-event-filter] info: Whale alert detected {"usdValue":613425.0443751605,"chain":"ethereum","dex":"uniswap_v3","pair":"0x9c1e6e5883652"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.225Z [swap-event-filter] info: Whale alert detected {"usdValue":325080.73493222427,"chain":"ethereum","dex":"uniswap_v3","pair":"0x4d64878cd9d41"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.248Z [swap-event-filter] info: Whale alert detected {"usdValue":320044.451602914,"chain":"ethereum","dex":"uniswap_v3","pair":"0x983f506d2c334"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.251Z [swap-event-filter] info: Whale alert detected {"usdValue":387531.92722863576,"chain":"ethereum","dex":"uniswap_v3","pair":"0xa03d8d9c638cc8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.252Z [swap-event-filter] info: Whale alert detected {"usdValue":602645.1753866035,"chain":"ethereum","dex":"uniswap_v3","pair":"0x3561c762a710c8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.253Z [swap-event-filter] info: Whale alert detected {"usdValue":801349.9273230366,"chain":"ethereum","dex":"uniswap_v3","pair":"0x8492ee3461e6c"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.254Z [swap-event-filter] info: Whale alert detected {"usdValue":387293.11785248,"chain":"ethereum","dex":"uniswap_v3","pair":"0x41c56ca7e4ecd"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.255Z [swap-event-filter] info: Whale alert detected {"usdValue":726862.8520852303,"chain":"ethereum","dex":"uniswap_v3","pair":"0x85e28f3b2a3e9"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.261Z [swap-event-filter] info: Whale alert detected {"usdValue":542015.2208861408,"chain":"ethereum","dex":"uniswap_v3","pair":"0xc24ceb41302ac8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.263Z [swap-event-filter] info: Whale alert detected {"usdValue":282605.69926496973,"chain":"ethereum","dex":"uniswap_v3","pair":"0x2972903da1c4a8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.264Z [swap-event-filter] info: Whale alert detected {"usdValue":752139.727086021,"chain":"ethereum","dex":"uniswap_v3","pair":"0x443ee5364771b"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.265Z [swap-event-filter] info: Whale alert detected {"usdValue":313250.4948141287,"chain":"ethereum","dex":"uniswap_v3","pair":"0x8a32604b8835f8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.266Z [swap-event-filter] info: Whale alert detected {"usdValue":417953.8596331952,"chain":"ethereum","dex":"uniswap_v3","pair":"0x8e24b319a4c59"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.267Z [swap-event-filter] info: Whale alert detected {"usdValue":771307.515627646,"chain":"ethereum","dex":"uniswap_v3","pair":"0xb306b18083ed2"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.267Z [swap-event-filter] info: Whale alert detected {"usdValue":96574.68162772026,"chain":"ethereum","dex":"uniswap_v3","pair":"0x5f273a4bee2468"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.268Z [swap-event-filter] info: Whale alert detected {"usdValue":188478.3654664383,"chain":"ethereum","dex":"uniswap_v3","pair":"0x9e7c79310455a8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.269Z [swap-event-filter] info: Whale alert detected {"usdValue":119097.75941813321,"chain":"ethereum","dex":"uniswap_v3","pair":"0x01541950093c18"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.270Z [swap-event-filter] info: Whale alert detected {"usdValue":537409.5357958698,"chain":"ethereum","dex":"uniswap_v3","pair":"0xccbfa001615458"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.271Z [swap-event-filter] info: Whale alert detected {"usdValue":768803.3723203872,"chain":"ethereum","dex":"uniswap_v3","pair":"0x6af94ef9965fe"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.272Z [swap-event-filter] info: Whale alert detected {"usdValue":369540.2137940256,"chain":"ethereum","dex":"uniswap_v3","pair":"0x23da2a150b2c58"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.273Z [swap-event-filter] info: Whale alert detected {"usdValue":612245.0067634808,"chain":"ethereum","dex":"uniswap_v3","pair":"0xecdeaa39d8e99"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.274Z [swap-event-filter] info: Whale alert detected {"usdValue":218688.59967573854,"chain":"ethereum","dex":"uniswap_v3","pair":"0x348dbe4cb2e6a8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.275Z [swap-event-filter] info: Whale alert detected {"usdValue":844472.5283359844,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1c2d1db5f1552"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.276Z [swap-event-filter] info: Whale alert detected {"usdValue":187400.8371007539,"chain":"ethereum","dex":"uniswap_v3","pair":"0x3e4d64593ee358"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.277Z [swap-event-filter] info: Whale alert detected {"usdValue":235833.56807227837,"chain":"ethereum","dex":"uniswap_v3","pair":"0x177b1d787391f"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.278Z [swap-event-filter] info: Whale alert detected {"usdValue":777229.2892106329,"chain":"ethereum","dex":"uniswap_v3","pair":"0xb960dffe43d318"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.280Z [swap-event-filter] info: Whale alert detected {"usdValue":672589.8692553978,"chain":"ethereum","dex":"uniswap_v3","pair":"0x0c1377aa55c87"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.281Z [swap-event-filter] info: Whale alert detected {"usdValue":525641.9944205703,"chain":"ethereum","dex":"uniswap_v3","pair":"0xb6f29bcdd04838"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.282Z [swap-event-filter] info: Whale alert detected {"usdValue":739357.2434178365,"chain":"ethereum","dex":"uniswap_v3","pair":"0x3dcddfdfce03e8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.283Z [swap-event-filter] info: Whale alert detected {"usdValue":605144.9308625876,"chain":"ethereum","dex":"uniswap_v3","pair":"0xd7deff13c8cb1"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.284Z [swap-event-filter] info: Whale alert detected {"usdValue":386179.0154301683,"chain":"ethereum","dex":"uniswap_v3","pair":"0xf1a5c23f8dd5c8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.286Z [swap-event-filter] info: Whale alert detected {"usdValue":446247.07270579616,"chain":"ethereum","dex":"uniswap_v3","pair":"0x24a86da6c8bf2"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.288Z [swap-event-filter] info: Whale alert detected {"usdValue":345783.37679622107,"chain":"ethereum","dex":"uniswap_v3","pair":"0x25297374c22618"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.289Z [swap-event-filter] info: Whale alert detected {"usdValue":251112.33117420974,"chain":"ethereum","dex":"uniswap_v3","pair":"0x90a5ff54b6443"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.291Z [swap-event-filter] info: Whale alert detected {"usdValue":953703.8620897195,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1083306bb9b3d"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.292Z [swap-event-filter] info: Whale alert detected {"usdValue":627395.071334744,"chain":"ethereum","dex":"uniswap_v3","pair":"0x8f98caa6c4b0f"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.300Z [swap-event-filter] info: Whale alert detected {"usdValue":307903.5420129937,"chain":"ethereum","dex":"uniswap_v3","pair":"0xe744fca76d184"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.301Z [swap-event-filter] info: Whale alert detected {"usdValue":84072.54790378636,"chain":"ethereum","dex":"uniswap_v3","pair":"0x39abb39608711"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.302Z [swap-event-filter] info: Whale alert detected {"usdValue":486669.6752696903,"chain":"ethereum","dex":"uniswap_v3","pair":"0x284979dc1966f8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.303Z [swap-event-filter] info: Whale alert detected {"usdValue":131412.54731479718,"chain":"ethereum","dex":"uniswap_v3","pair":"0xe79f78ae8d8838"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.303Z [swap-event-filter] info: Whale alert detected {"usdValue":367099.7703017141,"chain":"ethereum","dex":"uniswap_v3","pair":"0x69dae8d686f798"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.308Z [swap-event-filter] info: Whale alert detected {"usdValue":812184.8009518809,"chain":"ethereum","dex":"uniswap_v3","pair":"0x34ca27525d3388"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.309Z [swap-event-filter] info: Whale alert detected {"usdValue":554275.2624422191,"chain":"ethereum","dex":"uniswap_v3","pair":"0x913c6002606618"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.310Z [swap-event-filter] info: Whale alert detected {"usdValue":89336.29606715248,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1f139dc5d5c6c8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.322Z [swap-event-filter] info: Whale alert detected {"usdValue":683964.5263273914,"chain":"ethereum","dex":"uniswap_v3","pair":"0xb88ddf4af5afb"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.323Z [swap-event-filter] info: Whale alert detected {"usdValue":520761.8248027276,"chain":"ethereum","dex":"uniswap_v3","pair":"0x57c0712d9b708"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.324Z [swap-event-filter] info: Whale alert detected {"usdValue":561230.2923141667,"chain":"ethereum","dex":"uniswap_v3","pair":"0x3b5eabaae0da28"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.325Z [swap-event-filter] info: Whale alert detected {"usdValue":447204.54346829344,"chain":"ethereum","dex":"uniswap_v3","pair":"0xdd973d408f92b8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.334Z [swap-event-filter] info: Whale alert detected {"usdValue":324677.8892995906,"chain":"ethereum","dex":"uniswap_v3","pair":"0x7c3d5f8ed2277"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.335Z [swap-event-filter] info: Whale alert detected {"usdValue":998115.915670256,"chain":"ethereum","dex":"uniswap_v3","pair":"0x097545ca128508"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.336Z [swap-event-filter] info: Whale alert detected {"usdValue":393441.415276474,"chain":"ethereum","dex":"uniswap_v3","pair":"0xce684ad174388"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.337Z [swap-event-filter] info: Whale alert detected {"usdValue":588033.4319888593,"chain":"ethereum","dex":"uniswap_v3","pair":"0xdb03178eef8dd"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.338Z [swap-event-filter] info: Whale alert detected {"usdValue":797255.7087726595,"chain":"ethereum","dex":"uniswap_v3","pair":"0x205a3dcded1d"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.339Z [swap-event-filter] info: Whale alert detected {"usdValue":378006.6982529274,"chain":"ethereum","dex":"uniswap_v3","pair":"0xde3d978cd2c93"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.340Z [swap-event-filter] info: Whale alert detected {"usdValue":975856.8817446348,"chain":"ethereum","dex":"uniswap_v3","pair":"0x6e46a7bf976f58"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.342Z [swap-event-filter] info: Whale alert detected {"usdValue":391321.1332084598,"chain":"ethereum","dex":"uniswap_v3","pair":"0x3d7457893d64a8"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.343Z [swap-event-filter] info: Whale alert detected {"usdValue":417360.86008287536,"chain":"ethereum","dex":"uniswap_v3","pair":"0x8b3b8162bab028"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.345Z [swap-event-filter] info: Whale alert detected {"usdValue":827897.5793158222,"chain":"ethereum","dex":"uniswap_v3","pair":"0xa30e400f588a38"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.346Z [swap-event-filter] info: Whale alert detected {"usdValue":646235.8262551024,"chain":"ethereum","dex":"uniswap_v3","pair":"0xad8e03317b5a08"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.347Z [swap-event-filter] info: Whale alert detected {"usdValue":558512.0481239741,"chain":"ethereum","dex":"uniswap_v3","pair":"0x5db6a7a3e84f58"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.349Z [swap-event-filter] info: Whale alert detected {"usdValue":716330.8802287511,"chain":"ethereum","dex":"uniswap_v3","pair":"0x005a6e9fa3c688"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.350Z [swap-event-filter] info: Whale alert detected {"usdValue":243132.57818978615,"chain":"ethereum","dex":"uniswap_v3","pair":"0x5bda1e7fad2ab"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:39.351Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit services/unified-detector/src/__tests__/unit/unified-detector.test.ts
PASS unit services/unified-detector/__tests__/unit/unified-detector.test.ts
PASS integration tests/integration/s2.2.2-base-dex-expansion.integration.test.ts
  â— Console

    console.log
      Pair generation (315 pairs): 0.27ms

      at Object.<anonymous> (tests/integration/s2.2.2-base-dex-expansion.integration.test.ts:507:13)

    console.log
      getEnabledDexes for Base: 0.0001ms average (1000 iterations)

      at Object.<anonymous> (tests/integration/s2.2.2-base-dex-expansion.integration.test.ts:522:13)

PASS integration tests/integration/s2.2.4-token-coverage.integration.test.ts
PASS integration tests/integration/e2e-execution-flow.integration.test.ts (14.469 s)
PASS unit services/execution-engine/__tests__/unit/consumers/opportunity.consumer.test.ts
PASS unit services/execution-engine/__tests__/unit/initialization/initialization.test.ts
PASS unit services/execution-engine/__tests__/unit/services/provider.service.test.ts
PASS integration tests/integration/s1.3-price-matrix.integration.test.ts
  â— Console

    console.log
      2026-02-01T22:51:43.027Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      Average lookup time: 1.504Î¼s

      at Object.<anonymous> (tests/integration/s1.3-price-matrix.integration.test.ts:261:15)

    console.log
      Average write time: 1.625Î¼s

      at Object.<anonymous> (tests/integration/s1.3-price-matrix.integration.test.ts:280:15)

    console.log
      Batch write: 1000 updates in 3.89ms

      at Object.<anonymous> (tests/integration/s1.3-price-matrix.integration.test.ts:303:15)

    console.log
      Average per update: 3.893Î¼s

      at Object.<anonymous> (tests/integration/s1.3-price-matrix.integration.test.ts:304:15)

    console.log
      Map cache: 0.068Î¼s per lookup

      at Object.<anonymous> (tests/integration/s1.3-price-matrix.integration.test.ts:337:15)

    console.log
      PriceMatrix: 0.568Î¼s per lookup

      at Object.<anonymous> (tests/integration/s1.3-price-matrix.integration.test.ts:338:15)

    console.log
      2026-02-01T22:51:43.154Z [price-matrix] info: PriceMatrix initialized {"maxPairs":50,"totalSlots":150,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.156Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key50"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.157Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key51"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.158Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key52"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.158Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key53"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.159Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key54"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.160Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key55"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.160Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key56"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.161Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key57"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.162Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key58"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.174Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key59"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.175Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key60"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.178Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key61"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.180Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key62"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.180Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key63"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.181Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key64"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.182Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key65"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.183Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key66"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.184Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key67"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.184Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key68"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.185Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key69"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.186Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key70"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.187Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key71"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.187Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key72"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.188Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key73"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.189Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key74"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.190Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key75"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.190Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key76"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.191Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key77"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.192Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key78"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.193Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key79"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.194Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key80"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.195Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key81"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.195Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key82"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.196Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key83"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.198Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key84"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.198Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key85"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.199Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key86"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.200Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key87"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.201Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key88"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.201Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key89"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.202Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key90"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.204Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key91"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.204Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key92"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.205Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key93"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.206Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key94"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.207Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key95"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.207Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key96"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.208Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key97"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.209Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key98"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.209Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"key99"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.211Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.238Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.239Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.261Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.262Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.264Z [price-matrix] info: PriceMatrix initialized {"maxPairs":500,"totalSlots":600,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.265Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.266Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.386Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1000,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.387Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.388Z [price-matrix] info: PriceMatrix initialized {"maxPairs":500,"totalSlots":550,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.390Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.392Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.393Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.486Z [price-matrix] info: PriceMatrix initialized {"maxPairs":500,"totalSlots":600,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.487Z [price-matrix] warn: getPriceMatrix called with config but instance already exists; config ignored

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.488Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.490Z [price-matrix] info: PriceMatrix initialized {"maxPairs":500,"totalSlots":600,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.491Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.492Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.494Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.499Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      2026-02-01T22:51:43.500Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.502Z [price-matrix] warn: PriceIndexMapper: All slots used, cannot allocate new key {"key":"overflow_key","usedSlots":5,"maxIndex":5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.503Z [price-matrix] warn: PriceIndexMapper: All slots used, cannot allocate new key {"key":"another_overflow","usedSlots":5,"maxIndex":5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.508Z [price-matrix] info: PriceMatrix initialized {"maxPairs":100,"totalSlots":200,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.510Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.515Z [price-matrix] info: PriceMatrix initialized {"maxPairs":100,"totalSlots":200,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.562Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.563Z [price-matrix] info: PriceMatrix initialized {"maxPairs":100,"totalSlots":200,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.565Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.566Z [price-matrix] info: PriceMatrix initialized {"maxPairs":100,"totalSlots":200,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.567Z [price-matrix] info: PriceMatrix initialized {"maxPairs":10,"totalSlots":10,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.568Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"overflow_key"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.569Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.570Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.571Z [price-matrix] info: PriceMatrix initialized {"maxPairs":100,"totalSlots":200,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.573Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.577Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      Lookup performance after fixes: 0.591Î¼s

      at Object.<anonymous> (tests/integration/s1.3-price-matrix.integration.test.ts:945:13)

    console.log
      2026-02-01T22:51:43.591Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.593Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      Batch write 1000 items: 1.96ms

      at Object.<anonymous> (tests/integration/s1.3-price-matrix.integration.test.ts:972:13)

    console.log
      2026-02-01T22:51:43.600Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:43.603Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      Mixed workload: 5000 ops in 8.95ms (1.791Î¼s/op)

      at Object.<anonymous> (tests/integration/s1.3-price-matrix.integration.test.ts:1004:13)

    console.log
      2026-02-01T22:51:43.615Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit shared/core/__tests__/unit/price-matrix.test.ts
  â— Console

    console.log
      2026-02-01T22:51:44.019Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.047Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.054Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.056Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.059Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.060Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.062Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.064Z [price-matrix] info: PriceMatrix initialized {"maxPairs":500,"totalSlots":550,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.065Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.066Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.067Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.068Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.070Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.071Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.073Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.075Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.077Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.081Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.083Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.084Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.087Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.088Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.090Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.091Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.092Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.093Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.095Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.105Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.107Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.109Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.110Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.112Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.113Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.113Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.115Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.116Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.119Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.120Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.131Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.132Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.134Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.227Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.229Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.231Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.233Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.235Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.236Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.238Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.239Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.240Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.247Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.249Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.251Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.252Z [price-matrix] info: PriceMatrix initialized {"maxPairs":10,"totalSlots":110,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.253Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"bsc:pancakeswap:0xpair0010"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.253Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"bsc:pancakeswap:0xpair0011"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.254Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"bsc:pancakeswap:0xpair0012"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.255Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"bsc:pancakeswap:0xpair0013"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.255Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"bsc:pancakeswap:0xpair0014"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.256Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"bsc:pancakeswap:0xpair0015"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.257Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"bsc:pancakeswap:0xpair0016"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.257Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"bsc:pancakeswap:0xpair0017"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.258Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"bsc:pancakeswap:0xpair0018"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.259Z [price-matrix] warn: PriceMatrix maxPairs limit reached, ignoring new key {"key":"bsc:pancakeswap:0xpair0019"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.260Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.260Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.262Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.263Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.264Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.266Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.269Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.273Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.277Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.278Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.281Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.283Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.284Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.285Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.297Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.299Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.300Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.301Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.302Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.303Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.306Z [price-matrix] warn: PriceIndexMapper: All slots used, cannot allocate new key {"key":"key10","usedSlots":10,"maxIndex":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.307Z [price-matrix] warn: PriceIndexMapper: All slots used, cannot allocate new key {"key":"key11","usedSlots":10,"maxIndex":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.312Z [price-matrix] warn: PriceIndexMapper: All slots used, cannot allocate new key {"key":"key12","usedSlots":10,"maxIndex":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.313Z [price-matrix] warn: PriceIndexMapper: All slots used, cannot allocate new key {"key":"key13","usedSlots":10,"maxIndex":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.315Z [price-matrix] warn: PriceIndexMapper: All slots used, cannot allocate new key {"key":"key14","usedSlots":10,"maxIndex":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.316Z [price-matrix] warn: PriceIndexMapper: All slots used, cannot allocate new key {"key":"key15","usedSlots":10,"maxIndex":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.317Z [price-matrix] warn: PriceIndexMapper: All slots used, cannot allocate new key {"key":"key16","usedSlots":10,"maxIndex":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.318Z [price-matrix] warn: PriceIndexMapper: All slots used, cannot allocate new key {"key":"key17","usedSlots":10,"maxIndex":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.325Z [price-matrix] warn: PriceIndexMapper: All slots used, cannot allocate new key {"key":"key18","usedSlots":10,"maxIndex":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.326Z [price-matrix] warn: PriceIndexMapper: All slots used, cannot allocate new key {"key":"key19","usedSlots":10,"maxIndex":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.343Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.345Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.348Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      Average lookup time: 2.999Î¼s

      at Object.<anonymous> (shared/core/__tests__/unit/price-matrix.test.ts:599:13)

    console.log
      2026-02-01T22:51:44.382Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.384Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      1000 concurrent lookups: 3.73ms

      at Object.<anonymous> (shared/core/__tests__/unit/price-matrix.test.ts:627:13)

    console.log
      2026-02-01T22:51:44.389Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.391Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      Average write time: 2.744Î¼s

      at Object.<anonymous> (shared/core/__tests__/unit/price-matrix.test.ts:645:13)

    console.log
      2026-02-01T22:51:44.396Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.397Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      Batch update: 1000 updates in 2.07ms

      at Object.<anonymous> (shared/core/__tests__/unit/price-matrix.test.ts:674:13)

    console.log
      Average per update: 2.073Î¼s

      at Object.<anonymous> (shared/core/__tests__/unit/price-matrix.test.ts:675:13)

    console.log
      2026-02-01T22:51:44.402Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.403Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.405Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.406Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.415Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.417Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.418Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.420Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.422Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.425Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.427Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.428Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.429Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.431Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.432Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.433Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.435Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.438Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.446Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.449Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.450Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.451Z [price-matrix] warn: setPrice called on destroyed PriceMatrix

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.463Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.465Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.466Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.467Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.470Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.641Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.643Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.645Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.652Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.654Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1000,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.655Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.655Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.662Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.664Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.669Z [price-matrix] info: PriceMatrix initialized {"maxPairs":1000,"totalSlots":1100,"useSharedMemory":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:44.670Z [price-matrix] info: PriceMatrix destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration services/unified-detector/__tests__/integration/detector-lifecycle.integration.test.ts (10.176 s)
  â— Console

    console.log
      Total partitions: 4, Total memory: 2560MB

      at Object.<anonymous> (services/unified-detector/__tests__/integration/detector-lifecycle.integration.test.ts:285:13)

PASS unit shared/core/__tests__/unit/components/price-calculator.test.ts
PASS unit services/execution-engine/__tests__/unit/strategies/flash-loan.strategy.test.ts
PASS unit services/execution-engine/__tests__/unit/engine.test.ts (5.574 s)
PASS unit shared/core/__tests__/unit/risk/position-sizer.test.ts
PASS unit services/execution-engine/__tests__/unit/services/circuit-breaker.test.ts
PASS integration tests/integration/phase1-dex-adapters.integration.test.ts
PASS unit shared/core/__tests__/unit/risk/drawdown-circuit-breaker.test.ts
  â— Console

    console.log
      2026-02-01T22:51:49.201Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.253Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.254Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.255Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.318Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.321Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.323Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.326Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.367Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.368Z [drawdown-circuit-breaker] warn: DrawdownCircuitBreaker: totalCapital is 0, drawdown calculations will be disabled

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.369Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.371Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.373Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.375Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.377Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.379Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.381Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.382Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.383Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3100000000000000000","consecutiveLosses":1,"currentDrawdown":"3.10%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.385Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.386Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3200000000000000000","consecutiveLosses":4,"currentDrawdown":"3.20%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.387Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.388Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3000000000000000000","consecutiveLosses":1,"currentDrawdown":"3.00%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.390Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.391Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.393Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.393Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"60%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.394Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.396Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.400Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.439Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.442Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.443Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.444Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.445Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.446Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.447Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.448Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.449Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-3504000000000000000","consecutiveLosses":5,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.450Z [drawdown-circuit-breaker] warn: HALT triggered by consecutive losses {"consecutiveLosses":5,"maxAllowed":5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.452Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.452Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.453Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.455Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.457Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.458Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.459Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.460Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.461Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.462Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.463Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.464Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.465Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.466Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.467Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.468Z [drawdown-circuit-breaker] warn: Manual reset attempted but cooldown not expired {"cooldownRemainingMs":3600000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.469Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.470Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.471Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.473Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.474Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.475Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.510Z [drawdown-circuit-breaker] info: State transition {"from":"HALT","to":"RECOVERY","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.517Z [drawdown-circuit-breaker] info: Manual reset successful - entering RECOVERY state

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.522Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.523Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.528Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.529Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.530Z [drawdown-circuit-breaker] warn: Manual reset attempted but not in HALT state {"currentState":"NORMAL"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.531Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.532Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.533Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.534Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.535Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.536Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.561Z [drawdown-circuit-breaker] info: State transition {"from":"HALT","to":"RECOVERY","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.562Z [drawdown-circuit-breaker] info: Manual reset successful - entering RECOVERY state

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.563Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.565Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.565Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.583Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.640Z [drawdown-circuit-breaker] info: State transition {"from":"HALT","to":"RECOVERY","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.641Z [drawdown-circuit-breaker] info: Manual reset successful - entering RECOVERY state

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.642Z [drawdown-circuit-breaker] info: State transition {"from":"RECOVERY","to":"NORMAL","dailyPnL":"-5200000000000000000","consecutiveLosses":0,"currentDrawdown":"5.20%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.643Z [drawdown-circuit-breaker] info: Recovery complete - returning to NORMAL trading

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.665Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.666Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.667Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.668Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.703Z [drawdown-circuit-breaker] info: State transition {"from":"HALT","to":"RECOVERY","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.707Z [drawdown-circuit-breaker] info: Manual reset successful - entering RECOVERY state

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.708Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.709Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.710Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.711Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.749Z [drawdown-circuit-breaker] info: State transition {"from":"HALT","to":"RECOVERY","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.750Z [drawdown-circuit-breaker] info: Manual reset successful - entering RECOVERY state

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.752Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.753Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.754Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.755Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.795Z [drawdown-circuit-breaker] info: State transition {"from":"HALT","to":"RECOVERY","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.796Z [drawdown-circuit-breaker] info: Manual reset successful - entering RECOVERY state

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.799Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.803Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.804Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.806Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.833Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.835Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.836Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.838Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.839Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.840Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.842Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.843Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.845Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.846Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.847Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.848Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.850Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.851Z [drawdown-circuit-breaker] info: Capital updated {"newCapital":"200000000000000000000","peakCapital":"200000000000000000000"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.852Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.853Z [drawdown-circuit-breaker] info: Capital updated {"newCapital":"200000000000000000000","peakCapital":"200000000000000000000"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.854Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.855Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-10000000000000000000","consecutiveLosses":1,"currentDrawdown":"10.00%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.856Z [drawdown-circuit-breaker] info: Capital updated {"newCapital":"100000000000000000000","peakCapital":"100000000000000000000"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.857Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.858Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.859Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.860Z [drawdown-circuit-breaker] warn: Force reset triggered - bypassing all safety checks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.861Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.862Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.863Z [drawdown-circuit-breaker] warn: Force reset triggered - bypassing all safety checks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.910Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.911Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.912Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.913Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:49.978Z [drawdown-circuit-breaker] warn: Force reset triggered - bypassing all safety checks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.001Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.002Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.003Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.004Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.006Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.008Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.008Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.009Z [drawdown-circuit-breaker] info: State transition {"from":"CAUTION","to":"HALT","dailyPnL":"-5500000000000000000","consecutiveLosses":2,"currentDrawdown":"5.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.011Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.013Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.038Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.039Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.101Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.126Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"10%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.128Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.129Z [drawdown-circuit-breaker] warn: getDrawdownCircuitBreaker called with config but instance exists; config ignored

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.130Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.131Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.132Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.133Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.134Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.143Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:50.436Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:52.610Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:52.765Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:52.766Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":1,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:52.767Z [drawdown-circuit-breaker] warn: Force reset triggered - bypassing all safety checks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:52.770Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:52.772Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:52.773Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:52.774Z [drawdown-circuit-breaker] info: State transition {"from":"NORMAL","to":"CAUTION","dailyPnL":"-3500000000000000000","consecutiveLosses":6,"currentDrawdown":"3.50%"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:52.776Z [drawdown-circuit-breaker] info: DrawdownCircuitBreaker initialized {"maxDailyLoss":"5%","cautionThreshold":"3%","cautionMultiplier":"75%","maxConsecutiveLosses":5,"enabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit shared/core/__tests__/unit/partition-router.test.ts
PASS unit shared/core/__tests__/unit/partition-service-utils.test.ts
PASS unit services/partition-asia-fast/src/__tests__/unit/index.test.ts
PASS performance tests/performance/hot-path-detection.perf.ts (11.571 s)
  â— Console

    console.log
      Price Calculation Performance:
        avg: 0.004ms
        min: 0.003ms
        max: 0.011ms
        p50: 0.003ms
        p95: 0.006ms
        p99: 0.011ms
        stddev: 0.001ms
        iterations: 100

      at Object.<anonymous> (tests/performance/hot-path-detection.perf.ts:101:15)

    console.log
      Spread Calculation Performance:
        avg: 0.003ms
        min: 0.002ms
        max: 0.018ms
        p50: 0.002ms
        p95: 0.003ms
        p99: 0.018ms
        stddev: 0.002ms
        iterations: 100

      at Object.<anonymous> (tests/performance/hot-path-detection.perf.ts:124:15)

    console.log
      Arbitrage Detection Performance:
        avg: 0.006ms
        min: 0.005ms
        max: 0.014ms
        p50: 0.005ms
        p95: 0.006ms
        p99: 0.014ms
        stddev: 0.001ms
        iterations: 100

      at Object.<anonymous> (tests/performance/hot-path-detection.perf.ts:172:15)

    console.log
      Batch Detection Performance (100 pairs):
        avg: 8.974ms
        min: 5.300ms
        max: 29.873ms
        p50: 7.346ms
        p95: 17.493ms
        p99: 29.873ms
        stddev: 4.269ms
        iterations: 100

      at Object.<anonymous> (tests/performance/hot-path-detection.perf.ts:221:15)

    console.log
      Full Detection Cycle Performance:
        avg: 0.007ms
        min: 0.006ms
        max: 0.040ms
        p50: 0.007ms
        p95: 0.008ms
        p99: 0.040ms
        stddev: 0.003ms
        iterations: 100

      at Object.<anonymous> (tests/performance/hot-path-detection.perf.ts:282:15)

    console.log
      Concurrent worker 1:
        avg: 0.040ms
        min: 0.035ms
        max: 0.041ms
        p50: 0.040ms
        p95: 0.041ms
        p99: 0.041ms
        stddev: 0.002ms
        iterations: 10

      at tests/performance/hot-path-detection.perf.ts:328:17
          at Array.forEach (<anonymous>)

    console.log
      Concurrent worker 2:
        avg: 0.041ms
        min: 0.035ms
        max: 0.053ms
        p50: 0.040ms
        p95: 0.053ms
        p99: 0.053ms
        stddev: 0.004ms
        iterations: 10

      at tests/performance/hot-path-detection.perf.ts:328:17
          at Array.forEach (<anonymous>)

    console.log
      Concurrent worker 3:
        avg: 1.362ms
        min: 0.035ms
        max: 13.261ms
        p50: 0.040ms
        p95: 13.261ms
        p99: 13.261ms
        stddev: 3.966ms
        iterations: 10

      at tests/performance/hot-path-detection.perf.ts:328:17
          at Array.forEach (<anonymous>)

    console.log
      Concurrent worker 4:
        avg: 1.363ms
        min: 0.035ms
        max: 13.277ms
        p50: 0.040ms
        p95: 13.277ms
        p99: 13.277ms
        stddev: 3.971ms
        iterations: 10

      at tests/performance/hot-path-detection.perf.ts:328:17
          at Array.forEach (<anonymous>)

    console.log
      Concurrent worker 5:
        avg: 1.364ms
        min: 0.035ms
        max: 13.282ms
        p50: 0.040ms
        p95: 13.282ms
        p99: 13.282ms
        stddev: 3.973ms
        iterations: 10

      at tests/performance/hot-path-detection.perf.ts:328:17
          at Array.forEach (<anonymous>)

    console.log
      Concurrent worker 6:
        avg: 1.364ms
        min: 0.035ms
        max: 13.286ms
        p50: 0.040ms
        p95: 13.286ms
        p99: 13.286ms
        stddev: 3.974ms
        iterations: 10

      at tests/performance/hot-path-detection.perf.ts:328:17
          at Array.forEach (<anonymous>)

    console.log
      Concurrent worker 7:
        avg: 1.365ms
        min: 0.036ms
        max: 13.291ms
        p50: 0.040ms
        p95: 13.291ms
        p99: 13.291ms
        stddev: 3.975ms
        iterations: 10

      at tests/performance/hot-path-detection.perf.ts:328:17
          at Array.forEach (<anonymous>)

    console.log
      Concurrent worker 8:
        avg: 1.366ms
        min: 0.038ms
        max: 13.295ms
        p50: 0.040ms
        p95: 13.295ms
        p99: 13.295ms
        stddev: 3.977ms
        iterations: 10

      at tests/performance/hot-path-detection.perf.ts:328:17
          at Array.forEach (<anonymous>)

    console.log
      Concurrent worker 9:
        avg: 1.366ms
        min: 0.038ms
        max: 13.300ms
        p50: 0.040ms
        p95: 13.300ms
        p99: 13.300ms
        stddev: 3.978ms
        iterations: 10

      at tests/performance/hot-path-detection.perf.ts:328:17
          at Array.forEach (<anonymous>)

    console.log
      Concurrent worker 10:
        avg: 1.367ms
        min: 0.039ms
        max: 13.304ms
        p50: 0.040ms
        p95: 13.304ms
        p99: 13.304ms
        stddev: 3.979ms
        iterations: 10

      at tests/performance/hot-path-detection.perf.ts:328:17
          at Array.forEach (<anonymous>)

    console.log
      
      Concurrent throughput: 7201 detections/second

      at Object.<anonymous> (tests/performance/hot-path-detection.perf.ts:336:15)

    console.log
      Memory usage change: 0.68MB after 1000 iterations

      at Object.<anonymous> (tests/performance/hot-path-detection.perf.ts:389:15)

PASS unit services/partition-l2-turbo/src/__tests__/unit/index.test.ts
PASS smoke tests/smoke/critical-paths.smoke.ts (12.032 s)
  â— Console

    console.log
      2026-02-01T22:51:53.877Z [distributed-lock] error: Error releasing lock {"key":"lock:smoke:test:lock","error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:53.898Z [distributed-lock] error: Error releasing lock {"key":"lock:smoke:test:lock2","error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit services/partition-high-value/src/__tests__/unit/index.test.ts
PASS unit services/execution-engine/src/__tests__/unit/simulation/hot-fork-synchronizer.test.ts
  â— Console

    console.log
      Anvil not found. Integration tests will be skipped.

      at Object.<anonymous> (services/execution-engine/src/__tests__/unit/simulation/hot-fork-synchronizer.test.ts:31:11)

PASS unit services/cross-chain-detector/src/__tests__/unit/pending-opportunity.test.ts
PASS unit services/cross-chain-detector/src/__tests__/unit/bridge-predictor.test.ts
  â— Console

    console.log
      2026-02-01T22:51:55.196Z [bridge-predictor] info: Bridge predictor cleanup completed {"remainingBridges":0}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:55.212Z [bridge-predictor] info: Bridge predictor cleanup completed {"remainingBridges":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:55.461Z [bridge-predictor] info: Bridge predictor cleanup completed {"remainingBridges":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration tests/integration/s3.1.1-partitioned-detector.integration.test.ts
PASS unit services/cross-chain-detector/src/__tests__/unit/detector.test.ts
PASS integration tests/integration/s3.1.3-partition-asia-fast.integration.test.ts
PASS integration tests/integration/s3.1.4-partition-l2-turbo.integration.test.ts
PASS unit services/execution-engine/__tests__/unit/services/simulation/hot-fork-synchronizer.test.ts
PASS integration tests/integration/s3.3.5-solana-price-feed.integration.test.ts
PASS unit shared/core/__tests__/unit/async-utils.test.ts
PASS unit shared/core/__tests__/unit/distributed-lock.test.ts
  â— Console

    console.log
      2026-02-01T22:51:59.656Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:59.731Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:59.836Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:00.002Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:00.051Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:00.113Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:00.230Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:00.408Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration shared/core/__tests__/integration/detector-lifecycle.integration.test.ts
PASS unit shared/core/__tests__/unit/expert-self-healing.test.ts
  â— Console

    console.log
      2026-02-01T22:51:58.296Z [partition-asia-fast] warn: Failure reported {"component":"websocket","severity":"medium","error":"Connection timeout"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:58.320Z [partition-asia-fast] warn: Failure reported {"component":"websocket","severity":"medium","error":"Connection failed"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:51:58.322Z [partition-asia-fast] warn: Too many active recovery actions, skipping {"activeCount":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.420Z [expert-self-healing-manager] info: Starting Expert Self-Healing Manager

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.422Z [expert-self-healing-manager] warn: Streams client not initialized, skipping consumer group creation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.432Z [expert-self-healing-manager] info: Expert Self-Healing Manager started successfully {"pubsubFallbackEnabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.433Z [expert-self-healing-manager] info: Stopping Expert Self-Healing Manager

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.434Z [expert-self-healing-manager] info: Expert Self-Healing Manager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.458Z [expert-self-healing-manager] info: Starting Expert Self-Healing Manager

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.460Z [expert-self-healing-manager] warn: Streams client not initialized, skipping consumer group creation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.461Z [expert-self-healing-manager] info: Expert Self-Healing Manager started successfully {"pubsubFallbackEnabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.462Z [expert-self-healing-manager] info: Stopping Expert Self-Healing Manager

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.462Z [expert-self-healing-manager] info: Expert Self-Healing Manager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.463Z [expert-self-healing-manager] info: Starting Expert Self-Healing Manager

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.465Z [expert-self-healing-manager] warn: Streams client not initialized, skipping consumer group creation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.472Z [expert-self-healing-manager] info: Expert Self-Healing Manager started successfully {"pubsubFallbackEnabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.473Z [expert-self-healing-manager] info: Stopping Expert Self-Healing Manager

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.474Z [expert-self-healing-manager] info: Expert Self-Healing Manager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.479Z [expert-self-healing-manager] info: Starting Expert Self-Healing Manager

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.481Z [expert-self-healing-manager] warn: Streams client not initialized, skipping consumer group creation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.504Z [expert-self-healing-manager] info: Expert Self-Healing Manager started successfully {"pubsubFallbackEnabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.518Z [expert-self-healing-manager] info: Stopping Expert Self-Healing Manager

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.518Z [expert-self-healing-manager] info: Expert Self-Healing Manager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.520Z [expert-self-healing-manager] info: Starting Expert Self-Healing Manager

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.521Z [expert-self-healing-manager] warn: Streams client not initialized, skipping consumer group creation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.522Z [expert-self-healing-manager] info: Expert Self-Healing Manager started successfully {"pubsubFallbackEnabled":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.523Z [expert-self-healing-manager] info: Stopping Expert Self-Healing Manager

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.524Z [expert-self-healing-manager] info: Expert Self-Healing Manager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.526Z [expert-self-healing-manager] error: Failed to publish to pub/sub {"channel":"system:failures","error":"Redis down"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.527Z [test-service] warn: Failure reported {"component":"component","severity":"medium","error":"Test"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:01.540Z [test-service] error: Recovery action threw exception {"actionId":"recovery_1769986321539_lhxh9abq8","strategy":"restart_service","error":"Recovery failed"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration tests/integration/s2.2-dex-expansion.integration.test.ts
  â— Console

    console.log
      Fee conversion: 0.001435ms average (10000 iterations)

      at Object.<anonymous> (tests/integration/s2.2-dex-expansion.integration.test.ts:679:13)

    console.log
      getEnabledDexes: 0.0001ms average (1000 iterations)

      at Object.<anonymous> (tests/integration/s2.2-dex-expansion.integration.test.ts:696:13)

    console.log
      Pair generation (594 pairs): 0.34ms

      at Object.<anonymous> (tests/integration/s2.2-dex-expansion.integration.test.ts:721:13)

    console.log
      Arbitrage detection: 0.0016ms average (1000 iterations)

      at Object.<anonymous> (tests/integration/s2.2-dex-expansion.integration.test.ts:742:13)

PASS unit shared/test-utils/__tests__/unit/redis-test-helper.test.ts (8.312 s)
  â— Console

    console.warn
      [RedisTestHelper] Database limit reached (15). Wrapping around - some test suites may share databases.

    [0m [90m  97 |[39m   [90m// This is a safety measure; in practice, we shouldn't exceed 15 concurrent test suites[39m
     [90m  98 |[39m   [36mif[39m (nextDatabase [33m>=[39m [33mMAX_DATABASE[39m) {
    [31m[1m>[22m[39m[90m  99 |[39m     console[33m.[39mwarn(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 100 |[39m       [32m`[RedisTestHelper] Database limit reached (${MAX_DATABASE}). `[39m [33m+[39m
     [90m 101 |[39m       [32m`Wrapping around - some test suites may share databases.`[39m
     [90m 102 |[39m     )[33m;[39m[0m

      at getIsolatedRedisDatabase (shared/test-utils/src/redis-test-helper.ts:99:13)
      at Object.<anonymous> (shared/test-utils/__tests__/unit/redis-test-helper.test.ts:86:9)

PASS unit services/execution-engine/__tests__/unit/services/simulation/tenderly-provider.test.ts
PASS integration tests/integration/s3.2.4-cross-chain-detection.integration.test.ts
  â— Console

    console.log
      AVAX-BSC common tokens (5): [ 'USDT', 'USDC', 'WBTC', 'WETH', 'LINK' ]

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:124:15)

    console.log
      FTM-Polygon common tokens (5): [ 'USDT', 'USDC', 'DAI', 'WETH', 'WBTC' ]

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:213:15)

    console.log
      bsc-polygon common tokens (5): [ 'USDT', 'USDC', 'WBTC', 'WETH', 'LINK' ]

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:561:19)

    console.log
      bsc-avalanche common tokens (5): [ 'USDT', 'USDC', 'WBTC', 'WETH', 'LINK' ]

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:561:19)

    console.log
      bsc-fantom common tokens (4): [ 'USDT', 'USDC', 'WBTC', 'WETH' ]

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:561:19)

    console.log
      polygon-avalanche common tokens (8): [ 'USDT', 'USDC', 'DAI', 'WBTC', 'WETH' ]

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:561:19)

    console.log
      polygon-fantom common tokens (5): [ 'USDT', 'USDC', 'DAI', 'WETH', 'WBTC' ]

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:561:19)

    console.log
      avalanche-fantom common tokens (5): [ 'USDT', 'USDC', 'DAI', 'WBTC', 'WETH' ]

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:561:19)

    console.log
      
      === P1 Cross-Chain Detection Summary ===

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:583:15)

    console.log
      Partition: asia-fast

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:584:15)

    console.log
      Chains: bsc, polygon, avalanche, fantom

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:585:15)

    console.log
      Total cross-chain routes: 6

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:586:15)

    console.log
      
      Route details:

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:587:15)

    console.log
        bsc <-> polygon: 5 common tokens

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:592:19)

    console.log
        bsc <-> avalanche: 5 common tokens

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:592:19)

    console.log
        bsc <-> fantom: 4 common tokens

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:592:19)

    console.log
        polygon <-> avalanche: 8 common tokens

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:592:19)

    console.log
        polygon <-> fantom: 5 common tokens

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:592:19)

    console.log
        avalanche <-> fantom: 5 common tokens

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:592:19)

    console.log
      ========================================

      at Object.<anonymous> (tests/integration/s3.2.4-cross-chain-detection.integration.test.ts:595:15)

PASS unit shared/core/__tests__/unit/predictive-warming.test.ts
PASS unit services/execution-engine/__tests__/unit/services/simulation/base-simulation-provider.test.ts
PASS integration tests/integration/s3.3.3-solana-token-configuration.integration.test.ts
  â— Console

    console.log
      Total Solana tokens configured: 15

      at Object.<anonymous> (tests/integration/s3.3.3-solana-token-configuration.integration.test.ts:575:13)

    console.log
      Token category distribution: { anchor: 1, stablecoin: 2, defi: 3, meme: 2, governance: 4, lst: 3 }

      at Object.<anonymous> (tests/integration/s3.3.3-solana-token-configuration.integration.test.ts:600:13)

    console.log
      Decimal distribution: { '5': 1, '6': 8, '9': 6 }

      at Object.<anonymous> (tests/integration/s3.3.3-solana-token-configuration.integration.test.ts:619:13)

PASS integration tests/integration/s3.1.5-partition-high-value.integration.test.ts
PASS unit services/execution-engine/__tests__/unit/strategies/base.strategy.test.ts
PASS integration tests/integration/s3.3.7-solana-partition-deploy.integration.test.ts
PASS unit shared/config/__tests__/unit/dex-factories.test.ts
PASS unit services/cross-chain-detector/src/__tests__/unit/stream-consumer.test.ts
PASS unit shared/security/__tests__/unit/auth.test.ts
PASS integration services/partition-asia-fast/src/__tests__/integration/service.integration.test.ts
PASS integration tests/integration/s4.1.4-standby-service-deployment.integration.test.ts
PASS integration tests/integration/vault-model-dex-regression.integration.test.ts
PASS integration services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts
  â— Console

    console.log
      V2 Decoder accuracy (real data): 100.0% (6/6)

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:173:15)

    console.log
      V3 Decoder accuracy (real data): 100.0% (3/3)

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:232:15)

    console.log
      
      === REAL MAINNET DATA DECODER ACCURACY ===

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:263:15)

    console.log
      Total swap transactions tested: 9

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:264:15)

    console.log
      Successfully decoded: 9

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:265:15)

    console.log
      Accuracy: 100.0%

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:266:15)

    console.log
      Success criteria: >90%

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:267:15)

    console.log
      
      Detailed results:

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:268:15)

    console.log
        âœ“ swapExactETHForTokens â†’ uniswapV2

      at services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:271:17
          at Array.forEach (<anonymous>)

    console.log
        âœ“ swapExactTokensForTokens â†’ uniswapV2

      at services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:271:17
          at Array.forEach (<anonymous>)

    console.log
        âœ“ swapExactTokensForETH â†’ uniswapV2

      at services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:271:17
          at Array.forEach (<anonymous>)

    console.log
        âœ“ swapTokensForExactTokens â†’ uniswapV2

      at services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:271:17
          at Array.forEach (<anonymous>)

    console.log
        âœ“ swapETHForExactTokens â†’ uniswapV2

      at services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:271:17
          at Array.forEach (<anonymous>)

    console.log
        âœ“ swapTokensForExactETH â†’ uniswapV2

      at services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:271:17
          at Array.forEach (<anonymous>)

    console.log
        âœ“ exactInputSingle â†’ uniswapV3

      at services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:271:17
          at Array.forEach (<anonymous>)

    console.log
        âœ“ exactInputSingle â†’ uniswapV3

      at services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:271:17
          at Array.forEach (<anonymous>)

    console.log
        âœ“ exactOutputSingle â†’ uniswapV3

      at services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:271:17
          at Array.forEach (<anonymous>)

    console.log
      ==========================================

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:273:15)

    console.log
      False positive rate (real data): 0.0% (0/3)

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:327:15)

    console.log
      
      === REAL MAINNET MIXED STREAM CLASSIFICATION ===

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:365:15)

    console.log
      Total transactions: 12

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:366:15)

    console.log
        Swaps: 9, Non-swaps: 3

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:367:15)

    console.log
      Results:

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:368:15)

    console.log
        True Positives: 9

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:369:15)

    console.log
        True Negatives: 3

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:370:15)

    console.log
        False Positives: 0

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:371:15)

    console.log
        False Negatives: 0

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:372:15)

    console.log
      Metrics:

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:373:15)

    console.log
        Overall Accuracy: 100.0%

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:374:15)

    console.log
        False Positive Rate: 0.0%

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:375:15)

    console.log
        Recall (swap detection): 100.0%

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:376:15)

    console.log
      ================================================

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:377:15)

    console.log
      
      === DECODE LATENCY (Real Mainnet Data) ===

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:429:13)

    console.log
      Transactions tested: 9

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:430:13)

    console.log
      Average latency: 0.788ms

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:431:13)

    console.log
      Max latency: 1.069ms

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:432:13)

    console.log
      P99 latency: 1.069ms

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:433:13)

    console.log
      Success criteria: <10ms

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:434:13)

    console.log
      ==========================================

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:435:13)

    console.log
      
      === HIGH-THROUGHPUT DECODE PERFORMANCE ===

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:459:13)

    console.log
      Total decodes: 1000

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:460:13)

    console.log
      Total time: 942.96ms

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:461:13)

    console.log
      Average latency per decode: 0.943ms

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:462:13)

    console.log
      Throughput: 1060 decodes/second

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:463:13)

    console.log
      ==========================================

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:464:13)

    console.log
      
      === DETECTION TIMING SIMULATION ===

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:483:13)

    console.log
      Detection timestamp: 1769986327030

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:484:13)

    console.log
      Block inclusion timestamp: 1769986327180

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:485:13)

    console.log
      Lead time: 150ms

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:486:13)

    console.log
      Expected range: 50-300ms

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:487:13)

    console.log
      ===================================

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:488:13)

    console.log
      
      === LEAD TIME DISTRIBUTION ===

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:507:13)

    console.log
      Total samples: 11

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:508:13)

    console.log
      Within range: 11

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:509:13)

    console.log
      Success rate: 100.0%

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:510:13)

    console.log
      ==============================

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:511:13)

    console.log
      
      ============================================================

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:538:13)

    console.log
      SUCCESS CRITERIA VALIDATION SUMMARY

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:539:13)

    console.log
      ============================================================

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:540:13)

    console.log
      Data source: Real Ethereum Mainnet Transactions

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:541:13)

    console.log
      
      Criteria:

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:542:13)

    console.log
        1. Feed Latency:     <10ms per decode

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:543:13)

    console.log
        2. Decoder Accuracy: >90% for Uniswap V2/V3

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:544:13)

    console.log
        3. Detection Timing: 50-300ms before block

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:545:13)

    console.log
        4. False Positive:   <20% on non-swap txs

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:546:13)

    console.log
      
      Test fixtures:

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:547:13)

    console.log
        - 6 real Uniswap V2 swap transactions

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:548:13)

    console.log
        - 3 real Uniswap V3 swap transactions

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:549:13)

    console.log
        - 3 real non-swap transactions

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:550:13)

    console.log
      ============================================================

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:551:13)

PASS unit shared/core/__tests__/unit/cross-region-health.test.ts
PASS unit shared/core/__tests__/unit/swap-event-filter.test.ts
  â— Console

    console.log
      2026-02-01T22:52:06.283Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.302Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.303Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.304Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":100,"whaleThreshold":100000,"dedupWindowMs":10000,"aggregationWindowMs":10000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.306Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.307Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.308Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.309Z [swap-event-filter] info: SwapEventFilter config updated {"config":{"minUsdValue":500,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.310Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.312Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.314Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.315Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.316Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.318Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.320Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.321Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.323Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.324Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.328Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.329Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.330Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.332Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.333Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":100,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.538Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.551Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.552Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.553Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1234567890123456789012345678901234567890"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.555Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.556Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.557Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.558Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.562Z [swap-event-filter] info: Whale alert detected {"usdValue":75000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1234567890123456789012345678901234567890"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.566Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.567Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.568Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1234567890123456789012345678901234567890"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.569Z [swap-event-filter] info: Whale alert detected {"usdValue":100000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1234567890123456789012345678901234567890"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.571Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.572Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.574Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":100,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.740Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.741Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.742Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.743Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":100,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.904Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.931Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.932Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:06.934Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":100,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.104Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.105Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.106Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.109Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.110Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.111Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1234567890123456789012345678901234567890"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.114Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.115Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.116Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1234567890123456789012345678901234567890"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.117Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.119Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.121Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.124Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.124Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1234567890123456789012345678901234567890"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.126Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.127Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.128Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.130Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.131Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.132Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.133Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.141Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.142Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.143Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.144Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.145Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.146Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.147Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.148Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":50,"aggregationWindowMs":5000,"maxDedupCacheSize":100,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.272Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.273Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.276Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.278Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":50,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.383Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.384Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.385Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.387Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.388Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.389Z [swap-event-filter] info: Whale alert detected {"usdValue":1000000000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1234567890123456789012345678901234567890"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.390Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.391Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.392Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.393Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.395Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.396Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.398Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.399Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.400Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.400Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.401Z [swap-event-filter] warn: processEvent called on destroyed filter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.402Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.403Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.404Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.405Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1234567890123456789012345678901234567890"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.406Z [swap-event-filter] info: Whale alert detected {"usdValue":70000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1234567890123456789012345678901234567890"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.407Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.408Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.409Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.410Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":50,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.596Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.597Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.599Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.600Z [swap-event-filter] info: Whale alert detected {"usdValue":60000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1234567890123456789012345678901234567890"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.602Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.603Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.605Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.606Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":50,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.712Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.713Z [swap-event-filter] info: SwapEventFilter initialized {"config":{"minUsdValue":10,"whaleThreshold":50000,"dedupWindowMs":5000,"aggregationWindowMs":5000,"maxDedupCacheSize":10000,"cleanupIntervalMs":30000}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.714Z [swap-event-filter] info: Whale alert detected {"usdValue":100000,"chain":"ethereum","dex":"uniswap_v3","pair":"0x1234567890123456789012345678901234567890"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:07.715Z [swap-event-filter] info: SwapEventFilter destroyed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration tests/integration/s3.1.2-partition-assignment.integration.test.ts
PASS integration tests/integration/s3.3.1-solana-detector.integration.test.ts
PASS integration tests/integration/s3.2.2-fantom-configuration.integration.test.ts
PASS integration tests/integration/s2.2.3-bsc-dex-expansion.integration.test.ts
PASS integration tests/integration/s1.1-redis-streams.integration.test.ts
  â— Console

    console.log
      2026-02-01T22:52:08.505Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.520Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.531Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.532Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.533Z [stream-health-monitor] info: Stream health thresholds updated {"lagWarning":10,"lagCritical":100,"lengthWarning":10000,"lengthCritical":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.535Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.536Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.537Z [stream-health-monitor] info: Stream health thresholds updated {"lagWarning":10,"lagCritical":100,"lengthWarning":10000,"lengthCritical":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.539Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.540Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.542Z [stream-health-monitor] info: Added stream to monitoring {"streamName":"stream:test-alert"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.543Z [stream-health-monitor] info: Removed stream from monitoring {"streamName":"stream:test-alert"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.543Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.544Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.548Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.549Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.555Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.557Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.558Z [stream-health-monitor] info: Default consumer group updated {"groupName":"custom-group"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.559Z [stream-health-monitor] info: Default consumer group updated {"groupName":"another-group"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.560Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.561Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.562Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.564Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.565Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      1769986328813 [stream-health-monitor] warn: Stream alert triggered Redis Streams connection unavailable {"type":"stream_unavailable","severity":"critical","stream":"all"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.816Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.828Z [redis-streams] error: Error flushing batch {"error":{},"streamName":"stream:test","batchSize":5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.852Z [redis-streams] error: XINFO error {"error":{},"streamName":"stream:price-updates"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.853Z [stream-health-monitor] warn: Failed to get health for stream: stream:price-updates {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:08.856Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      Performance: 1000 messages in 225.42ms

      at Object.<anonymous> (tests/integration/s1.1-redis-streams.integration.test.ts:893:15)

    console.log
      Compression ratio: 500.0:1

      at Object.<anonymous> (tests/integration/s1.1-redis-streams.integration.test.ts:894:15)

    console.log
      Health check avg latency: 0.04ms

      at Object.<anonymous> (tests/integration/s1.1-redis-streams.integration.test.ts:917:15)

    console.log
      2026-02-01T22:52:09.104Z [stream-health-monitor] info: Stream health monitoring stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit shared/core/__tests__/unit/multi-leg-worker.test.ts
PASS unit services/unified-detector/src/__tests__/unit/subscription-migration.test.ts
PASS integration shared/core/__tests__/integration/phase1-phase2-integration.integration.test.ts
PASS unit shared/core/__tests__/unit/redis.test.ts
  â— Console

    console.log
      2026-02-01T22:52:09.568Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:09.632Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:09.756Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:09.935Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:09.972Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:10.033Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:10.169Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:10.336Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:10.346Z [redis-client] error: Error publishing message {"error":{},"channel":"test"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:10.434Z [redis-client] error: Error getting cache {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:10.477Z [redis-client] error: Error getting cache {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:10.481Z [redis-client] error: Error subscribing to channel {"error":{},"channel":"test-channel"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:10.497Z [redis-client] error: Error executing Lua script {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:10.497Z [redis-client] error: Error renewing lock {"error":{},"key":"lock:test","instanceId":"instance-1"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:10.546Z [redis-client] error: Error executing Lua script {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:10.548Z [redis-client] error: Error releasing lock {"error":{},"key":"lock:test","instanceId":"instance-1"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit shared/core/__tests__/unit/risk/ev-calculator.test.ts
PASS integration tests/integration/s2.2.5-pair-initialization.integration.test.ts
PASS unit shared/core/__tests__/unit/price-oracle.test.ts
  â— Console

    console.log
      2026-02-01T22:52:10.855Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:10.994Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.163Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.337Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.403Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.492Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.614Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.799Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration tests/integration/s4.1.5-failover-scenarios.integration.test.ts
PASS unit shared/core/__tests__/unit/risk/execution-probability-tracker.test.ts
PASS unit shared/core/__tests__/unit/tier3-optimizations.test.ts
  â— Console

    console.log
      2026-02-01T22:52:11.600Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.647Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":28}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.655Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.664Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":6,"foundOpportunities":20,"processingTime":8}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.669Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.685Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":15}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.688Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.696Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":6}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.698Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.704Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.714Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.725Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.735Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":6,"foundOpportunities":20,"processingTime":8}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.740Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.764Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":7}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.813Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.826Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":11}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.828Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.829Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":5,"timeoutMs":2000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.837Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":6,"foundOpportunities":20,"processingTime":7}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.839Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.841Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.857Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.868Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":4}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.872Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.877Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":4}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.880Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.881Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.886Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.888Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.896Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":true,"l2Enabled":true,"l3Enabled":true,"l1Size":128,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.929Z [cross-dex-triangular-arbitrage] info: Found 0 triangular arbitrage opportunities {"chain":"ethereum","totalPools":17,"processingTime":3,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.934Z [cross-dex-triangular-arbitrage] info: Found 0 quadrilateral arbitrage opportunities {"chain":"ethereum","totalPools":17,"processingTime":3,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:11.939Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":4}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.004Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.099Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.218Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.409Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.412Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.414Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.462Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":47}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.463Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.471Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":8,"processingTime":7}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.473Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.474Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":0,"processingTime":0}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.477Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.481Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.482Z [multi-leg-path-finder] info: MultiLegPathFinder config updated {"minProfitThreshold":0.005}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.483Z [multi-leg-path-finder] info: MultiLegPathFinder config updated {"minProfitThreshold":0.001}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.484Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.494Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":9}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.497Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.498Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.510Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"bsc","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      2026-02-01T22:52:12.511Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"arbitrum","totalPools":17,"targetPathLength":5,"foundOpportunities":18,"processingTime":11}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      2026-02-01T22:52:12.513Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":20,"processingTime":14}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      2026-02-01T22:52:12.533Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":15,"timeoutMs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.534Z [multi-leg-path-finder] info: MultiLegPathFinder initialized {"maxPathLength":7,"minPathLength":5,"maxCandidatesPerHop":100,"timeoutMs":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.537Z [multi-leg-path-finder] warn: Path finding timeout reached

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.537Z [multi-leg-path-finder] info: Multi-leg path finding complete {"chain":"ethereum","totalPools":17,"targetPathLength":5,"foundOpportunities":8,"processingTime":2}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit shared/core/__tests__/unit/base-detector-streams.test.ts
PASS integration tests/integration/s2.1-optimism.integration.test.ts
  â— Console

    console.log
      Price calculation: 0.0026ms average (1000 iterations)

      at Object.<anonymous> (tests/integration/s2.1-optimism.integration.test.ts:688:13)

    console.log
      Arbitrage detection: 0.0016ms average (1000 iterations)

      at Object.<anonymous> (tests/integration/s2.1-optimism.integration.test.ts:708:13)

(node:40936) [DEP0169] DeprecationWarning: `url.parse()` behavior is not standardized and prone to errors that have security implications. Use the WHATWG URL API instead. CVEs are not issued for `url.parse()` vulnerabilities.
PASS integration tests/integration/phase3-5-cross-chain-execution.integration.test.ts
  â— Console

    console.log
      2026-02-01T22:52:12.754Z [stargate-router] info: Bridge completed {"bridgeId":"complete-test-bridge","destTxHash":"0xdest","amountReceived":"999000000"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:12.775Z [stargate-router] warn: Bridge failed {"bridgeId":"fail-test-bridge","error":"Destination reverted"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.485Z [stargate-router] info: Bridge completed {"bridgeId":"e2e-test-bridge","destTxHash":"0xdesttx","amountReceived":"998000000"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.487Z [stargate-router] warn: Bridge failed {"bridgeId":"e2e-fail-bridge","error":"Destination chain reverted"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.506Z [stargate-router] info: Bridge completed {"bridgeId":"concurrent-bridge-0","destTxHash":"0xdest0","amountReceived":"1000"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      2026-02-01T22:52:13.507Z [stargate-router] info: Bridge completed {"bridgeId":"concurrent-bridge-1","destTxHash":"0xdest1","amountReceived":"1001"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      2026-02-01T22:52:13.507Z [stargate-router] info: Bridge completed {"bridgeId":"concurrent-bridge-2","destTxHash":"0xdest2","amountReceived":"1002"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      2026-02-01T22:52:13.508Z [stargate-router] info: Bridge completed {"bridgeId":"concurrent-bridge-3","destTxHash":"0xdest3","amountReceived":"1003"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      2026-02-01T22:52:13.509Z [stargate-router] info: Bridge completed {"bridgeId":"concurrent-bridge-4","destTxHash":"0xdest4","amountReceived":"1004"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 4)

    console.log
      2026-02-01T22:52:13.510Z [stargate-router] info: Bridge completed {"bridgeId":"concurrent-bridge-5","destTxHash":"0xdest5","amountReceived":"1005"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 5)

    console.log
      2026-02-01T22:52:13.511Z [stargate-router] info: Bridge completed {"bridgeId":"concurrent-bridge-6","destTxHash":"0xdest6","amountReceived":"1006"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 6)

    console.log
      2026-02-01T22:52:13.554Z [stargate-router] info: Bridge completed {"bridgeId":"concurrent-bridge-7","destTxHash":"0xdest7","amountReceived":"1007"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 7)

    console.log
      2026-02-01T22:52:13.605Z [stargate-router] info: Bridge completed {"bridgeId":"concurrent-bridge-8","destTxHash":"0xdest8","amountReceived":"1008"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 8)

    console.log
      2026-02-01T22:52:13.606Z [stargate-router] info: Bridge completed {"bridgeId":"concurrent-bridge-9","destTxHash":"0xdest9","amountReceived":"1009"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 9)

PASS unit shared/core/__tests__/unit/dex-adapters/balancer-v2-adapter.test.ts
PASS integration shared/core/__tests__/integration/professional-quality.integration.test.ts
  â— Console

    console.log
      2026-02-01T22:52:13.957Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.982Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982733981 - 1769986333981"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.985Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.986Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982733986 - 1769986333986"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.987Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982733986 - 1769986333986"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.987Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982733987 - 1769986333987"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.988Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982733988 - 1769986333988"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.989Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982733989 - 1769986333989"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.991Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.992Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982733992 - 1769986333992"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:13.994Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:14.005Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:14.007Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:14.009Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:14.011Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:14.012Z [professional-quality-monitor] error: Failed to get current quality score {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:14.013Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:14.056Z [professional-quality-monitor] error: Failed to record detection result {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:14.057Z [professional-quality-monitor] error: Failed to record detection result {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration services/cross-chain-detector/src/__tests__/integration/detector-integration.integration.test.ts
PASS integration tests/integration/s3.3.6-solana-arbitrage-detector.integration.test.ts
  â— Console

    console.log
      SolanaArbitrageDetector initialized {
        chainId: 'solana',
        minProfitThreshold: 0.3,
        crossChainEnabled: true,
        triangularEnabled: true,
        hasStreamsClient: false
      }

      at new SolanaArbitrageDetector (services/partition-solana/src/arbitrage-detector.ts:255:17)

PASS unit shared/core/__tests__/unit/base-detector.test.ts
  â— Console

    console.log
      2026-02-01T22:52:15.189Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.239Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.241Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.244Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.258Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.259Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.263Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.266Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.267Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.294Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.299Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.300Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.304Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.307Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.307Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.310Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.313Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.314Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.317Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.319Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.320Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.323Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.333Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.336Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.337Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.339Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.344Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.349Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.350Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.359Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.382Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.387Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.388Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.399Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.402Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.402Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.405Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.408Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.408Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.411Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.416Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.420Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.424Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.428Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.439Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.443Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.449Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.454Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.465Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.468Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.469Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.472Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.475Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.475Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.478Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.489Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.490Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.496Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.499Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.499Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.516Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.522Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.522Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.524Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.528Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.528Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.531Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.566Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.567Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.585Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.623Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.627Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.629Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.631Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.635Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.635Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.638Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.640Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.641Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.646Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.654Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.655Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.658Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.668Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.696Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.allSettled (index 1)

    console.log
      2026-02-01T22:52:15.697Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.707Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.712Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.713Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.719Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.725Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.726Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.731Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.739Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.740Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.742Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.746Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.747Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.749Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.752Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.753Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.755Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.759Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.761Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.766Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.771Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.772Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.776Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.782Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.783Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.786Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.789Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.790Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.792Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.795Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.796Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.798Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.803Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.805Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.806Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.806Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.807Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.810Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.813Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.815Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.816Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.817Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.818Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.820Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.823Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.826Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.827Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.827Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.828Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.831Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.834Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.844Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.846Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.847Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.848Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.852Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.856Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.859Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.859Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.860Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.861Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.863Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.889Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.906Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.910Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.911Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.916Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.919Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.933Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.936Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.937Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.937Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.938Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.941Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.945Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.948Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.948Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.949Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.949Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.951Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.955Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.958Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.959Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.960Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.960Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.962Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.964Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.966Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.968Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.970Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.971Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.973Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.000Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.001Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.004Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.006Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.007Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.011Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.013Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.014Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.016Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.019Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.020Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.022Z [event-batcher] info: EventBatcher initialized {"maxBatchSize":20,"maxWaitTime":30,"maxQueueSize":1000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.024Z [event-batcher] info: Destroying EventBatcher

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.025Z [event-batcher] info: EventBatcher destroyed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit shared/core/__tests__/unit/fixes-regression.test.ts
PASS integration services/partition-high-value/src/__tests__/integration/service.integration.test.ts
FAIL unit shared/core/__tests__/unit/tier2-optimizations.test.ts
  â— Console

    console.log
      2026-02-01T22:52:15.193Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":false,"l2Enabled":false,"l3Enabled":true,"l1Size":64,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.240Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":false,"l2Enabled":false,"l3Enabled":true,"l1Size":64,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.255Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":false,"l2Enabled":false,"l3Enabled":true,"l1Size":64,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.258Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":false,"l2Enabled":false,"l3Enabled":true,"l1Size":64,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.260Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":false,"l2Enabled":false,"l3Enabled":true,"l1Size":64,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.261Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":false,"l2Enabled":false,"l3Enabled":true,"l1Size":64,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.267Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":false,"l2Enabled":false,"l3Enabled":true,"l1Size":64,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.269Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":false,"l2Enabled":false,"l3Enabled":true,"l1Size":64,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      L3 eviction performance: 21.65ms for 1000 evictions (0.022ms/op)

      at Object.<anonymous> (shared/core/__tests__/unit/tier2-optimizations.test.ts:409:15)

    console.log
      2026-02-01T22:52:15.303Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":false,"l2Enabled":false,"l3Enabled":true,"l1Size":64,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.306Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":false,"l2Enabled":false,"l3Enabled":true,"l1Size":64,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.308Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":false,"l2Enabled":false,"l3Enabled":true,"l1Size":64,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.317Z [hierarchical-cache] info: Hierarchical cache initialized {"l1Enabled":true,"l2Enabled":true,"l3Enabled":true,"l1Size":128,"predictiveWarmingEnabled":false}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.330Z [cross-dex-triangular-arbitrage] info: Found 0 quadrilateral arbitrage opportunities {"chain":"ethereum","totalPools":11,"processingTime":1,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.368Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.486Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.610Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.786Z [redis-client] error: Redis main client error {"error":{"code":"ECONNREFUSED"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.789Z [cross-dex-triangular-arbitrage] info: Found 0 quadrilateral arbitrage opportunities {"chain":"ethereum","totalPools":11,"processingTime":0,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.790Z [cross-dex-triangular-arbitrage] info: Found 0 quadrilateral arbitrage opportunities {"chain":"ethereum","totalPools":11,"processingTime":0,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.792Z [cross-dex-triangular-arbitrage] info: Found 0 quadrilateral arbitrage opportunities {"chain":"ethereum","totalPools":11,"processingTime":0,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.793Z [cross-dex-triangular-arbitrage] info: Found 0 quadrilateral arbitrage opportunities {"chain":"ethereum","totalPools":11,"processingTime":0,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.794Z [cross-dex-triangular-arbitrage] info: Found 0 quadrilateral arbitrage opportunities {"chain":"ethereum","totalPools":11,"processingTime":0,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.795Z [cross-dex-triangular-arbitrage] info: Found 0 quadrilateral arbitrage opportunities {"chain":"ethereum","totalPools":11,"processingTime":0,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      Quadrilateral detection time: 1.66ms

      at Object.<anonymous> (shared/core/__tests__/unit/tier2-optimizations.test.ts:686:15)

    console.log
      2026-02-01T22:52:15.801Z [cross-dex-triangular-arbitrage] info: Found 0 quadrilateral arbitrage opportunities {"chain":"ethereum","totalPools":110,"processingTime":3,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      Large pool detection (110 pools): 3.43ms

      at Object.<anonymous> (shared/core/__tests__/unit/tier2-optimizations.test.ts:719:15)

    console.log
      2026-02-01T22:52:15.804Z [cross-dex-triangular-arbitrage] info: Found 0 triangular arbitrage opportunities {"chain":"ethereum","totalPools":11,"processingTime":1,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.805Z [cross-dex-triangular-arbitrage] info: Found 0 quadrilateral arbitrage opportunities {"chain":"ethereum","totalPools":11,"processingTime":0,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.807Z [cross-dex-triangular-arbitrage] info: Found 0 triangular arbitrage opportunities {"chain":"ethereum","totalPools":11,"processingTime":0,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.808Z [cross-dex-triangular-arbitrage] info: Found 0 quadrilateral arbitrage opportunities {"chain":"ethereum","totalPools":11,"processingTime":0,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.812Z [cross-dex-triangular-arbitrage] info: Found 0 quadrilateral arbitrage opportunities {"chain":"ethereum","totalPools":11,"processingTime":0,"profitRange":"N/A"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.823Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.830Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.833Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.835Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.836Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.839Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.840Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.842Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.843Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.846Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.848Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.850Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.857Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.862Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.864Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.866Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.868Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.871Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.872Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.874Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.875Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.876Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.877Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:15.882Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      10k price updates processed in 50.68ms

      at Object.<anonymous> (shared/core/__tests__/unit/tier2-optimizations.test.ts:1122:15)

    console.log
      2026-02-01T22:52:15.935Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      1k signal calculations in 222.51ms (0.223ms/op)

      at Object.<anonymous> (shared/core/__tests__/unit/tier2-optimizations.test.ts:1142:15)

    console.log
      2026-02-01T22:52:16.353Z [price-momentum] info: PriceMomentumTracker initialized {"windowSize":100,"emaPeriods":[5,15,60]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.511Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.516Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.517Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.517Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.518Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.518Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.519Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.519Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.520Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.520Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.521Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.5,"baseWeight":0.5,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.521Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.522Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.522Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.523Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.523Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.524Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.524Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.524Z [ml-opportunity-scorer] warn: ML and base weights do not sum to 1, normalizing {"mlWeight":0.4,"baseWeight":0.8}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.525Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3333333333333333,"baseWeight":0.6666666666666666,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.525Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.526Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.5,"baseWeight":0.5,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.526Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.527Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.527Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.528Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.528Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.529Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.529Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.530Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.530Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.531Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.531Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.532Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.533Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.533Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.534Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.534Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.535Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.535Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.536Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.537Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.537Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.538Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.539Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.541Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:16.541Z [ml-opportunity-scorer] info: MLOpportunityScorer initialized {"mlWeight":0.3,"baseWeight":0.7,"minMLConfidence":0.5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

  â— T2.7: Price Momentum Detection â€º Performance â€º should calculate signals quickly

    expect(received).toBeLessThan(expected)

    Expected: < 200
    Received:   222.51320000000123

    [0m [90m 1143 |[39m
     [90m 1144 |[39m       [90m// Should complete in under 200ms (increased from 50ms for CI environment stability)[39m
    [31m[1m>[22m[39m[90m 1145 |[39m       expect(elapsed)[33m.[39mtoBeLessThan([35m200[39m)[33m;[39m
     [90m      |[39m                       [31m[1m^[22m[39m
     [90m 1146 |[39m     })[33m;[39m
     [90m 1147 |[39m   })[33m;[39m
     [90m 1148 |[39m })[33m;[39m[0m

      at Object.<anonymous> (shared/core/__tests__/unit/tier2-optimizations.test.ts:1145:23)

PASS unit shared/core/__tests__/unit/regression.test.ts
PASS integration services/partition-l2-turbo/src/__tests__/integration/service.integration.test.ts
PASS integration tests/integration/s3.2.3-fantom-p1-integration.integration.test.ts
  â— Console

    console.log
      P1 Partition DEX Summary:

      at Object.<anonymous> (tests/integration/s3.2.3-fantom-p1-integration.integration.test.ts:700:13)

    console.log
        Total configured: 22

      at Object.<anonymous> (tests/integration/s3.2.3-fantom-p1-integration.integration.test.ts:701:13)

    console.log
        Total enabled: 22

      at Object.<anonymous> (tests/integration/s3.2.3-fantom-p1-integration.integration.test.ts:702:13)

    console.log
        bsc: 8/8 enabled

      at Object.<anonymous> (tests/integration/s3.2.3-fantom-p1-integration.integration.test.ts:707:15)

    console.log
        polygon: 4/4 enabled

      at Object.<anonymous> (tests/integration/s3.2.3-fantom-p1-integration.integration.test.ts:707:15)

    console.log
        avalanche: 6/6 enabled

      at Object.<anonymous> (tests/integration/s3.2.3-fantom-p1-integration.integration.test.ts:707:15)

    console.log
        fantom: 4/4 enabled

      at Object.<anonymous> (tests/integration/s3.2.3-fantom-p1-integration.integration.test.ts:707:15)

PASS unit shared/core/__tests__/unit/nonce-manager.test.ts
  â— Console

    console.log
      2026-02-01T22:52:17.764Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.776Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.780Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.782Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.784Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.842Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.846Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.863Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.866Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.868Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.871Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.872Z [nonce-manager] warn: Transaction failed {"chain":"ethereum","nonce":0,"error":"Transaction reverted"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.872Z [nonce-manager] info: Nonce state reset due to failed transaction {"chain":"ethereum","nonce":0}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.873Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.881Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.882Z [nonce-manager] warn: Transaction failed {"chain":"ethereum","nonce":0,"error":"Transaction reverted"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.883Z [nonce-manager] info: Nonce state reset due to failed transaction {"chain":"ethereum","nonce":0}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.884Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.889Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.906Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.909Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.911Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.914Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.915Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.922Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.928Z [nonce-manager] info: Chain nonce state reset {"chain":"ethereum","newNonce":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.929Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.932Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.933Z [nonce-manager] info: Chain nonce state reset {"chain":"ethereum","newNonce":0}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.935Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.937Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.940Z [nonce-manager] info: Chain nonce state reset {"chain":"ethereum","newNonce":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.942Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.946Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.948Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.949Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.951Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.951Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.952Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.953Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.955Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.956Z [nonce-manager] info: NonceManager started

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.962Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.962Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.963Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.967Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.968Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.981Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.982Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.986Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.989Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.991Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.993Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.995Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:17.997Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.004Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.006Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.016Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.017Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.019Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.021Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.027Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.028Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.069Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.070Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.072Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.073Z [nonce-manager] info: Wallet registered for nonce management {"chain":"ethereum","address":"0x12345678..."}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.075Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:18.075Z [nonce-manager] info: NonceManager stopped

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS integration tests/integration/s3.3.2-solana-dex-configuration.integration.test.ts
  â— Console

    console.log
      Total Solana DEXs configured: 7

      at Object.<anonymous> (tests/integration/s3.3.2-solana-dex-configuration.integration.test.ts:659:13)

    console.log
      Enabled Solana DEXs: 6

      at Object.<anonymous> (tests/integration/s3.3.2-solana-dex-configuration.integration.test.ts:666:13)

    console.log
      DEX type distribution: { aggregator: 1, amm: 1, clmm: 2, dlmm: 1, orderbook: 1, pmm: 1 }

      at Object.<anonymous> (tests/integration/s3.3.2-solana-dex-configuration.integration.test.ts:682:13)

    console.log
      Average Solana DEX fee: 18.57 basis points

      at Object.<anonymous> (tests/integration/s3.3.2-solana-dex-configuration.integration.test.ts:691:13)

PASS unit services/execution-engine/__tests__/unit/api/circuit-breaker-api.test.ts
PASS unit shared/core/__tests__/unit/adr-002-compliance.test.ts
PASS unit shared/core/__tests__/unit/hierarchical-cache.test.ts
PASS integration tests/integration/s3.3.4-solana-swap-parser.integration.test.ts
  â— Console

    console.log
      2026-02-01T22:52:19.265Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.295Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","orca"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.310Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"1000000"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.312Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.313Z [solana-swap-parser] info: SwapParser config updated {"config":{"enabledDexes":["orca"],"minAmountThreshold":"0","parseJupiterRoutes":false}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.416Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.417Z [solana-swap-parser] warn: SolanaSwapParser already initialized, config ignored. Use updateConfig() to modify. {"providedConfig":{"enabledDexes":["orca"]}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.419Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.420Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.421Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.423Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.424Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.425Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.427Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.428Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.430Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.431Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.433Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.435Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.438Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.441Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.442Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.444Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.445Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.464Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.465Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.466Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.470Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.478Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.480Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.485Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.487Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.488Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"500000000"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.489Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.490Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.492Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.508Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.510Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.517Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.531Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.537Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.543Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.545Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.547Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.550Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.552Z [solana-swap-parser] info: SolanaSwapParser initialized {"enabledDexes":["raydium","raydium-clmm","orca","meteora","phoenix","lifinity"],"minAmountThreshold":"0"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      S3.3.4 Total planned tests: 93

      at Object.<anonymous> (tests/integration/s3.3.4-solana-swap-parser.integration.test.ts:1317:13)

PASS integration tests/integration/s3.2.1-avalanche-configuration.integration.test.ts
PASS unit services/execution-engine/__tests__/unit/services/simulation/types.test.ts
PASS unit shared/core/__tests__/unit/tier3-advanced.test.ts
  â— Console

    console.log
      2026-02-01T22:52:19.826Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.866Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.868Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.871Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.872Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":70000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.873Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":80000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.874Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":90000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.876Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.877Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.878Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.879Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.881Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.882Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"USDT","direction":"sell","confidence":0.65,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.883Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"USDT","direction":"sell","confidence":0.65,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.884Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"USDT","direction":"sell","confidence":0.65,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.919Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.920Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.5,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.921Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"USDT","direction":"sell","confidence":0.5,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.922Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.5,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.923Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"USDT","direction":"sell","confidence":0.5,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.924Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.925Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.927Z [whale-activity-tracker] info: Whale signal generated {"type":"front_run","token":"WETH","direction":"buy","confidence":0.55,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.927Z [whale-activity-tracker] info: Whale signal generated {"type":"front_run","token":"USDT","direction":"sell","confidence":0.55,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.928Z [whale-activity-tracker] info: Whale signal generated {"type":"front_run","token":"WETH","direction":"buy","confidence":0.55,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.929Z [whale-activity-tracker] info: Whale signal generated {"type":"front_run","token":"USDT","direction":"sell","confidence":0.55,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.930Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.932Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.933Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.934Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.935Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.936Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.937Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.938Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.939Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.940Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.941Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.942Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.85,"usdValue":600000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.943Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.944Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.945Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.946Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.948Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.949Z [whale-activity-tracker] error: Signal handler error {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.950Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.951Z [whale-activity-tracker] error: Signal handler error {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.952Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.954Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.956Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.958Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.959Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.960Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.961Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.962Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"WETH","direction":"buy","confidence":0.7,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.965Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"USDT","direction":"sell","confidence":0.65,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.979Z [whale-activity-tracker] info: Whale signal generated {"type":"follow","token":"USDT","direction":"sell","confidence":0.65,"usdValue":100000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.982Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.983Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.985Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.986Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.988Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.989Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.989Z [whale-activity-tracker] info: WhaleActivityTracker initialized {"whaleThresholdUsd":50000,"activityWindowMs":86400000,"maxTrackedWallets":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.991Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:19.998Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.030Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.045Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.056Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.058Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.060Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.062Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.064Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.066Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.071Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.077Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.084Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.089Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.093Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.131Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.148Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":10,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.150Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.152Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.154Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.155Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":1000,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.156Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.157Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":1000,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.158Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":1000,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.159Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.160Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.162Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.164Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.166Z [liquidity-depth-analyzer] warn: Pool update skipped: missing poolAddress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.168Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.169Z [liquidity-depth-analyzer] warn: Pool update skipped: negative reserves {"poolAddress":"0xPOOL7ab6d8a7"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.178Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.181Z [liquidity-depth-analyzer] warn: Pool update skipped: invalid price {"poolAddress":"0xPOOLb79950e2","price":0}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.183Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.184Z [liquidity-depth-analyzer] warn: Pool update skipped: invalid price {"poolAddress":"0xPOOL58e4632b","price":-100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.186Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.190Z [liquidity-depth-analyzer] warn: Pool update skipped: invalid price {"poolAddress":"0xPOOLa7859091","price":null}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.192Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.192Z [liquidity-depth-analyzer] warn: Pool update skipped: invalid price {"poolAddress":"0xPOOL1d89afc5","price":null}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.194Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.195Z [liquidity-depth-analyzer] warn: Pool update skipped: invalid liquidityUsd {"poolAddress":"0xPOOL49e4f5e7"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.197Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.198Z [liquidity-depth-analyzer] warn: Pool update skipped: invalid liquidityUsd {"poolAddress":"0xPOOLfb639b5e"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.208Z [liquidity-depth-analyzer] info: LiquidityDepthAnalyzer initialized {"depthLevels":10,"maxTrackedPools":100,"cacheTtlMs":30000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit shared/core/__tests__/unit/tier1-optimizations.test.ts
  â— Console

    console.log
      LRU Performance (10000 items):

      at Object.<anonymous> (shared/core/__tests__/unit/tier1-optimizations.test.ts:164:15)

    console.log
        Add:    15.71ms (1.571Î¼s/op)

      at Object.<anonymous> (shared/core/__tests__/unit/tier1-optimizations.test.ts:165:15)

    console.log
        Touch:  1.18ms (0.471Î¼s/op)

      at Object.<anonymous> (shared/core/__tests__/unit/tier1-optimizations.test.ts:166:15)

    console.log
        Remove: 1.05ms (0.420Î¼s/op)

      at Object.<anonymous> (shared/core/__tests__/unit/tier1-optimizations.test.ts:167:15)

    console.log
        Evict:  1.12ms (0.150Î¼s/op)

      at Object.<anonymous> (shared/core/__tests__/unit/tier1-optimizations.test.ts:168:15)

    console.log
      Token pair index lookup: 12.71ms for 10k lookups (1.271Î¼s/op)

      at Object.<anonymous> (shared/core/__tests__/unit/tier1-optimizations.test.ts:520:15)

PASS unit shared/core/__tests__/unit/service-state.test.ts
PASS unit shared/core/__tests__/unit/professional-quality-monitor.test.ts
  â— Console

    console.log
      2026-02-01T22:52:20.833Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.853Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.854Z [professional-quality-monitor] error: Failed to record detection result {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.856Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.858Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740857 - 1769986340857"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.860Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.861Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740861 - 1769986340861"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.867Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.887Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740887 - 1769986340887"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.890Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.892Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740891 - 1769986340891"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.893Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.898Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.901Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.903Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.904Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.907Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.913Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.922Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.928Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740928 - 1769986340928"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.932Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740931 - 1769986340931"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.937Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740936 - 1769986340936"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.938Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.939Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740939 - 1769986340939"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.941Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740940 - 1769986340940"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.947Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740945 - 1769986340945"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.952Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740951 - 1769986340951"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.959Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740959 - 1769986340959"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.961Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740960 - 1769986340960"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.962Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740962 - 1769986340962"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.963Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740963 - 1769986340963"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.964Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740964 - 1769986340964"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.965Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740965 - 1769986340965"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.966Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740966 - 1769986340966"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.967Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740966 - 1769986340966"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.968Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740968 - 1769986340968"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.968Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740968 - 1769986340968"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.969Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740969 - 1769986340969"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.970Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740969 - 1769986340969"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.970Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740970 - 1769986340970"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.971Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740971 - 1769986340971"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.971Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740971 - 1769986340971"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.972Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740972 - 1769986340972"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.973Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740973 - 1769986340973"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.974Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740973 - 1769986340973"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.974Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740974 - 1769986340974"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.975Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740975 - 1769986340975"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.975Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740975 - 1769986340975"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.976Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740976 - 1769986340976"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.977Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740977 - 1769986340977"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.977Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740977 - 1769986340977"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.978Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740978 - 1769986340978"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.978Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740978 - 1769986340978"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.979Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740979 - 1769986340979"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.980Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740980 - 1769986340980"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.980Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740980 - 1769986340980"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.982Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740981 - 1769986340981"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.983Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740983 - 1769986340983"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.984Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740984 - 1769986340984"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.984Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740984 - 1769986340984"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.985Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740985 - 1769986340985"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.986Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740986 - 1769986340986"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.986Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740986 - 1769986340986"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.987Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740987 - 1769986340987"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:20.999Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982740999 - 1769986340999"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.000Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741000 - 1769986341000"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.000Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741000 - 1769986341000"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.001Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741001 - 1769986341001"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.002Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741002 - 1769986341002"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.003Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741003 - 1769986341003"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.004Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741004 - 1769986341004"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.005Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741005 - 1769986341005"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.006Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741006 - 1769986341006"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.008Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741008 - 1769986341008"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.008Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741008 - 1769986341008"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.009Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741009 - 1769986341009"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.010Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741009 - 1769986341009"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.010Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741010 - 1769986341010"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.011Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741011 - 1769986341011"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.011Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741011 - 1769986341011"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.023Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741022 - 1769986341022"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.024Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741024 - 1769986341024"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.025Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741025 - 1769986341025"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.026Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741026 - 1769986341026"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.026Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741026 - 1769986341026"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.027Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741027 - 1769986341027"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.027Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741027 - 1769986341027"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.028Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741028 - 1769986341028"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.029Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741029 - 1769986341029"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.029Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741029 - 1769986341029"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.030Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741030 - 1769986341030"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.030Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741030 - 1769986341030"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.031Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741031 - 1769986341031"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.031Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741031 - 1769986341031"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.032Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741032 - 1769986341032"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.033Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741033 - 1769986341033"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.068Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741068 - 1769986341068"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.070Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741070 - 1769986341070"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.072Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741072 - 1769986341072"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.073Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741073 - 1769986341073"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.074Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741074 - 1769986341074"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.075Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741075 - 1769986341075"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.075Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741075 - 1769986341075"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.076Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741076 - 1769986341076"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.077Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741077 - 1769986341077"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.077Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741077 - 1769986341077"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.078Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741078 - 1769986341078"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.079Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741079 - 1769986341079"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.082Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741082 - 1769986341082"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.084Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741084 - 1769986341084"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.084Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741084 - 1769986341084"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.085Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741085 - 1769986341085"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.085Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741085 - 1769986341085"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.086Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741086 - 1769986341086"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.087Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741087 - 1769986341087"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.087Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741087 - 1769986341087"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.088Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741088 - 1769986341088"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.090Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741090 - 1769986341090"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.091Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741091 - 1769986341091"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.092Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741092 - 1769986341092"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.093Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741093 - 1769986341093"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.094Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741093 - 1769986341093"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.094Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741094 - 1769986341094"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.095Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741095 - 1769986341095"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.095Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741095 - 1769986341095"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.096Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741096 - 1769986341096"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.096Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741096 - 1769986341096"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.097Z [professional-quality-monitor] info: Professional quality score calculated {"overallScore":98,"grade":"A+","riskLevel":"LOW","assessmentPeriod":"1769982741097 - 1769986341097"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.098Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.099Z [professional-quality-monitor] error: Failed to get current quality score {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.100Z [professional-quality-monitor] info: Professional Quality Monitor initialized

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.101Z [professional-quality-monitor] error: Failed to calculate quality score {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit shared/core/__tests__/unit/redis-streams/redis-streams-consumer-groups.test.ts
  â— Console

    console.log
      2026-02-01T22:52:21.252Z [redis-streams] error: Error flushing batch {"error":{},"streamName":"stream:test","batchSize":2}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.261Z [redis-streams] error: Flush failed after batch size reached {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.321Z [redis-streams] error: Error flushing batch {"error":{},"streamName":"stream:test","batchSize":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:21.321Z [redis-streams] error: Flush failed after batch size reached {"error":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit shared/core/__tests__/unit/performance-monitor.test.ts
PASS unit shared/core/__tests__/unit/dex-adapters/gmx-adapter.test.ts
PASS unit shared/core/__tests__/unit/adr-003-compliance.test.ts
PASS unit shared/ml/__tests__/unit/orderflow-features.test.ts
PASS unit shared/core/__tests__/unit/mev-protection.test.ts
PASS unit services/cross-chain-detector/src/__tests__/unit/opportunity-publisher.test.ts
PASS unit shared/core/__tests__/unit/async-mutex.test.ts
PASS unit shared/core/__tests__/unit/redis-streams/redis-streams-basic.test.ts
PASS unit shared/core/__tests__/unit/worker-pool.test.ts
PASS unit services/execution-engine/__tests__/unit/strategies/flash-loan-providers/unsupported.provider.test.ts
PASS unit shared/core/__tests__/unit/service-registry.test.ts
  â— Console

    console.log
      2026-02-01T22:52:23.947Z [service-registry] error: Service initialization failed: failing-service {"error":"Factory failed"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:23.957Z [service-registry] error: Service initialization failed: error-cached-service {"error":"Cached error"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:23.962Z [service-registry] warn: Service cleanup failed: cleanup-error-service {"error":"Cleanup failed"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:23.964Z [service-registry] error: Service initialization failed: retry-after-reset {"error":"Initial failure"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:23.967Z [service-registry] warn: Service cleanup failed: bad-service {"error":"Cleanup failed"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.allSettled (index 0)

PASS unit shared/core/__tests__/unit/pair-discovery.test.ts
PASS unit shared/core/__tests__/unit/logging.test.ts
PASS unit shared/core/__tests__/unit/factory-subscription.test.ts
PASS unit shared/core/__tests__/unit/partitioned-detector.test.ts
(node:120740) [DEP0169] DeprecationWarning: `url.parse()` behavior is not standardized and prone to errors that have security implications. Use the WHATWG URL API instead. CVEs are not issued for `url.parse()` vulnerabilities.
PASS unit shared/security/__tests__/unit/api-key-auth.test.ts
PASS unit shared/core/__tests__/unit/provider-health-scorer.test.ts
PASS unit services/cross-chain-detector/src/__tests__/unit/ml-prediction-manager.test.ts
PASS unit services/cross-chain-detector/src/__tests__/unit/price-data-manager.test.ts
PASS unit shared/core/__tests__/unit/stream-health-monitor.test.ts
PASS unit shared/core/__tests__/unit/dex-adapters/platypus-adapter.test.ts
PASS unit shared/core/__tests__/unit/error-handling.test.ts
PASS unit services/cross-chain-detector/src/__tests__/unit/bridge-cost-estimator.test.ts
PASS unit shared/constants/__tests__/unit/config-consistency.test.ts
PASS unit shared/core/__tests__/unit/metrics-manager.test.ts
PASS unit shared/core/__tests__/unit/jito-provider.test.ts
PASS unit shared/core/__tests__/unit/redis-streams/redis-streams-stream-consumer.test.ts
  â— Console

    console.log
      2026-02-01T22:52:28.274Z [redis-streams] error: XREADGROUP error {"error":{},"config":{"streamName":"stream:test","groupName":"test-group","consumerName":"consumer-1"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.286Z [redis-streams] error: XREADGROUP error {"error":{},"config":{"streamName":"stream:test","groupName":"test-group","consumerName":"consumer-1"}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit shared/core/__tests__/unit/correlation-analyzer.test.ts
  â— Console

    console.log
      2026-02-01T22:52:28.516Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.569Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.570Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":500,"correlationUpdateIntervalMs":30000,"maxTrackedPairs":100,"minCoOccurrences":5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.571Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.572Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.573Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.574Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.577Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.599Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.601Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.637Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.639Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.640Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.641Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.643Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.644Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":100,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.646Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.647Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.648Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.649Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.651Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.652Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.654Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.655Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":5}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.662Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.664Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.666Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.667Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.680Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.681Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.685Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.687Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.688Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":100,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.689Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.690Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.692Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.694Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.695Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":10,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.696Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.698Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.699Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.701Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.702Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.721Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.724Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.725Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.726Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.730Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.731Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.733Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.734Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.735Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.737Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.738Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.739Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.740Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":100,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.759Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.761Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":100,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":1000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.764Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.765Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":100,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.766Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.769Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":10,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.771Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.772Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.774Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.775Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.776Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.777Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.779Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.782Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.783Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.784Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.785Z [correlation-analyzer] warn: beginBatch called while already in batch mode

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.787Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.788Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.788Z [correlation-analyzer] warn: endBatch called while not in batch mode

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.790Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":3}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.798Z [correlation-analyzer] info: CorrelationAnalyzer initialized {"coOccurrenceWindowMs":1000,"correlationUpdateIntervalMs":3600000,"maxTrackedPairs":5000,"minCoOccurrences":1}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit shared/core/__tests__/unit/arbitrage-calculator.test.ts
  â— Console

    console.warn
      [DEPRECATION] arbitrage-calculator.ts is deprecated. Import from components/price-calculator instead. First usage: safeBigIntDivision()

    [0m [90m 110 |[39m   [36mif[39m ([33m![39mdeprecationWarned) {
     [90m 111 |[39m     deprecationWarned [33m=[39m [36mtrue[39m[33m;[39m
    [31m[1m>[22m[39m[90m 112 |[39m     console[33m.[39mwarn(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 113 |[39m       [32m'[DEPRECATION] arbitrage-calculator.ts is deprecated. '[39m [33m+[39m
     [90m 114 |[39m       [32m'Import from components/price-calculator instead. '[39m [33m+[39m
     [90m 115 |[39m       [32m`First usage: ${funcName}()`[39m[0m

      at emitDeprecationWarning (shared/core/src/arbitrage-calculator.ts:112:13)
      at safeBigIntDivision (shared/core/src/arbitrage-calculator.ts:134:3)
      at Object.<anonymous> (shared/core/__tests__/unit/arbitrage-calculator.test.ts:56:30)

PASS unit shared/core/__tests__/unit/pair-activity-tracker.test.ts
  â— Console

    console.log
      2026-02-01T22:52:28.879Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.955Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.957Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.959Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.960Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.962Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.963Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.966Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.967Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.969Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.970Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.972Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.974Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.975Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.976Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":10}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.978Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.978Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":10000,"hotThreshold":2,"maxPairs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.980Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":1000,"hotThreshold":2,"maxPairs":100}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-01T22:52:28.981Z [pair-activity-tracker] info: PairActivityTracker initialized {"windowMs":5000,"hotThreshold":2,"maxPairs":5000}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS unit shared/core/__tests__/unit/websocket-manager.test.ts
PASS unit shared/ml/__tests__/unit/feature-math.test.ts
PASS unit shared/config/src/__tests__/unit/mev-config.test.ts
PASS unit shared/core/__tests__/unit/mev-risk-analyzer.test.ts
PASS unit shared/config/src/__tests__/unit/thresholds.test.ts
PASS unit shared/core/__tests__/unit/components/pair-repository.test.ts
PASS unit shared/core/__tests__/unit/message-validators.test.ts
PASS unit shared/core/__tests__/unit/bridge-router.test.ts
PASS unit shared/core/__tests__/unit/components/arbitrage-detector.test.ts
PASS unit services/unified-detector/src/__tests__/unit/chain-simulation-handler.test.ts
PASS unit shared/core/__tests__/unit/components/token-utils.test.ts
PASS unit shared/core/src/__tests__/unit/interval-manager.test.ts
PASS unit shared/core/__tests__/unit/graceful-degradation.test.ts
PASS unit shared/core/__tests__/unit/dex-adapters/adapter-registry.test.ts
PASS unit shared/security/__tests__/unit/validation.test.ts
PASS unit shared/core/__tests__/unit/gas-price-cache.test.ts
PASS unit shared/config/src/__tests__/unit/addresses.test.ts
PASS unit shared/config/src/__tests__/unit/risk-config.test.ts
PASS unit shared/config/src/__tests__/unit/schemas.test.ts
PASS unit shared/ml/__tests__/unit/direction-types.test.ts
PASS unit shared/config/__tests__/unit/chains/chain-url-builder.test.ts
PASS unit services/execution-engine/__tests__/unit/strategies/flash-loan-providers/provider-factory.test.ts
PASS unit services/execution-engine/__tests__/unit/strategies/intra-chain.strategy.test.ts
PASS unit services/execution-engine/__tests__/unit/strategies/cross-chain.strategy.test.ts
PASS unit shared/ml/__tests__/unit/orderflow-predictor.test.ts (160.009 s)
  â— Console

    console.warn
      
      ============================
      Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
      ============================

      at Object.warn (tfjs-core/src/log.ts:22:17)
      at MathBackendCPU.Object.<anonymous>.MathBackendCPU.write (tfjs-backend-cpu/src/backend_cpu.ts:58:22)
      at Engine.Object.<anonymous>.Engine.makeTensor (tfjs-core/src/engine.ts:815:28)
      at TensorBuffer.Object.<anonymous>.TensorBuffer.toTensor (tfjs-core/src/tensor.ts:158:24)
      at truncatedNormal_ (tfjs-core/src/ops/truncated_normal.ts:59:14)
      at Object.truncatedNormal__op [as truncatedNormal] (tfjs-core/src/ops/operation.ts:51:28)
      at HeNormal.truncatedNormal [as apply] (tfjs-layers/src/initializers.ts:352:14)
      at Dense.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at Dense.Object.<anonymous>.Dense.build (tfjs-layers/src/layers/core.ts:244:26)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at Dense.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at OrderflowPredictor.initializeModel (shared/ml/src/orderflow-predictor.ts:313:13)
      at new OrderflowPredictor (shared/ml/src/orderflow-predictor.ts:285:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/orderflow-predictor.test.ts:240:25)

PASS unit shared/ml/__tests__/unit/predictor.test.ts (4120.01 s)
  â— Console

    console.warn
      
      ============================
      Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
      ============================

      at Object.warn (tfjs-core/src/log.ts:22:17)
      at MathBackendCPU.Object.<anonymous>.MathBackendCPU.write (tfjs-backend-cpu/src/backend_cpu.ts:58:22)
      at Engine.Object.<anonymous>.Engine.makeTensor (tfjs-core/src/engine.ts:815:28)
      at TensorBuffer.Object.<anonymous>.TensorBuffer.toTensor (tfjs-core/src/tensor.ts:158:24)
      at truncatedNormal_ (tfjs-core/src/ops/truncated_normal.ts:59:14)
      at Object.truncatedNormal__op [as truncatedNormal] (tfjs-core/src/ops/operation.ts:51:28)
      at GlorotNormal.truncatedNormal [as apply] (tfjs-layers/src/initializers.ts:352:14)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1703:24)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:94:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:94:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:94:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:108:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:108:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:116:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:116:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:135:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:135:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:135:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:135:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:135:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:135:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:135:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:135:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:209:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:209:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:209:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:209:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:245:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:245:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:245:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:245:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:245:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:245:19)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:288:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:288:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:306:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:306:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at getLSTMPredictor (shared/ml/src/predictor.ts:1061:21)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:513:41)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at getLSTMPredictor (shared/ml/src/predictor.ts:1061:21)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:513:41)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at getLSTMPredictor (shared/ml/src/predictor.ts:1061:21)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:520:41)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at getLSTMPredictor (shared/ml/src/predictor.ts:1061:21)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:520:41)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at getLSTMPredictor (shared/ml/src/predictor.ts:1061:21)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:525:41)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at getLSTMPredictor (shared/ml/src/predictor.ts:1061:21)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:525:41)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at getLSTMPredictor (shared/ml/src/predictor.ts:1061:21)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:552:37)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at getLSTMPredictor (shared/ml/src/predictor.ts:1061:21)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:552:37)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at getLSTMPredictor (shared/ml/src/predictor.ts:1061:21)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:558:37)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at getLSTMPredictor (shared/ml/src/predictor.ts:1061:21)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:558:37)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:578:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:578:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:610:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:610:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:642:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:642:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (65536) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:491:15)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:192:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:673:25)

    console.warn
      Orthogonal initializer is being called on a matrix with more than 2000 (16384) elements: Slowness may result.

      at tfjs-layers/src/initializers.ts:558:17
      at tfjs-core/src/engine.ts:469:20
      at Engine.Object.<anonymous>.Engine.scopedRun (tfjs-core/src/engine.ts:480:19)
      at Engine.Object.<anonymous>.Engine.tidy (tfjs-core/src/engine.ts:467:17)
      at Object.tidy (tfjs-core/src/globals.ts:192:17)
      at Orthogonal.tidy [as apply] (tfjs-layers/src/initializers.ts:543:12)
      at LSTMCell.Object.<anonymous>.Layer.addWeight (tfjs-layers/src/engine/topology.ts:1288:35)
      at LSTMCell.Object.<anonymous>.LSTMCell.build (tfjs-layers/src/layers/recurrent.ts:1706:33)
      at LSTM.Object.<anonymous>.RNN.build (tfjs-layers/src/layers/recurrent.ts:516:17)
      at tfjs-layers/src/engine/topology.ts:981:14
      at nameScope (tfjs-layers/src/common.ts:48:20)
      at LSTM.Object.<anonymous>.Layer.apply (tfjs-layers/src/engine/topology.ts:967:12)
      at LSTM.Object.<anonymous>.RNN.apply (tfjs-layers/src/layers/recurrent.ts:697:25)
      at Sequential.Object.<anonymous>.Sequential.add (tfjs-layers/src/models.ts:538:34)
      at LSTMPredictor.initializeModel (shared/ml/src/predictor.ts:201:13)
      at new LSTMPredictor (shared/ml/src/predictor.ts:164:28)
      at Object.<anonymous> (shared/ml/__tests__/unit/predictor.test.ts:673:25)

A worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.

âš ï¸  Slow Tests Detected:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. [unknown] 304674ms (5993% over 5000ms threshold)
   LSTMPredictor predictPrice should return valid time horizon
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

2. [unknown] 300093ms (5902% over 5000ms threshold)
   Singleton Factory Functions resetAllMLSingletons should reset all singletons
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

3. [unknown] 286529ms (5631% over 5000ms threshold)
   Singleton Factory Functions getLSTMPredictor should create new instance after reset
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

4. [unknown] 249762ms (4895% over 5000ms threshold)
   LSTMPredictor initialization should initialize model asynchronously
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

5. [unknown] 226280ms (4426% over 5000ms threshold)
   LSTMPredictor updateModel should not trigger retraining when accuracy is good
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

6. [unknown] 219743ms (4295% over 5000ms threshold)
   LSTMPredictor updateModel should calculate recent accuracy
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

7. [unknown] 212950ms (4159% over 5000ms threshold)
   LSTMPredictor updateModel should accumulate prediction history
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

8. [unknown] 210969ms (4119% over 5000ms threshold)
   LSTMPredictor trainModel should train model with valid data
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

9. [unknown] 208964ms (4079% over 5000ms threshold)
   LSTMPredictor predictPrice should return fallback prediction when not trained
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

10. [unknown] 204225ms (3985% over 5000ms threshold)
   LSTMPredictor trainModel should throw error with invalid input size
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

11. [unknown] 187362ms (3647% over 5000ms threshold)
   LSTMPredictor predictPrice should handle price history shorter than sequence length
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

12. [unknown] 179023ms (3480% over 5000ms threshold)
   LSTMPredictor initialization should be ready before prediction can succeed
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

13. [unknown] 175305ms (3406% over 5000ms threshold)
   Edge Cases and Error Handling division by zero protection (Bug 4.3 fix) should handle zero volumes without NaN
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

14. [unknown] 168153ms (3263% over 5000ms threshold)
   LSTMPredictor getModelStats should return correct initial stats
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

15. [unknown] 155053ms (3001% over 5000ms threshold)
   LSTMPredictor predictPrice should handle empty price history
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

16. [unknown] 150820ms (2916% over 5000ms threshold)
   LSTMPredictor dispose should clean up resources
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

17. [unknown] 146546ms (2831% over 5000ms threshold)
   Edge Cases and Error Handling negative price handling should handle negative prices gracefully
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

18. [unknown] 145179ms (2804% over 5000ms threshold)
   LSTMPredictor initialization should accept custom configuration
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

19. [unknown] 141824ms (2736% over 5000ms threshold)
   Singleton Factory Functions getLSTMPredictor should return same instance on multiple calls
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

20. [unknown] 124072ms (2381% over 5000ms threshold)
   Edge Cases and Error Handling concurrent access should handle multiple concurrent predictions
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

21. [unknown] 121794ms (2336% over 5000ms threshold)
   Edge Cases and Error Handling very large values should handle very large price values
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\predictor.test.ts

22. [unknown] 13212ms (164% over 5000ms threshold)
   Training Data Preparation should handle samples with extreme values
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

23. [unknown] 12076ms (142% over 5000ms threshold)
   Training Data Preparation should handle samples with all bullish outcomes
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

24. [unknown] 11144ms (123% over 5000ms threshold)
   Training Data Preparation should handle samples with all zeros
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

25. [unknown] 11097ms (122% over 5000ms threshold)
   OrderflowPredictor Accuracy Tracking should validate accuracy when training sample matches prediction
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

26. [unknown] 9775ms (96% over 5000ms threshold)
   Training Data Preparation should handle samples with mixed outcomes
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

27. [unknown] 8769ms (75% over 5000ms threshold)
   OrderflowPredictor Training should train model with sufficient samples
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

28. [unknown] 8587ms (72% over 5000ms threshold)
   OrderflowPredictor Training should update lastTrainingTime after training
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

29. [unknown] 8048ms (61% over 5000ms threshold)
   OrderflowPredictor Prediction - Trained Model should return bounded orderflow pressure (-1 to 1)
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

30. [unknown] 7929ms (59% over 5000ms threshold)
   OrderflowPredictor Prediction - Trained Model should increment prediction counter
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

31. [unknown] 7683ms (54% over 5000ms threshold)
   OrderflowPredictor Online Learning should retrain when history reaches minimum samples
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

32. [unknown] 7619ms (52% over 5000ms threshold)
   OrderflowPredictor Prediction - Trained Model should return bounded volatility (0 to 1)
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

33. [unknown] 7404ms (48% over 5000ms threshold)
   OrderflowPredictor Prediction - Trained Model should return ML prediction when trained
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

34. [unknown] 7379ms (48% over 5000ms threshold)
   OrderflowPredictor Prediction - Trained Model should return bounded whale impact (0 to 1)
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

35. [unknown] 7327ms (47% over 5000ms threshold)
   OrderflowPredictor Race Condition Protection should show isTraining flag during training
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

36. [unknown] 7245ms (45% over 5000ms threshold)
   OrderflowPredictor Race Condition Protection should prevent concurrent training with isTraining mutex
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

37. [unknown] 5942ms (19% over 5000ms threshold)
   OrderflowPredictor Accuracy Tracking should track pending predictions for accuracy validation
   C:\Users\kj2bn8f\arbitrage_new\shared\ml\__tests__\unit\orderflow-predictor.test.ts

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Total slow tests: 37

Slow test report written to: C:\Users\kj2bn8f\arbitrage_new\slow-tests.json


Summary of all failing tests
FAIL shared/ml/__tests__/unit/tf-backend.test.ts (14.683 s)
  â— tf-backend â€º initializeTensorFlow â€º should initialize with default cpu backend in test environment

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 69 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow()[33m;[39m
     [90m 70 |[39m
    [31m[1m>[22m[39m[90m 71 |[39m       expect(result[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 72 |[39m       expect(result[33m.[39mbackend)[33m.[39mtoBe([32m'cpu'[39m)[33m;[39m
     [90m 73 |[39m       expect(mockTf[33m.[39msetBackend)[33m.[39mtoHaveBeenCalledWith([32m'cpu'[39m)[33m;[39m
     [90m 74 |[39m       expect(mockTf[33m.[39mready)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:71:30)

  â— tf-backend â€º initializeTensorFlow â€º should return cached result on subsequent calls

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 79 |[39m       [36mconst[39m result2 [33m=[39m [36mawait[39m initializeTensorFlow()[33m;[39m
     [90m 80 |[39m
    [31m[1m>[22m[39m[90m 81 |[39m       expect(result1[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 82 |[39m       expect(result2[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 83 |[39m       expect(mockTf[33m.[39msetBackend)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m 84 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:81:31)

  â— tf-backend â€º initializeTensorFlow â€º should use forced backend from environment variable

    expect(received).toBe(expected) // Object.is equality

    Expected: "wasm"
    Received: "cpu"

    [0m [90m 89 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow()[33m;[39m
     [90m 90 |[39m
    [31m[1m>[22m[39m[90m 91 |[39m       expect(result[33m.[39mbackend)[33m.[39mtoBe([32m'wasm'[39m)[33m;[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 92 |[39m       expect(mockTf[33m.[39msetBackend)[33m.[39mtoHaveBeenCalledWith([32m'wasm'[39m)[33m;[39m
     [90m 93 |[39m     })[33m;[39m
     [90m 94 |[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:91:30)

  â— tf-backend â€º initializeTensorFlow â€º should warn and ignore invalid TF_FORCE_BACKEND

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m  98 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow()[33m;[39m
     [90m  99 |[39m
    [31m[1m>[22m[39m[90m 100 |[39m       expect(result[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 101 |[39m       expect(result[33m.[39mbackend)[33m.[39mtoBe([32m'cpu'[39m)[33m;[39m [90m// Falls back to default[39m
     [90m 102 |[39m     })[33m;[39m
     [90m 103 |[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:100:30)

  â— tf-backend â€º initializeTensorFlow â€º should use preferred backend from config

    expect(received).toBe(expected) // Object.is equality

    Expected: "wasm"
    Received: "cpu"

    [0m [90m 105 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow({ preferredBackend[33m:[39m [32m'wasm'[39m })[33m;[39m
     [90m 106 |[39m
    [31m[1m>[22m[39m[90m 107 |[39m       expect(result[33m.[39mbackend)[33m.[39mtoBe([32m'wasm'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 108 |[39m     })[33m;[39m
     [90m 109 |[39m
     [90m 110 |[39m     it([32m'should fall back to cpu if preferred backend fails'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:107:30)

  â— tf-backend â€º initializeTensorFlow â€º should set isNative=true for tensorflow backend

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 134 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow({ preferredBackend[33m:[39m [32m'tensorflow'[39m })[33m;[39m
     [90m 135 |[39m
    [31m[1m>[22m[39m[90m 136 |[39m       expect(result[33m.[39misNative)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 137 |[39m     })[33m;[39m
     [90m 138 |[39m
     [90m 139 |[39m     it([32m'should respect initTimeoutMs config'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:136:31)

  â— tf-backend â€º query functions â€º getTensorFlowMemory should return memory info

    expect(received).toHaveProperty(path)

    Matcher error: received value must not be null nor undefined

    Received has value: undefined

    [0m [90m 173 |[39m     it([32m'getTensorFlowMemory should return memory info'[39m[33m,[39m () [33m=>[39m {
     [90m 174 |[39m       [36mconst[39m mem [33m=[39m getTensorFlowMemory()[33m;[39m
    [31m[1m>[22m[39m[90m 175 |[39m       expect(mem)[33m.[39mtoHaveProperty([32m'numTensors'[39m)[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 176 |[39m       expect(mem)[33m.[39mtoHaveProperty([32m'numDataBuffers'[39m)[33m;[39m
     [90m 177 |[39m     })[33m;[39m
     [90m 178 |[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:175:19)

  â— tf-backend â€º query functions â€º getTensorFlowInfo should return backend and memory

    expect(received).toBe(expected) // Object.is equality

    Expected: "cpu"
    Received: "unknown"

    [0m [90m 179 |[39m     it([32m'getTensorFlowInfo should return backend and memory'[39m[33m,[39m () [33m=>[39m {
     [90m 180 |[39m       [36mconst[39m info [33m=[39m getTensorFlowInfo()[33m;[39m
    [31m[1m>[22m[39m[90m 181 |[39m       expect(info[33m.[39mbackend)[33m.[39mtoBe([32m'cpu'[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 182 |[39m       expect(info[33m.[39mmemory)[33m.[39mtoBeDefined()[33m;[39m
     [90m 183 |[39m     })[33m;[39m
     [90m 184 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:181:28)

  â— tf-backend â€º memory management â€º disposeAllTensors should call tf.disposeVariables

    TypeError: Cannot read properties of undefined (reading 'numTensors')

    [0m [90m 374 |[39m [90m */[39m
     [90m 375 |[39m [36mexport[39m [36mfunction[39m disposeAllTensors()[33m:[39m [36mvoid[39m {
    [31m[1m>[22m[39m[90m 376 |[39m   [36mconst[39m numTensors [33m=[39m tf[33m.[39mmemory()[33m.[39mnumTensors[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 377 |[39m   [36mif[39m (numTensors [33m>[39m [35m0[39m) {
     [90m 378 |[39m     logger[33m.[39mwarn([32m`Disposing ${numTensors} tensors from memory`[39m)[33m;[39m
     [90m 379 |[39m   }[0m

      at disposeAllTensors (shared/ml/src/tf-backend.ts:376:33)
      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:188:24)

  â— tf-backend â€º memory management â€º withTensorCleanup should call tf.tidy

    expect(received).toBe(expected) // Object.is equality

    Expected: 42
    Received: undefined

    [0m [90m 195 |[39m
     [90m 196 |[39m       expect(mockTf[33m.[39mtidy)[33m.[39mtoHaveBeenCalled()[33m;[39m
    [31m[1m>[22m[39m[90m 197 |[39m       expect(result)[33m.[39mtoBe([35m42[39m)[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 198 |[39m     })[33m;[39m
     [90m 199 |[39m
     [90m 200 |[39m     it([32m'withTensorCleanupAsync should execute async function'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:197:22)

  â— tf-backend â€º memory management â€º withTensorCleanupAsync should execute async function

    TypeError: Cannot read properties of undefined (reading 'numTensors')

    [0m [90m 405 |[39m )[33m:[39m [33mPromise[39m[33m<[39m[33mT[39m[33m>[39m {
     [90m 406 |[39m   [90m// Track tensors before execution[39m
    [31m[1m>[22m[39m[90m 407 |[39m   [36mconst[39m tensorsBefore [33m=[39m tf[33m.[39mmemory()[33m.[39mnumTensors[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 408 |[39m
     [90m 409 |[39m   [90m// Execute the async function[39m
     [90m 410 |[39m   [36mconst[39m result [33m=[39m [36mawait[39m fn()[33m;[39m[0m

      at withTensorCleanupAsync (shared/ml/src/tf-backend.ts:407:36)
      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:202:50)

  â— tf-backend â€º environment-based backend selection â€º should use wasm in production mode

    expect(received).toBe(expected) // Object.is equality

    Expected: "wasm"
    Received: "cpu"

    [0m [90m 236 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow()[33m;[39m
     [90m 237 |[39m
    [31m[1m>[22m[39m[90m 238 |[39m       expect(result[33m.[39mbackend)[33m.[39mtoBe([32m'wasm'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 239 |[39m     })[33m;[39m
     [90m 240 |[39m
     [90m 241 |[39m     it([32m'should use tensorflow in production with TF_ENABLE_NATIVE'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:238:30)

  â— tf-backend â€º environment-based backend selection â€º should use tensorflow in production with TF_ENABLE_NATIVE

    expect(received).toBe(expected) // Object.is equality

    Expected: "tensorflow"
    Received: "cpu"

    [0m [90m 246 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m initializeTensorFlow()[33m;[39m
     [90m 247 |[39m
    [31m[1m>[22m[39m[90m 248 |[39m       expect(result[33m.[39mbackend)[33m.[39mtoBe([32m'tensorflow'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 249 |[39m     })[33m;[39m
     [90m 250 |[39m
     [90m 251 |[39m     it([32m'should use cpu in development mode'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/tf-backend.test.ts:248:30)

FAIL shared/ml/__tests__/unit/model-persistence.test.ts (15.382 s)
  â— model-persistence â€º ModelPersistence class â€º loadModel â€º should load model from disk

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 172 |[39m         [36mconst[39m result [33m=[39m [36mawait[39m persistence[33m.[39mloadModel([32m'test-model'[39m)[33m;[39m
     [90m 173 |[39m
    [31m[1m>[22m[39m[90m 174 |[39m         expect(result[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 175 |[39m         expect(result[33m.[39mmodel)[33m.[39mtoBeDefined()[33m;[39m
     [90m 176 |[39m         expect(result[33m.[39mmetadata)[33m.[39mtoBeDefined()[33m;[39m
     [90m 177 |[39m         expect(mockTf[33m.[39mloadLayersModel)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/model-persistence.test.ts:174:32)

  â— model-persistence â€º ModelPersistence class â€º modelExists â€º should return true for existing model

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 222 |[39m         [36mawait[39m persistence[33m.[39msaveModel(mockModel [36mas[39m any[33m,[39m metadata)[33m;[39m
     [90m 223 |[39m
    [31m[1m>[22m[39m[90m 224 |[39m         expect(persistence[33m.[39mmodelExists([32m'test-model'[39m))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                                       [31m[1m^[22m[39m
     [90m 225 |[39m       })[33m;[39m
     [90m 226 |[39m
     [90m 227 |[39m       it([32m'should return false for non-existent model'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/ml/__tests__/unit/model-persistence.test.ts:224:55)

FAIL services/execution-engine/__tests__/unit/services/simulation/simulation-metrics-collector.test.ts
  â— Test suite failed to run

    [96mservices/execution-engine/__tests__/unit/services/simulation/simulation-metrics-collector.test.ts[0m:[93m56[0m:[93m87[0m - [91merror[0m[90m TS2322: [0mType '{ opportunitiesReceived: number; executionAttempts: number; opportunitiesRejected: number; successfulExecutions: number; failedExecutions: number; queueRejects: number; lockConflicts: number; ... 15 more ...; riskHaltCount: number; }' is not assignable to type 'ExecutionStats'.
      Types of property 'staleLockRecoveries' are incompatible.
        Type 'number | undefined' is not assignable to type 'number'.
          Type 'undefined' is not assignable to type 'number'.

    [7m 56[0m const createMockStats = (overrides: Partial<ExecutionStats> = {}): ExecutionStats => ({
    [7m   [0m [91m                                                                                      ~[0m
    [7m 57[0m   opportunitiesReceived: 100,
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m...[0m 
    [7m 80[0m   ...overrides,
    [7m   [0m [91m~~~~~~~~~~~~~~~[0m
    [7m 81[0m });
    [7m   [0m [91m~[0m

FAIL shared/config/__tests__/unit/config-modules.test.ts
  â— Test suite failed to run

    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m48[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module './index' or its corresponding type declarations.

    [7m48[0m } from './index';
    [7m  [0m [91m       ~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m290[0m:[93m9[0m - [91merror[0m[90m TS7006: [0mParameter 'b' implicitly has an 'any' type.

    [7m290[0m         b => b.sourceChain === 'solana' || b.targetChain === 'solana'
    [7m   [0m [91m        ~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m293[0m:[93m34[0m - [91merror[0m[90m TS7006: [0mParameter 'b' implicitly has an 'any' type.

    [7m293[0m       expect(solanaBridges.every(b => b.bridge === 'wormhole')).toBe(true);
    [7m   [0m [91m                                 ~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m324[0m:[93m47[0m - [91merror[0m[90m TS7006: [0mParameter 'b' implicitly has an 'any' type.

    [7m324[0m         const lowestFee = Math.min(...all.map(b => b.feePercentage));
    [7m   [0m [91m                                              ~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m506[0m:[93m16[0m - [91merror[0m[90m TS18046: [0m'config' is of type 'unknown'.

    [7m506[0m         expect(config.batchSize).toBeGreaterThan(0);
    [7m   [0m [91m               ~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m507[0m:[93m16[0m - [91merror[0m[90m TS18046: [0m'config' is of type 'unknown'.

    [7m507[0m         expect(config.batchSize).toBeLessThanOrEqual(1000); // Reasonable upper limit
    [7m   [0m [91m               ~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m572[0m:[93m51[0m - [91merror[0m[90m TS2307: [0mCannot find module '../../types' or its corresponding type declarations.

    [7m572[0m     let getAllChains: () => Record<string, import('../../types').Chain>;
    [7m   [0m [91m                                                  ~~~~~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m575[0m:[93m35[0m - [91merror[0m[90m TS2307: [0mCannot find module './chains' or its corresponding type declarations.

    [7m575[0m       const module = await import('./chains');
    [7m   [0m [91m                                  ~~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m616[0m:[93m35[0m - [91merror[0m[90m TS2307: [0mCannot find module './event-config' or its corresponding type declarations.

    [7m616[0m   let EVENT_CONFIG: typeof import('./event-config').EVENT_CONFIG;
    [7m   [0m [91m                                  ~~~~~~~~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m617[0m:[93m39[0m - [91merror[0m[90m TS2307: [0mCannot find module './event-config' or its corresponding type declarations.

    [7m617[0m   let EVENT_SIGNATURES: typeof import('./event-config').EVENT_SIGNATURES;
    [7m   [0m [91m                                      ~~~~~~~~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/config-modules.test.ts[0m:[93m620[0m:[93m33[0m - [91merror[0m[90m TS2307: [0mCannot find module './event-config' or its corresponding type declarations.

    [7m620[0m     const module = await import('./event-config');
    [7m   [0m [91m                                ~~~~~~~~~~~~~~~~[0m

FAIL shared/security/__tests__/unit/rate-limiter.test.ts (18.21 s)
  â— RateLimiter â€º checkLimit â€º should handle Redis errors gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 130 |[39m
     [90m 131 |[39m       [90m// Should fail open (allow request) on Redis error[39m
    [31m[1m>[22m[39m[90m 132 |[39m       expect(result[33m.[39mexceeded)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 133 |[39m       expect(result[33m.[39mtotal)[33m.[39mtoBe([35m10[39m)[33m;[39m
     [90m 134 |[39m       expect(recordingLogger[33m.[39mhasLogMatching([32m'error'[39m[33m,[39m [32m'Rate limiter error'[39m))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 135 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (shared/security/__tests__/unit/rate-limiter.test.ts:132:31)

  â— RateLimiter â€º middleware â€º should handle middleware errors gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 258 |[39m
     [90m 259 |[39m       [90m// Should fail open[39m
    [31m[1m>[22m[39m[90m 260 |[39m       expect(mockNext)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 261 |[39m       expect(recordingLogger[33m.[39mhasLogMatching([32m'error'[39m[33m,[39m [32m'Rate limiter error'[39m))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 262 |[39m     })[33m;[39m
     [90m 263 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (shared/security/__tests__/unit/rate-limiter.test.ts:260:24)

FAIL services/execution-engine/__tests__/unit/strategies/simulation.strategy.test.ts
  â— Test suite failed to run

    [96mservices/execution-engine/__tests__/unit/strategies/simulation.strategy.test.ts[0m:[93m54[0m:[93m3[0m - [91merror[0m[90m TS2741: [0mProperty 'staleLockRecoveries' is missing in type '{ opportunitiesReceived: number; executionAttempts: number; opportunitiesRejected: number; successfulExecutions: number; failedExecutions: number; lockConflicts: number; executionTimeouts: number; ... 14 more ...; riskHaltCount: number; }' but required in type 'ExecutionStats'.

    [7m54[0m   stats: {
    [7m  [0m [91m  ~~~~~[0m

      [96mservices/execution-engine/src/types.ts[0m:[93m433[0m:[93m3[0m
        [7m433[0m   staleLockRecoveries: number;
        [7m   [0m [96m  ~~~~~~~~~~~~~~~~~~~[0m
        'staleLockRecoveries' is declared here.
      [96mservices/execution-engine/src/types.ts[0m:[93m967[0m:[93m3[0m
        [7m967[0m   stats: ExecutionStats;
        [7m   [0m [96m  ~~~~~[0m
        The expected type comes from property 'stats' which is declared here on type 'StrategyContext'

FAIL services/execution-engine/__tests__/unit/strategies/strategy-factory.test.ts
  â— Test suite failed to run

    [96mservices/execution-engine/__tests__/unit/strategies/strategy-factory.test.ts[0m:[93m66[0m:[93m3[0m - [91merror[0m[90m TS2741: [0mProperty 'staleLockRecoveries' is missing in type '{ opportunitiesReceived: number; executionAttempts: number; opportunitiesRejected: number; successfulExecutions: number; failedExecutions: number; queueRejects: number; lockConflicts: number; ... 14 more ...; riskHaltCount: number; }' but required in type 'ExecutionStats'.

    [7m66[0m   stats: {
    [7m  [0m [91m  ~~~~~[0m

      [96mservices/execution-engine/src/types.ts[0m:[93m433[0m:[93m3[0m
        [7m433[0m   staleLockRecoveries: number;
        [7m   [0m [96m  ~~~~~~~~~~~~~~~~~~~[0m
        'staleLockRecoveries' is declared here.
      [96mservices/execution-engine/src/types.ts[0m:[93m967[0m:[93m3[0m
        [7m967[0m   stats: ExecutionStats;
        [7m   [0m [96m  ~~~~~[0m
        The expected type comes from property 'stats' which is declared here on type 'StrategyContext'

FAIL tests/integration/s3.1.7-detector-migration.integration.test.ts (19.517 s)
  â— S3.1.7.10: Migration Documentation â€º should reference partition architecture in implementation plan

    ENOENT: no such file or directory, open 'C:\Users\kj2bn8f\arbitrage_new\docs\IMPLEMENTATION_PLAN.md'

    [0m [90m 666 |[39m
     [90m 667 |[39m     [36mconst[39m planPath [33m=[39m path[33m.[39mjoin(process[33m.[39mcwd()[33m,[39m [32m'docs/IMPLEMENTATION_PLAN.md'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 668 |[39m     [36mconst[39m content [33m=[39m fs[33m.[39mreadFileSync(planPath[33m,[39m [32m'utf-8'[39m)[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 669 |[39m
     [90m 670 |[39m     expect(content)[33m.[39mtoContain([32m'Partitioned'[39m)[33m;[39m
     [90m 671 |[39m     expect(content)[33m.[39mtoContain([32m'S3.1.7'[39m)[33m;[39m[0m

      at Object.<anonymous> (tests/integration/s3.1.7-detector-migration.integration.test.ts:668:24)

FAIL tests/integration/s3.1.6-partition-solana.integration.test.ts (20.349 s)
  â— S3.1.6.18: Cross-Partition Consistency â€º P4 uses same patterns as P1-P3 â€º should have consistent comment patterns with P3

    expect(received).toContain(expected) // indexOf

    Expected substring: "P12-P14 refactor"
    Received string:    "/**Â·
     * P3 High-Value Partition Service Entry PointÂ·
     *Â·
     * Deploys the unified detector for the High-Value partition:Â·
     * - Chains: Ethereum, zkSync, LineaÂ·
     * - Region: Oracle Cloud US-East (us-east1)Â·
     * - Resource Profile: Heavy (3 high-value chains)Â·
     *Â·
     * This service is a deployment wrapper for the unified-detector,Â·
     * configured specifically for the P3 partition.Â·
     *Â·
     * High-Value partition characteristics:Â·
     * - Longer health checks (30s) for Ethereum's ~12s blocksÂ·
     * - Standard failover timeout (60s) for mainnet stabilityÂ·
     * - Heavy resource profile for Ethereum mainnet processingÂ·
     * - US-East deployment for proximity to major Ethereum infrastructureÂ·
     *Â·
     * Environment Variables:Â·
     * - PARTITION_ID: Set to 'high-value' by defaultÂ·
     * - PARTITION_CHAINS: Override chains to monitor (comma-separated, default: ethereum,zksync,linea)Â·
     * - REDIS_URL: Redis connection URL (required)Â·
     * - LOG_LEVEL: Logging level (default: info)Â·
     * - HEALTH_CHECK_PORT: HTTP health check port (default: 3003)Â·
     * - INSTANCE_ID: Unique instance identifier (auto-generated if not set)Â·
     * - REGION_ID: Deployment region (default: us-east1)Â·
     * - ENABLE_CROSS_REGION_HEALTH: Enable cross-region health reporting (default: true)Â·
     *Â·
     * @see ADR-003: Partitioned Chain DetectorsÂ·
     */Â·Â·Â·
    import { Server } from 'http';Â·
    import { UnifiedChainDetector, UnifiedDetectorConfig } from '@arbitrage/unified-detector';Â·
    import {Â·
      createLogger,Â·
      parsePort,Â·
      validateAndFilterChains,Â·
      createPartitionHealthServer,Â·
      setupDetectorEventHandlers,Â·
      setupProcessHandlers,Â·
      exitWithConfigError,Â·
      closeServerWithTimeout,Â·
      parsePartitionEnvironmentConfig,Â·
      validatePartitionEnvironmentConfig,Â·
      generateInstanceId,Â·
      PartitionServiceConfig,Â·
      PartitionEnvironmentConfig,Â·
      PARTITION_PORTS,Â·
      PARTITION_SERVICE_NAMESÂ·
    } from '@arbitrage/core';Â·
    import { getPartition, PARTITION_IDS } from '@arbitrage/config';Â·Â·Â·
    // =============================================================================Â·
    // P3 Partition ConstantsÂ·
    // =============================================================================Â·Â·Â·
    const P3_PARTITION_ID = PARTITION_IDS.HIGH_VALUE;Â·
    // Use centralized port constant (P1: 3001, P2: 3002, P3: 3003, P4: 3004)Â·
    const P3_DEFAULT_PORT = PARTITION_PORTS[P3_PARTITION_ID] ?? 3003;Â·Â·Â·
    // =============================================================================Â·
    // ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    const logger = createLogger('partition-high-value:main');Â·Â·Â·
    // =============================================================================Â·
    // Partition Configuration RetrievalÂ·
    // =============================================================================Â·Â·Â·
    // Single partition config retrievalÂ·
    const partitionConfig = getPartition(P3_PARTITION_ID);Â·
    if (!partitionConfig) {Â·
      exitWithConfigError('P3 partition configuration not found', { partitionId: P3_PARTITION_ID }, logger);Â·
    }Â·Â·Â·
    // BUG-FIX: Add defensive null-safety checks for test compatibilityÂ·
    // During test imports, mocks may not be fully initialized, so we use optional chainingÂ·
    // and provide safe defaults to prevent \"Cannot read properties of undefined\" errorsÂ·
    const P3_CHAINS: readonly string[] = partitionConfig?.chains ?? [];Â·
    const P3_REGION = partitionConfig?.region ?? 'us-east1';Â·Â·Â·
    // BUG-FIX: Validate partition config has chainsÂ·
    if (!P3_CHAINS || P3_CHAINS.length === 0) {Â·
      exitWithConfigError('P3 partition has no chains configured', {Â·
        partitionId: P3_PARTITION_ID,Â·
        chains: P3_CHAINSÂ·
      }, logger);Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // Environment Configuration (Using shared typed utilities)Â·
    // =============================================================================Â·Â·Â·
    // Parse environment into typed configuration using shared utilityÂ·
    const envConfig: PartitionEnvironmentConfig = parsePartitionEnvironmentConfig(P3_CHAINS);Â·Â·Â·
    // Validate environment configuration (exits on critical errors, warns on non-critical)Â·
    validatePartitionEnvironmentConfig(envConfig, P3_PARTITION_ID, P3_CHAINS, logger);Â·Â·Â·
    // =============================================================================Â·
    // Service ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    // Service configuration for shared utilitiesÂ·
    const serviceConfig: PartitionServiceConfig = {Â·
      partitionId: P3_PARTITION_ID,Â·
      serviceName: PARTITION_SERVICE_NAMES[P3_PARTITION_ID] ?? 'partition-high-value',Â·
      defaultChains: P3_CHAINS,Â·
      defaultPort: P3_DEFAULT_PORT,Â·
      region: P3_REGION,Â·
      provider: partitionConfig?.provider ?? 'oracle'Â·
    };Â·Â·Â·
    // Store server reference for graceful shutdownÂ·
    const healthServerRef: { current: Server | null } = { current: null };Â·Â·Â·
    // Unified detector configuration (uses typed envConfig)Â·
    // BUG-FIX: Use nullish coalescing (??) consistently instead of logical OR (||)Â·
    // to properly handle falsy but valid values like empty strings or 0Â·
    // BUG-FIX: Add optional chaining for envConfig properties for test compatibilityÂ·
    const config: UnifiedDetectorConfig = {Â·
      partitionId: P3_PARTITION_ID,Â·
      chains: validateAndFilterChains(envConfig?.partitionChains, P3_CHAINS, logger),Â·
      instanceId: generateInstanceId(P3_PARTITION_ID, envConfig?.instanceId),Â·
      regionId: envConfig?.regionId ?? P3_REGION,Â·
      enableCrossRegionHealth: envConfig?.enableCrossRegionHealth ?? true,Â·
      healthCheckPort: parsePort(envConfig?.healthCheckPort, P3_DEFAULT_PORT, logger)Â·
    };Â·Â·Â·
    // =============================================================================Â·
    // Service InstanceÂ·
    // =============================================================================Â·Â·Â·
    const detector = new UnifiedChainDetector(config);Â·Â·Â·
    // =============================================================================Â·
    // Event Handlers (Using shared utilities)Â·
    // =============================================================================Â·Â·Â·
    setupDetectorEventHandlers(detector, logger, P3_PARTITION_ID);Â·Â·Â·
    // =============================================================================Â·
    // Process Handlers (Using shared utilities with shutdown guard)Â·
    // =============================================================================Â·Â·Â·
    // Store cleanup function to prevent MaxListenersExceeded warningsÂ·
    // in test scenarios and allow proper handler cleanupÂ·
    const cleanupProcessHandlers = setupProcessHandlers(healthServerRef, detector, logger, serviceConfig.serviceName);Â·Â·Â·
    // =============================================================================Â·
    // Main Entry PointÂ·
    // =============================================================================Â·Â·Â·
    // Guard against multiple main() invocations (e.g., from integration tests)Â·
    // FIX: Standardized to use single state enum (matching P2 l2-turbo pattern)Â·
    // This is cleaner and more explicit about the service lifecycle stateÂ·
    type MainState = 'idle' | 'starting' | 'started' | 'failed';Â·
    let mainState: MainState = 'idle';Â·Â·Â·
    async function main(): Promise<void> {Â·
      // Check-and-set guard prevents duplicate invocations within same event loop tickÂ·
      if (mainState !== 'idle') {Â·
        logger.warn('main() already started or starting, ignoring duplicate invocation', {Â·
          currentState: mainStateÂ·
        });Â·
        return;Â·
      }Â·
      mainState = 'starting';Â·Â·Â·
      logger.info('Starting P3 High-Value Partition Service', {Â·
        partitionId: P3_PARTITION_ID,Â·
        chains: config.chains,Â·
        region: P3_REGION,Â·
        provider: serviceConfig.provider,Â·
        nodeVersion: process.version,Â·
        pid: process.pidÂ·
      });Â·Â·Â·
      try {Â·
        // Start health check server first (using shared utilities)Â·
        // BUG-FIX: Use nullish coalescing for port to handle port 0 correctlyÂ·
        healthServerRef.current = createPartitionHealthServer({Â·
          port: config.healthCheckPort ?? P3_DEFAULT_PORT,Â·
          config: serviceConfig,Â·
          detector,Â·
          loggerÂ·
        });Â·Â·Â·
        // Start detectorÂ·
        await detector.start();Â·Â·Â·
        // BUG-FIX: Mark as fully started only after successful completionÂ·
        mainState = 'started';Â·Â·Â·
        logger.info('P3 High-Value Partition Service started successfully', {Â·
          partitionId: detector.getPartitionId(),Â·
          chains: detector.getChains(),Â·
          healthyChains: detector.getHealthyChains()Â·
        });Â·Â·Â·
      } catch (error) {Â·
        // BUG-FIX: Mark as failed instead of resetting to idleÂ·
        mainState = 'failed';Â·Â·Â·
        logger.error('Failed to start P3 High-Value Partition Service', { error });Â·Â·Â·
        // BUG-FIX: Explicit null check before closing serverÂ·
        // Server may be null if createPartitionHealthServer threw before assignmentÂ·
        if (healthServerRef.current) {Â·
          await closeServerWithTimeout(healthServerRef.current, 1000, logger);Â·
        }Â·Â·Â·
        // BUG-FIX: Clear server reference after closing to prevent stale reference issuesÂ·
        healthServerRef.current = null;Â·Â·Â·
        // Clean up process handlers before exit to prevent listener leaksÂ·
        cleanupProcessHandlers();Â·Â·Â·
        process.exit(1);Â·
      }Â·
    }Â·Â·Â·
    // Run - only when this is the main entry point (not when imported by tests)Â·
    // Check for Jest worker to prevent auto-start during test importsÂ·
    if (!process.env.JEST_WORKER_ID) {Â·
      main().catch((error) => {Â·
        // BUG-FIX: Wrap logging in try-catch to prevent silent failures if logger failsÂ·
        try {Â·
          if (logger) {Â·
            logger.error('Fatal error in P3 High-Value partition main', { error });Â·
          } else {Â·
            console.error('Fatal error in P3 High-Value partition main (logger unavailable):', error);Â·
          }Â·
        } catch (logError) {Â·
          // Last resort - write to stderr directlyÂ·
          process.stderr.write(`FATAL: ${error}\\nLOG ERROR: ${logError}\\n`);Â·
        }Â·
        process.exit(1);Â·
      });Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // ExportsÂ·
    // =============================================================================Â·Â·Â·
    export {Â·
      detector,Â·
      config,Â·
      P3_PARTITION_ID,Â·
      P3_CHAINS,Â·
      P3_REGION,Â·
      cleanupProcessHandlers,Â·
      // Export for testingÂ·
      envConfigÂ·
    };Â·Â·Â·
    // Re-export type from shared utilities for convenienceÂ·
    export type { PartitionEnvironmentConfig };Â·
    "

    [0m [90m 1665 |[39m
     [90m 1666 |[39m       [90m// Both should use P12-P14 refactor pattern[39m
    [31m[1m>[22m[39m[90m 1667 |[39m       expect(p3Content)[33m.[39mtoContain([32m'P12-P14 refactor'[39m)[33m;[39m
     [90m      |[39m                         [31m[1m^[22m[39m
     [90m 1668 |[39m       expect(p4Content)[33m.[39mtoContain([32m'P12-P14 refactor'[39m)[33m;[39m
     [90m 1669 |[39m
     [90m 1670 |[39m       [90m// Both should use P12-P16 refactor pattern[39m[0m

      at Object.<anonymous> (tests/integration/s3.1.6-partition-solana.integration.test.ts:1667:25)

  â— S3.1.6.18: Cross-Partition Consistency â€º All partitions share same utility patterns â€º should use validateAndFilterChains in all partitions

    expect(received).toContain(expected) // indexOf

    Expected substring: "validateAndFilterChains(process.env.PARTITION_CHAINS"
    Received string:    "/**Â·
     * P1 Asia-Fast Partition Service Entry PointÂ·
     *Â·
     * Deploys the unified detector for the Asia-Fast partition:Â·
     * - Chains: BSC, Polygon, Avalanche, FantomÂ·
     * - Region: Oracle Cloud Singapore (asia-southeast1)Â·
     * - Resource Profile: Heavy (4 chains)Â·
     *Â·
     * This service is a deployment wrapper for the unified-detector,Â·
     * configured specifically for the P1 partition.Â·
     *Â·
     * Architecture Note:Â·
     * This service creates its own HTTP health server via createPartitionHealthServer().Â·
     * The UnifiedChainDetector class provides health data but NOT an HTTP server.Â·
     * This separation of concerns allows:Â·
     * - Partition-specific health endpoint configurationÂ·
     * - Consistent health response format across all partition servicesÂ·
     * - The detector class to remain transport-agnosticÂ·
     *Â·
     * Environment Variables:Â·
     * - PARTITION_ID: Set to 'asia-fast' by defaultÂ·
     * - REDIS_URL: Redis connection URL (required)Â·
     * - LOG_LEVEL: Logging level (default: info)Â·
     * - HEALTH_CHECK_PORT: HTTP health check port (default: 3001)Â·
     * - INSTANCE_ID: Unique instance identifier (auto-generated if not set)Â·
     * - REGION_ID: Region identifier (default: asia-southeast1)Â·
     * - ENABLE_CROSS_REGION_HEALTH: Enable cross-region health reporting (default: true)Â·
     * - PARTITION_CHAINS: Override default chains (comma-separated)Â·
     *Â·
     * @see ADR-003: Partitioned Chain DetectorsÂ·
     */Â·Â·Â·
    import { Server } from 'http';Â·
    import { UnifiedChainDetector, UnifiedDetectorConfig } from '@arbitrage/unified-detector';Â·
    import {Â·
      createLogger,Â·
      parsePort,Â·
      validateAndFilterChains,Â·
      createPartitionHealthServer,Â·
      setupDetectorEventHandlers,Â·
      setupProcessHandlers,Â·
      exitWithConfigError,Â·
      closeServerWithTimeout,Â·
      parsePartitionEnvironmentConfig,Â·
      validatePartitionEnvironmentConfig,Â·
      generateInstanceId,Â·
      PartitionServiceConfig,Â·
      PartitionEnvironmentConfig,Â·
      PARTITION_PORTS,Â·
      PARTITION_SERVICE_NAMES,Â·
      LoggerÂ·
    } from '@arbitrage/core';Â·
    import { getPartition, PARTITION_IDS } from '@arbitrage/config';Â·Â·Â·
    // =============================================================================Â·
    // P1 Partition ConstantsÂ·
    // =============================================================================Â·Â·Â·
    const P1_PARTITION_ID = PARTITION_IDS.ASIA_FAST;Â·
    // Use centralized port constant (P1: 3001, P2: 3002, P3: 3003, P4: 3004)Â·
    const P1_DEFAULT_PORT = PARTITION_PORTS[P1_PARTITION_ID] ?? 3001;Â·Â·Â·
    // =============================================================================Â·
    // ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    const logger = createLogger('partition-asia-fast:main');Â·Â·Â·
    // =============================================================================Â·
    // Partition Configuration RetrievalÂ·
    // =============================================================================Â·Â·Â·
    // Single partition config retrievalÂ·
    const partitionConfig = getPartition(P1_PARTITION_ID);Â·
    if (!partitionConfig) {Â·
      exitWithConfigError('P1 partition configuration not found', { partitionId: P1_PARTITION_ID }, logger);Â·
    }Â·Â·Â·
    // BUG-FIX: Add defensive null-safety checks for test compatibilityÂ·
    // During test imports, mocks may not be fully initialized, so we use optional chainingÂ·
    // and provide safe defaults to prevent \"Cannot read properties of undefined\" errorsÂ·
    const P1_CHAINS: readonly string[] = partitionConfig?.chains ?? [];Â·
    const P1_REGION = partitionConfig?.region ?? 'asia-southeast1';Â·Â·Â·
    // BUG-FIX: Validate partition config has chainsÂ·
    if (!P1_CHAINS || P1_CHAINS.length === 0) {Â·
      exitWithConfigError('P1 partition has no chains configured', {Â·
        partitionId: P1_PARTITION_ID,Â·
        chains: P1_CHAINSÂ·
      }, logger);Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // Environment Configuration (Using shared typed utilities)Â·
    // =============================================================================Â·Â·Â·
    // Parse environment into typed configuration using shared utilityÂ·
    const envConfig: PartitionEnvironmentConfig = parsePartitionEnvironmentConfig(P1_CHAINS);Â·Â·Â·
    // Validate environment configuration (exits on critical errors, warns on non-critical)Â·
    validatePartitionEnvironmentConfig(envConfig, P1_PARTITION_ID, P1_CHAINS, logger);Â·Â·Â·
    // =============================================================================Â·
    // Service ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    // Service configuration for shared utilitiesÂ·
    const serviceConfig: PartitionServiceConfig = {Â·
      partitionId: P1_PARTITION_ID,Â·
      serviceName: PARTITION_SERVICE_NAMES[P1_PARTITION_ID] ?? 'partition-asia-fast',Â·
      defaultChains: P1_CHAINS,Â·
      defaultPort: P1_DEFAULT_PORT,Â·
      region: P1_REGION,Â·
      provider: partitionConfig?.provider ?? 'oracle'Â·
    };Â·Â·Â·
    // Store server reference for graceful shutdownÂ·
    const healthServerRef: { current: Server | null } = { current: null };Â·Â·Â·
    // Unified detector configuration (uses typed envConfig)Â·
    // BUG-FIX: Use nullish coalescing (??) consistently instead of logical OR (||)Â·
    // to properly handle falsy but valid values like empty strings or 0Â·
    // BUG-FIX: Add optional chaining for envConfig properties for test compatibilityÂ·
    const config: UnifiedDetectorConfig = {Â·
      partitionId: P1_PARTITION_ID,Â·
      chains: validateAndFilterChains(envConfig?.partitionChains, P1_CHAINS, logger),Â·
      instanceId: generateInstanceId(P1_PARTITION_ID, envConfig?.instanceId),Â·
      regionId: envConfig?.regionId ?? P1_REGION,Â·
      enableCrossRegionHealth: envConfig?.enableCrossRegionHealth ?? true,Â·
      healthCheckPort: parsePort(envConfig?.healthCheckPort, P1_DEFAULT_PORT, logger)Â·
    };Â·Â·Â·
    // =============================================================================Â·
    // Service InstanceÂ·
    // =============================================================================Â·Â·Â·
    const detector = new UnifiedChainDetector(config);Â·Â·Â·
    // =============================================================================Â·
    // Event Handlers (Using shared utilities)Â·
    // =============================================================================Â·Â·Â·
    setupDetectorEventHandlers(detector, logger, P1_PARTITION_ID);Â·Â·Â·
    // =============================================================================Â·
    // Process Handlers (Using shared utilities with shutdown guard)Â·
    // =============================================================================Â·Â·Â·
    // Store cleanup function to prevent MaxListenersExceeded warningsÂ·
    // in test scenarios and allow proper handler cleanupÂ·
    const cleanupProcessHandlers = setupProcessHandlers(healthServerRef, detector, logger, serviceConfig.serviceName);Â·Â·Â·
    // =============================================================================Â·
    // Main Entry PointÂ·
    // =============================================================================Â·Â·Â·
    // Guard against multiple main() invocations (e.g., from integration tests)Â·
    // FIX: Standardized to use single state enum (matching P2 l2-turbo pattern)Â·
    // This is cleaner and more explicit about the service lifecycle stateÂ·
    type MainState = 'idle' | 'starting' | 'started' | 'failed';Â·
    let mainState: MainState = 'idle';Â·Â·Â·
    async function main(): Promise<void> {Â·
      // Check-and-set guard prevents duplicate invocations within same event loop tickÂ·
      if (mainState !== 'idle') {Â·
        logger.warn('main() already started or starting, ignoring duplicate invocation', {Â·
          currentState: mainStateÂ·
        });Â·
        return;Â·
      }Â·
      mainState = 'starting';Â·Â·Â·
      logger.info('Starting P1 Asia-Fast Partition Service', {Â·
        partitionId: P1_PARTITION_ID,Â·
        chains: config.chains,Â·
        region: P1_REGION,Â·
        provider: serviceConfig.provider,Â·
        nodeVersion: process.version,Â·
        pid: process.pidÂ·
      });Â·Â·Â·
      try {Â·
        // Start health check server first (using shared utilities)Â·
        // BUG-FIX: Use nullish coalescing for port to handle port 0 correctlyÂ·
        healthServerRef.current = createPartitionHealthServer({Â·
          port: config.healthCheckPort ?? P1_DEFAULT_PORT,Â·
          config: serviceConfig,Â·
          detector,Â·
          loggerÂ·
        });Â·Â·Â·
        // Start detectorÂ·
        await detector.start();Â·Â·Â·
        // BUG-FIX: Mark as fully started only after successful completionÂ·
        mainState = 'started';Â·Â·Â·
        logger.info('P1 Asia-Fast Partition Service started successfully', {Â·
          partitionId: detector.getPartitionId(),Â·
          chains: detector.getChains(),Â·
          healthyChains: detector.getHealthyChains()Â·
        });Â·Â·Â·
      } catch (error) {Â·
        // BUG-FIX: Mark as failed instead of resetting to idleÂ·
        mainState = 'failed';Â·Â·Â·
        logger.error('Failed to start P1 Asia-Fast Partition Service', { error });Â·Â·Â·
        // BUG-FIX: Explicit null check before closing serverÂ·
        // Server may be null if createPartitionHealthServer threw before assignmentÂ·
        if (healthServerRef.current) {Â·
          await closeServerWithTimeout(healthServerRef.current, 1000, logger);Â·
        }Â·Â·Â·
        // BUG-FIX: Clear server reference after closing to prevent stale reference issuesÂ·
        healthServerRef.current = null;Â·Â·Â·
        // Clean up process handlers before exit to prevent listener leaksÂ·
        cleanupProcessHandlers();Â·Â·Â·
        process.exit(1);Â·
      }Â·
    }Â·Â·Â·
    // Run - only when this is the main entry point (not when imported by tests)Â·
    // Check for Jest worker to prevent auto-start during test importsÂ·
    if (!process.env.JEST_WORKER_ID) {Â·
      main().catch((error) => {Â·
        // BUG-FIX: Wrap logging in try-catch to prevent silent failures if logger failsÂ·
        try {Â·
          if (logger) {Â·
            logger.error('Fatal error in P1 Asia-Fast partition main', { error });Â·
          } else {Â·
            console.error('Fatal error in P1 Asia-Fast partition main (logger unavailable):', error);Â·
          }Â·
        } catch (logError) {Â·
          // Last resort - write to stderr directlyÂ·
          process.stderr.write(`FATAL: ${error}\\nLOG ERROR: ${logError}\\n`);Â·
        }Â·
        process.exit(1);Â·
      });Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // ExportsÂ·
    // =============================================================================Â·Â·Â·
    export {Â·
      detector,Â·
      config,Â·
      P1_PARTITION_ID,Â·
      P1_CHAINS,Â·
      P1_REGION,Â·
      cleanupProcessHandlers,Â·
      // Export for testingÂ·
      envConfigÂ·
    };Â·Â·Â·
    // Re-export type from shared utilities for convenienceÂ·
    export type { PartitionEnvironmentConfig };Â·
    "

    [0m [90m 1843 |[39m         [36mconst[39m content [33m=[39m fs[33m.[39mreadFileSync(filePath[33m,[39m [32m'utf-8'[39m)[33m;[39m
     [90m 1844 |[39m
    [31m[1m>[22m[39m[90m 1845 |[39m         expect(content)[33m.[39mtoContain([32m'validateAndFilterChains(process.env.PARTITION_CHAINS'[39m)[33m;[39m
     [90m      |[39m                         [31m[1m^[22m[39m
     [90m 1846 |[39m       }
     [90m 1847 |[39m     })[33m;[39m
     [90m 1848 |[39m[0m

      at Object.<anonymous> (tests/integration/s3.1.6-partition-solana.integration.test.ts:1845:25)

  â— S3.1.6.18: Cross-Partition Consistency â€º All partitions share same utility patterns â€º should use parsePort in all partitions

    expect(received).toContain(expected) // indexOf

    Expected substring: "parsePort(process.env.HEALTH_CHECK_PORT"
    Received string:    "/**Â·
     * P1 Asia-Fast Partition Service Entry PointÂ·
     *Â·
     * Deploys the unified detector for the Asia-Fast partition:Â·
     * - Chains: BSC, Polygon, Avalanche, FantomÂ·
     * - Region: Oracle Cloud Singapore (asia-southeast1)Â·
     * - Resource Profile: Heavy (4 chains)Â·
     *Â·
     * This service is a deployment wrapper for the unified-detector,Â·
     * configured specifically for the P1 partition.Â·
     *Â·
     * Architecture Note:Â·
     * This service creates its own HTTP health server via createPartitionHealthServer().Â·
     * The UnifiedChainDetector class provides health data but NOT an HTTP server.Â·
     * This separation of concerns allows:Â·
     * - Partition-specific health endpoint configurationÂ·
     * - Consistent health response format across all partition servicesÂ·
     * - The detector class to remain transport-agnosticÂ·
     *Â·
     * Environment Variables:Â·
     * - PARTITION_ID: Set to 'asia-fast' by defaultÂ·
     * - REDIS_URL: Redis connection URL (required)Â·
     * - LOG_LEVEL: Logging level (default: info)Â·
     * - HEALTH_CHECK_PORT: HTTP health check port (default: 3001)Â·
     * - INSTANCE_ID: Unique instance identifier (auto-generated if not set)Â·
     * - REGION_ID: Region identifier (default: asia-southeast1)Â·
     * - ENABLE_CROSS_REGION_HEALTH: Enable cross-region health reporting (default: true)Â·
     * - PARTITION_CHAINS: Override default chains (comma-separated)Â·
     *Â·
     * @see ADR-003: Partitioned Chain DetectorsÂ·
     */Â·Â·Â·
    import { Server } from 'http';Â·
    import { UnifiedChainDetector, UnifiedDetectorConfig } from '@arbitrage/unified-detector';Â·
    import {Â·
      createLogger,Â·
      parsePort,Â·
      validateAndFilterChains,Â·
      createPartitionHealthServer,Â·
      setupDetectorEventHandlers,Â·
      setupProcessHandlers,Â·
      exitWithConfigError,Â·
      closeServerWithTimeout,Â·
      parsePartitionEnvironmentConfig,Â·
      validatePartitionEnvironmentConfig,Â·
      generateInstanceId,Â·
      PartitionServiceConfig,Â·
      PartitionEnvironmentConfig,Â·
      PARTITION_PORTS,Â·
      PARTITION_SERVICE_NAMES,Â·
      LoggerÂ·
    } from '@arbitrage/core';Â·
    import { getPartition, PARTITION_IDS } from '@arbitrage/config';Â·Â·Â·
    // =============================================================================Â·
    // P1 Partition ConstantsÂ·
    // =============================================================================Â·Â·Â·
    const P1_PARTITION_ID = PARTITION_IDS.ASIA_FAST;Â·
    // Use centralized port constant (P1: 3001, P2: 3002, P3: 3003, P4: 3004)Â·
    const P1_DEFAULT_PORT = PARTITION_PORTS[P1_PARTITION_ID] ?? 3001;Â·Â·Â·
    // =============================================================================Â·
    // ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    const logger = createLogger('partition-asia-fast:main');Â·Â·Â·
    // =============================================================================Â·
    // Partition Configuration RetrievalÂ·
    // =============================================================================Â·Â·Â·
    // Single partition config retrievalÂ·
    const partitionConfig = getPartition(P1_PARTITION_ID);Â·
    if (!partitionConfig) {Â·
      exitWithConfigError('P1 partition configuration not found', { partitionId: P1_PARTITION_ID }, logger);Â·
    }Â·Â·Â·
    // BUG-FIX: Add defensive null-safety checks for test compatibilityÂ·
    // During test imports, mocks may not be fully initialized, so we use optional chainingÂ·
    // and provide safe defaults to prevent \"Cannot read properties of undefined\" errorsÂ·
    const P1_CHAINS: readonly string[] = partitionConfig?.chains ?? [];Â·
    const P1_REGION = partitionConfig?.region ?? 'asia-southeast1';Â·Â·Â·
    // BUG-FIX: Validate partition config has chainsÂ·
    if (!P1_CHAINS || P1_CHAINS.length === 0) {Â·
      exitWithConfigError('P1 partition has no chains configured', {Â·
        partitionId: P1_PARTITION_ID,Â·
        chains: P1_CHAINSÂ·
      }, logger);Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // Environment Configuration (Using shared typed utilities)Â·
    // =============================================================================Â·Â·Â·
    // Parse environment into typed configuration using shared utilityÂ·
    const envConfig: PartitionEnvironmentConfig = parsePartitionEnvironmentConfig(P1_CHAINS);Â·Â·Â·
    // Validate environment configuration (exits on critical errors, warns on non-critical)Â·
    validatePartitionEnvironmentConfig(envConfig, P1_PARTITION_ID, P1_CHAINS, logger);Â·Â·Â·
    // =============================================================================Â·
    // Service ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    // Service configuration for shared utilitiesÂ·
    const serviceConfig: PartitionServiceConfig = {Â·
      partitionId: P1_PARTITION_ID,Â·
      serviceName: PARTITION_SERVICE_NAMES[P1_PARTITION_ID] ?? 'partition-asia-fast',Â·
      defaultChains: P1_CHAINS,Â·
      defaultPort: P1_DEFAULT_PORT,Â·
      region: P1_REGION,Â·
      provider: partitionConfig?.provider ?? 'oracle'Â·
    };Â·Â·Â·
    // Store server reference for graceful shutdownÂ·
    const healthServerRef: { current: Server | null } = { current: null };Â·Â·Â·
    // Unified detector configuration (uses typed envConfig)Â·
    // BUG-FIX: Use nullish coalescing (??) consistently instead of logical OR (||)Â·
    // to properly handle falsy but valid values like empty strings or 0Â·
    // BUG-FIX: Add optional chaining for envConfig properties for test compatibilityÂ·
    const config: UnifiedDetectorConfig = {Â·
      partitionId: P1_PARTITION_ID,Â·
      chains: validateAndFilterChains(envConfig?.partitionChains, P1_CHAINS, logger),Â·
      instanceId: generateInstanceId(P1_PARTITION_ID, envConfig?.instanceId),Â·
      regionId: envConfig?.regionId ?? P1_REGION,Â·
      enableCrossRegionHealth: envConfig?.enableCrossRegionHealth ?? true,Â·
      healthCheckPort: parsePort(envConfig?.healthCheckPort, P1_DEFAULT_PORT, logger)Â·
    };Â·Â·Â·
    // =============================================================================Â·
    // Service InstanceÂ·
    // =============================================================================Â·Â·Â·
    const detector = new UnifiedChainDetector(config);Â·Â·Â·
    // =============================================================================Â·
    // Event Handlers (Using shared utilities)Â·
    // =============================================================================Â·Â·Â·
    setupDetectorEventHandlers(detector, logger, P1_PARTITION_ID);Â·Â·Â·
    // =============================================================================Â·
    // Process Handlers (Using shared utilities with shutdown guard)Â·
    // =============================================================================Â·Â·Â·
    // Store cleanup function to prevent MaxListenersExceeded warningsÂ·
    // in test scenarios and allow proper handler cleanupÂ·
    const cleanupProcessHandlers = setupProcessHandlers(healthServerRef, detector, logger, serviceConfig.serviceName);Â·Â·Â·
    // =============================================================================Â·
    // Main Entry PointÂ·
    // =============================================================================Â·Â·Â·
    // Guard against multiple main() invocations (e.g., from integration tests)Â·
    // FIX: Standardized to use single state enum (matching P2 l2-turbo pattern)Â·
    // This is cleaner and more explicit about the service lifecycle stateÂ·
    type MainState = 'idle' | 'starting' | 'started' | 'failed';Â·
    let mainState: MainState = 'idle';Â·Â·Â·
    async function main(): Promise<void> {Â·
      // Check-and-set guard prevents duplicate invocations within same event loop tickÂ·
      if (mainState !== 'idle') {Â·
        logger.warn('main() already started or starting, ignoring duplicate invocation', {Â·
          currentState: mainStateÂ·
        });Â·
        return;Â·
      }Â·
      mainState = 'starting';Â·Â·Â·
      logger.info('Starting P1 Asia-Fast Partition Service', {Â·
        partitionId: P1_PARTITION_ID,Â·
        chains: config.chains,Â·
        region: P1_REGION,Â·
        provider: serviceConfig.provider,Â·
        nodeVersion: process.version,Â·
        pid: process.pidÂ·
      });Â·Â·Â·
      try {Â·
        // Start health check server first (using shared utilities)Â·
        // BUG-FIX: Use nullish coalescing for port to handle port 0 correctlyÂ·
        healthServerRef.current = createPartitionHealthServer({Â·
          port: config.healthCheckPort ?? P1_DEFAULT_PORT,Â·
          config: serviceConfig,Â·
          detector,Â·
          loggerÂ·
        });Â·Â·Â·
        // Start detectorÂ·
        await detector.start();Â·Â·Â·
        // BUG-FIX: Mark as fully started only after successful completionÂ·
        mainState = 'started';Â·Â·Â·
        logger.info('P1 Asia-Fast Partition Service started successfully', {Â·
          partitionId: detector.getPartitionId(),Â·
          chains: detector.getChains(),Â·
          healthyChains: detector.getHealthyChains()Â·
        });Â·Â·Â·
      } catch (error) {Â·
        // BUG-FIX: Mark as failed instead of resetting to idleÂ·
        mainState = 'failed';Â·Â·Â·
        logger.error('Failed to start P1 Asia-Fast Partition Service', { error });Â·Â·Â·
        // BUG-FIX: Explicit null check before closing serverÂ·
        // Server may be null if createPartitionHealthServer threw before assignmentÂ·
        if (healthServerRef.current) {Â·
          await closeServerWithTimeout(healthServerRef.current, 1000, logger);Â·
        }Â·Â·Â·
        // BUG-FIX: Clear server reference after closing to prevent stale reference issuesÂ·
        healthServerRef.current = null;Â·Â·Â·
        // Clean up process handlers before exit to prevent listener leaksÂ·
        cleanupProcessHandlers();Â·Â·Â·
        process.exit(1);Â·
      }Â·
    }Â·Â·Â·
    // Run - only when this is the main entry point (not when imported by tests)Â·
    // Check for Jest worker to prevent auto-start during test importsÂ·
    if (!process.env.JEST_WORKER_ID) {Â·
      main().catch((error) => {Â·
        // BUG-FIX: Wrap logging in try-catch to prevent silent failures if logger failsÂ·
        try {Â·
          if (logger) {Â·
            logger.error('Fatal error in P1 Asia-Fast partition main', { error });Â·
          } else {Â·
            console.error('Fatal error in P1 Asia-Fast partition main (logger unavailable):', error);Â·
          }Â·
        } catch (logError) {Â·
          // Last resort - write to stderr directlyÂ·
          process.stderr.write(`FATAL: ${error}\\nLOG ERROR: ${logError}\\n`);Â·
        }Â·
        process.exit(1);Â·
      });Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // ExportsÂ·
    // =============================================================================Â·Â·Â·
    export {Â·
      detector,Â·
      config,Â·
      P1_PARTITION_ID,Â·
      P1_CHAINS,Â·
      P1_REGION,Â·
      cleanupProcessHandlers,Â·
      // Export for testingÂ·
      envConfigÂ·
    };Â·Â·Â·
    // Re-export type from shared utilities for convenienceÂ·
    export type { PartitionEnvironmentConfig };Â·
    "

    [0m [90m 1862 |[39m         [36mconst[39m content [33m=[39m fs[33m.[39mreadFileSync(filePath[33m,[39m [32m'utf-8'[39m)[33m;[39m
     [90m 1863 |[39m
    [31m[1m>[22m[39m[90m 1864 |[39m         expect(content)[33m.[39mtoContain([32m'parsePort(process.env.HEALTH_CHECK_PORT'[39m)[33m;[39m
     [90m      |[39m                         [31m[1m^[22m[39m
     [90m 1865 |[39m       }
     [90m 1866 |[39m     })[33m;[39m
     [90m 1867 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (tests/integration/s3.1.6-partition-solana.integration.test.ts:1864:25)

FAIL shared/config/__tests__/unit/partitions.test.ts
  â— Test suite failed to run

    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m34[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module './partitions' or its corresponding type declarations.

    [7m34[0m } from './partitions';
    [7m  [0m [91m       ~~~~~~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m43[0m:[93m34[0m - [91merror[0m[90m TS7006: [0mParameter 'p' implicitly has an 'any' type.

    [7m43[0m       const ids = PARTITIONS.map(p => p.partitionId);
    [7m  [0m [91m                                 ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m49[0m:[93m40[0m - [91merror[0m[90m TS7006: [0mParameter 'p' implicitly has an 'any' type.

    [7m49[0m       const asiaFast = PARTITIONS.find(p => p.partitionId === 'asia-fast');
    [7m  [0m [91m                                       ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m56[0m:[93m38[0m - [91merror[0m[90m TS7006: [0mParameter 'p' implicitly has an 'any' type.

    [7m56[0m       const l2Fast = PARTITIONS.find(p => p.partitionId === 'l2-turbo');
    [7m  [0m [91m                                     ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m64[0m:[93m41[0m - [91merror[0m[90m TS7006: [0mParameter 'p' implicitly has an 'any' type.

    [7m64[0m       const highValue = PARTITIONS.find(p => p.partitionId === 'high-value');
    [7m  [0m [91m                                        ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m105[0m:[93m47[0m - [91merror[0m[90m TS7006: [0mParameter 'p' implicitly has an 'any' type.

    [7m105[0m       const expanded = FUTURE_PARTITIONS.find(p => p.partitionId === 'asia-fast-expanded');
    [7m   [0m [91m                                              ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m250[0m:[93m29[0m - [91merror[0m[90m TS7006: [0mParameter 'p' implicitly has an 'any' type.

    [7m250[0m     const ids = enabled.map(p => p.partitionId);
    [7m   [0m [91m                            ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m325[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m325[0m     expect(instances.map(i => i.chainId)).toContain('bsc');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m326[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m326[0m     expect(instances.map(i => i.chainId)).toContain('polygon');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m327[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m327[0m     expect(instances.map(i => i.chainId)).toContain('avalanche');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m328[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m328[0m     expect(instances.map(i => i.chainId)).toContain('fantom');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m334[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m334[0m     expect(instances.map(i => i.chainId)).toContain('arbitrum');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m335[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m335[0m     expect(instances.map(i => i.chainId)).toContain('optimism');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m336[0m:[93m26[0m - [91merror[0m[90m TS7006: [0mParameter 'i' implicitly has an 'any' type.

    [7m336[0m     expect(instances.map(i => i.chainId)).toContain('base');
    [7m   [0m [91m                         ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m413[0m:[93m31[0m - [91merror[0m[90m TS7006: [0mParameter 'e' implicitly has an 'any' type.

    [7m413[0m     expect(result.errors.some(e => e.includes('not found'))).toBe(true);
    [7m   [0m [91m                              ~[0m
    [96mshared/config/__tests__/unit/partitions.test.ts[0m:[93m432[0m:[93m33[0m - [91merror[0m[90m TS7006: [0mParameter 'w' implicitly has an 'any' type.

    [7m432[0m     expect(result.warnings.some(w => w.includes('insufficient'))).toBe(true);
    [7m   [0m [91m                                ~[0m

FAIL shared/config/__tests__/unit/config-manager.test.ts
  â— Test suite failed to run

    [96mshared/config/__tests__/unit/config-manager.test.ts[0m:[93m352[0m:[93m12[0m - [91merror[0m[90m TS2304: [0mCannot find name 'result'.

    [7m352[0m     expect(result.warnings.filter((w: string) => w.includes('OPTIONAL_VAR'))).toHaveLength(0);
    [7m   [0m [91m           ~~~~~~[0m
    [96mshared/config/__tests__/unit/config-manager.test.ts[0m:[93m426[0m:[93m1[0m - [91merror[0m[90m TS1128: [0mDeclaration or statement expected.

    [7m426[0m });
    [7m   [0m [91m~[0m
    [96mshared/config/__tests__/unit/config-manager.test.ts[0m:[93m426[0m:[93m2[0m - [91merror[0m[90m TS1128: [0mDeclaration or statement expected.

    [7m426[0m });
    [7m   [0m [91m ~[0m

FAIL services/coordinator/__tests__/unit/leadership/leadership-election-service.test.ts
  â— Test suite failed to run

    [96mservices/coordinator/__tests__/unit/leadership/leadership-election-service.test.ts[0m:[93m13[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module './leadership-election-service' or its corresponding type declarations.

    [7m13[0m } from './leadership-election-service';
    [7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96mservices/coordinator/__tests__/unit/leadership/leadership-election-service.test.ts[0m:[93m71[0m:[93m17[0m - [91merror[0m[90m TS7006: [0mParameter 'alert' implicitly has an 'any' type.

    [7m71[0m       onAlert: (alert) => alerts.push(alert),
    [7m  [0m [91m                ~~~~~[0m
    [96mservices/coordinator/__tests__/unit/leadership/leadership-election-service.test.ts[0m:[93m72[0m:[93m28[0m - [91merror[0m[90m TS7006: [0mParameter 'isLeader' implicitly has an 'any' type.

    [7m72[0m       onLeadershipChange: (isLeader) => leadershipChanges.push(isLeader),
    [7m  [0m [91m                           ~~~~~~~~[0m

FAIL shared/config/__tests__/unit/cross-chain.test.ts
  â— Test suite failed to run

    [96mshared/config/__tests__/unit/cross-chain.test.ts[0m:[93m19[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module './cross-chain' or its corresponding type declarations.

    [7m19[0m } from './cross-chain';
    [7m  [0m [91m       ~~~~~~~~~~~~~~~[0m

FAIL shared/test-utils/__tests__/unit/helpers/timer-helpers.test.ts
  â— Test suite failed to run

    [96mshared/test-utils/__tests__/unit/helpers/timer-helpers.test.ts[0m:[93m16[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module './timer-helpers' or its corresponding type declarations.

    [7m16[0m } from './timer-helpers';
    [7m  [0m [91m       ~~~~~~~~~~~~~~~~~[0m

FAIL shared/config/__tests__/unit/websocket-resilience.test.ts
  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º Arbitrum should have 3 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 3
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/arbitrum", "wss://arbitrum-one-rpc.publicnode.com", "wss://arbitrum-mainnet.public.blastapi.io", "wss://arb1.arbitrum.io/feed"]

    [0m [90m 146 |[39m   describe([32m'Chain-Specific Configuration'[39m[33m,[39m () [33m=>[39m {
     [90m 147 |[39m     it([32m'Arbitrum should have 3 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 148 |[39m       expect([33mCHAINS[39m[33m.[39marbitrum[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 149 |[39m     })[33m;[39m
     [90m 150 |[39m
     [90m 151 |[39m     it([32m'Optimism should have 3 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:148:46)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º Optimism should have 3 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 3
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/optimism", "wss://optimism-rpc.publicnode.com", "wss://optimism-mainnet.public.blastapi.io", "wss://mainnet.optimism.io"]

    [0m [90m 150 |[39m
     [90m 151 |[39m     it([32m'Optimism should have 3 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 152 |[39m       expect([33mCHAINS[39m[33m.[39moptimism[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 153 |[39m     })[33m;[39m
     [90m 154 |[39m
     [90m 155 |[39m     it([32m'BSC should have 3 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:152:46)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º BSC should have 3 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 3
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/bsc", "wss://bsc-rpc.publicnode.com", "wss://bsc-mainnet.public.blastapi.io", "wss://bsc-ws-node.nariox.org:443"]

    [0m [90m 154 |[39m
     [90m 155 |[39m     it([32m'BSC should have 3 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 156 |[39m       expect([33mCHAINS[39m[33m.[39mbsc[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
     [90m     |[39m                                         [31m[1m^[22m[39m
     [90m 157 |[39m     })[33m;[39m
     [90m 158 |[39m
     [90m 159 |[39m     it([32m'Ethereum should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:156:41)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º Ethereum should have 2 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/eth", "wss://ethereum-rpc.publicnode.com", "wss://eth-mainnet.public.blastapi.io", "wss://eth.llamarpc.com"]

    [0m [90m 158 |[39m
     [90m 159 |[39m     it([32m'Ethereum should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 160 |[39m       expect([33mCHAINS[39m[33m.[39methereum[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 161 |[39m     })[33m;[39m
     [90m 162 |[39m
     [90m 163 |[39m     it([32m'Base should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:160:46)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º Base should have 2 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/base", "wss://base-rpc.publicnode.com", "wss://base-mainnet.public.blastapi.io", "wss://mainnet.base.org"]

    [0m [90m 162 |[39m
     [90m 163 |[39m     it([32m'Base should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 164 |[39m       expect([33mCHAINS[39m[33m.[39mbase[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                                          [31m[1m^[22m[39m
     [90m 165 |[39m     })[33m;[39m
     [90m 166 |[39m
     [90m 167 |[39m     it([32m'Polygon should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:164:42)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º Polygon should have 2 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/polygon", "wss://polygon-bor-rpc.publicnode.com", "wss://polygon-mainnet.public.blastapi.io", "wss://polygon-rpc.com"]

    [0m [90m 166 |[39m
     [90m 167 |[39m     it([32m'Polygon should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 168 |[39m       expect([33mCHAINS[39m[33m.[39mpolygon[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                                             [31m[1m^[22m[39m
     [90m 169 |[39m     })[33m;[39m
     [90m 170 |[39m
     [90m 171 |[39m     it([32m'Avalanche should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:168:45)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º Avalanche should have 2 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/avalanche", "wss://avalanche-c-chain-rpc.publicnode.com", "wss://avax-mainnet.public.blastapi.io", "wss://api.avax.network/ext/bc/C/ws"]

    [0m [90m 170 |[39m
     [90m 171 |[39m     it([32m'Avalanche should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 172 |[39m       expect([33mCHAINS[39m[33m.[39mavalanche[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 173 |[39m     })[33m;[39m
     [90m 174 |[39m
     [90m 175 |[39m     it([32m'Fantom should have at least 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:172:47)

  â— WebSocket Resilience Configuration (S3.3) â€º Chain-Specific Configuration â€º zkSync should have 2 WebSocket fallbacks

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  ["wss://rpc.ankr.com/zksync_era", "wss://zksync-era-rpc.publicnode.com", "wss://zksync-mainnet.public.blastapi.io", "wss://mainnet.era.zksync.io/ws"]

    [0m [90m 178 |[39m
     [90m 179 |[39m     it([32m'zkSync should have 2 WebSocket fallbacks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 180 |[39m       expect([33mCHAINS[39m[33m.[39mzksync[33m.[39mwsFallbackUrls)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                                            [31m[1m^[22m[39m
     [90m 181 |[39m     })[33m;[39m
     [90m 182 |[39m
     [90m 183 |[39m     it([32m'Linea should have at least 1 WebSocket fallback'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/config/__tests__/unit/websocket-resilience.test.ts:180:44)

FAIL shared/config/__tests__/unit/dex-expansion.test.ts
  â— Test suite failed to run

    [96mshared/config/__tests__/unit/dex-expansion.test.ts[0m:[93m16[0m:[93m21[0m - [91merror[0m[90m TS2307: [0mCannot find module '../../types' or its corresponding type declarations.

    [7m16[0m import { Dex } from '../../types';
    [7m  [0m [91m                    ~~~~~~~~~~~~~[0m

FAIL shared/core/__tests__/unit/tier2-optimizations.test.ts
  â— T2.7: Price Momentum Detection â€º Performance â€º should calculate signals quickly

    expect(received).toBeLessThan(expected)

    Expected: < 200
    Received:   222.51320000000123

    [0m [90m 1143 |[39m
     [90m 1144 |[39m       [90m// Should complete in under 200ms (increased from 50ms for CI environment stability)[39m
    [31m[1m>[22m[39m[90m 1145 |[39m       expect(elapsed)[33m.[39mtoBeLessThan([35m200[39m)[33m;[39m
     [90m      |[39m                       [31m[1m^[22m[39m
     [90m 1146 |[39m     })[33m;[39m
     [90m 1147 |[39m   })[33m;[39m
     [90m 1148 |[39m })[33m;[39m[0m

      at Object.<anonymous> (shared/core/__tests__/unit/tier2-optimizations.test.ts:1145:23)


Test Suites: 17 failed, 2 skipped, 171 passed, 188 of 190 total
Tests:       30 failed, 51 skipped, 92 todo, 7392 passed, 7565 total
Snapshots:   0 total
Time:        4148.367 s
Ran all test suites in 4 projects.

[Jest Global Teardown] Stopping Redis test server...
[Jest Global Teardown] Redis test server stopped

ig: PartitionEnvironmentConfig = parsePartitionEnvironmentConfig(P1_CHAINS);Â·Â·Â·
    // Validate environment configuration (exits on critical errors, warns on non-critical)Â·
    validatePartitionEnvironmentConfig(envConfig, P1_PARTITION_ID, P1_CHAINS, logger);Â·Â·Â·
    // =============================================================================Â·
    // Service ConfigurationÂ·
    // =============================================================================Â·Â·Â·
    // Service configuration for shared utilitiesÂ·
    const serviceConfig: PartitionServiceConfig = {Â·
      partitionId: P1_PARTITION_ID,Â·
      serviceName: PARTITION_SERVICE_NAMES[P1_PARTITION_ID] ?? 'partition-asia-fast',Â·
      defaultChains: P1_CHAINS,Â·
      defaultPort: P1_DEFAULT_PORT,Â·
      region: P1_REGION,Â·
      provider: partitionConfig?.provider ?? 'oracle'Â·
    };Â·Â·Â·
    // Store server reference for graceful shutdownÂ·
    const healthServerRef: { current: Server | null } = { current: null };Â·Â·Â·
    // Unified detector configuration (uses typed envConfig)Â·
    // BUG-FIX: Use nullish coalescing (??) consistently instead of logical OR (||)Â·
    // to properly handle falsy but valid values like empty strings or 0Â·
    // BUG-FIX: Add optional chaining for envConfig properties for test compatibilityÂ·
    const config: UnifiedDetectorConfig = {Â·
      partitionId: P1_PARTITION_ID,Â·
      chains: validateAndFilterChains(envConfig?.partitionChains, P1_CHAINS, logger),Â·
      instanceId: generateInstanceId(P1_PARTITION_ID, envConfig?.instanceId),Â·
      regionId: envConfig?.regionId ?? P1_REGION,Â·
      enableCrossRegionHealth: envConfig?.enableCrossRegionHealth ?? true,Â·
      healthCheckPort: parsePort(envConfig?.healthCheckPort, P1_DEFAULT_PORT, logger)Â·
    };Â·Â·Â·
    // =============================================================================Â·
    // Service InstanceÂ·
    // =============================================================================Â·Â·Â·
    const detector = new UnifiedChainDetector(config);Â·Â·Â·
    // =============================================================================Â·
    // Event Handlers (Using shared utilities)Â·
    // =============================================================================Â·Â·Â·
    setupDetectorEventHandlers(detector, logger, P1_PARTITION_ID);Â·Â·Â·
    // =============================================================================Â·
    // Process Handlers (Using shared utilities with shutdown guard)Â·
    // =============================================================================Â·Â·Â·
    // Store cleanup function to prevent MaxListenersExceeded warningsÂ·
    // in test scenarios and allow proper handler cleanupÂ·
    const cleanupProcessHandlers = setupProcessHandlers(healthServerRef, detector, logger, serviceConfig.serviceName);Â·Â·Â·
    // =============================================================================Â·
    // Main Entry PointÂ·
    // =============================================================================Â·Â·Â·
    // Guard against multiple main() invocations (e.g., from integration tests)Â·
    // FIX: Standardized to use single state enum (matching P2 l2-turbo pattern)Â·
    // This is cleaner and more explicit about the service lifecycle stateÂ·
    type MainState = 'idle' | 'starting' | 'started' | 'failed';Â·
    let mainState: MainState = 'idle';Â·Â·Â·
    async function main(): Promise<void> {Â·
      // Check-and-set guard prevents duplicate invocations within same event loop tickÂ·
      if (mainState !== 'idle') {Â·
        logger.warn('main() already started or starting, ignoring duplicate invocation', {Â·
          currentState: mainStateÂ·
        });Â·
        return;Â·
      }Â·
      mainState = 'starting';Â·Â·Â·
      logger.info('Starting P1 Asia-Fast Partition Service', {Â·
        partitionId: P1_PARTITION_ID,Â·
        chains: config.chains,Â·
        region: P1_REGION,Â·
        provider: serviceConfig.provider,Â·
        nodeVersion: process.version,Â·
        pid: process.pidÂ·
      });Â·Â·Â·
      try {Â·
        // Start health check server first (using shared utilities)Â·
        // BUG-FIX: Use nullish coalescing for port to handle port 0 correctlyÂ·
        healthServerRef.current = createPartitionHealthServer({Â·
          port: config.healthCheckPort ?? P1_DEFAULT_PORT,Â·
          config: serviceConfig,Â·
          detector,Â·
          loggerÂ·
        });Â·Â·Â·
        // Start detectorÂ·
        await detector.start();Â·Â·Â·
        // BUG-FIX: Mark as fully started only after successful completionÂ·
        mainState = 'started';Â·Â·Â·
        logger.info('P1 Asia-Fast Partition Service started successfully', {Â·
          partitionId: detector.getPartitionId(),Â·
          chains: detector.getChains(),Â·
          healthyChains: detector.getHealthyChains()Â·
        });Â·Â·Â·
      } catch (error) {Â·
        // BUG-FIX: Mark as failed instead of resetting to idleÂ·
        mainState = 'failed';Â·Â·Â·
        logger.error('Failed to start P1 Asia-Fast Partition Service', { error });Â·Â·Â·
        // BUG-FIX: Explicit null check before closing serverÂ·
        // Server may be null if createPartitionHealthServer threw before assignmentÂ·
        if (healthServerRef.current) {Â·
          await closeServerWithTimeout(healthServerRef.current, 1000, logger);Â·
        }Â·Â·Â·
        // BUG-FIX: Clear server reference after closing to prevent stale reference issuesÂ·
        healthServerRef.current = null;Â·Â·Â·
        // Clean up process handlers before exit to prevent listener leaksÂ·
        cleanupProcessHandlers();Â·Â·Â·
        process.exit(1);Â·
      }Â·
    }Â·Â·Â·
    // Run - only when this is the main entry point (not when imported by tests)Â·
    // Check for Jest worker to prevent auto-start during test importsÂ·
    if (!process.env.JEST_WORKER_ID) {Â·
      main().catch((error) => {Â·
        // BUG-FIX: Wrap logging in try-catch to prevent silent failures if logger failsÂ·
        try {Â·
          if (logger) {Â·
            logger.error('Fatal error in P1 Asia-Fast partition main', { error });Â·
          } else {Â·
            console.error('Fatal error in P1 Asia-Fast partition main (logger unavailable):', error);Â·
          }Â·
        } catch (logError) {Â·
          // Last resort - write to stderr directlyÂ·
          process.stderr.write(`FATAL: ${error}\\nLOG ERROR: ${logError}\\n`);Â·
        }Â·
        process.exit(1);Â·
      });Â·
    }Â·Â·Â·
    // =============================================================================Â·
    // ExportsÂ·
    // =============================================================================Â·Â·Â·
    export {Â·
      detector,Â·
      config,Â·
      P1_PARTITION_ID,Â·
      P1_CHAINS,Â·
      P1_REGION,Â·
      cleanupProcessHandlers,Â·
      // Export for testingÂ·
      envConfigÂ·
    };Â·Â·Â·
    // Re-export type from shared utilities for convenienceÂ·
    export type { PartitionEnvironmentConfig };Â·
    "

    [0m [90m 1862 |[39m         [36mconst[39m content [33m=[39m fs[33m.[39mreadFileSync(filePath[33m,[39m [32m'utf-8'[39m)[33m;[39m
     [90m 1863 |[39m
    [31m[1m>[22m[39m[90m 1864 |[39m         expect(content)[33m.[39mtoContain([32m'parsePort(process.env.HEALTH_CHECK_PORT'[39m)[33m;[39m
     [90m      |[39m                         [31m[1m^[22m[39m
     [90m 1865 |[39m       }
     [90m 1866 |[39m     })[33m;[39m
     [90m 1867 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (tests/integration/s3.1.6-partition-solana.integration.test.ts:1864:25)

FAIL tests/performance/hot-path-detection.perf.ts (57.857 s)
  â— Hot Path Performance - Detection (<50ms) â€º Arbitrage Detection â€º should handle batch detection for 100 pairs in <50ms

    Batch detection: P99 127.19ms exceeds threshold 100ms (2x target)

    [0m [90m 180 |[39m
     [90m 181 |[39m   [36mif[39m (result[33m.[39mp99Ms [33m>[39m p99Threshold) {
    [31m[1m>[22m[39m[90m 182 |[39m     [36mthrow[39m [36mnew[39m [33mError[39m(
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 183 |[39m       [32m`${label}: P99 ${result.p99Ms.toFixed(2)}ms exceeds threshold ${p99Threshold}ms (${PERFORMANCE_THRESHOLDS.P99_MULTIPLIER}x target)`[39m
     [90m 184 |[39m     )[33m;[39m
     [90m 185 |[39m   }[0m

      at assertPerformance (tests/performance/thresholds.ts:182:11)
      at Object.<anonymous> (tests/performance/hot-path-detection.perf.ts:223:24)

FAIL services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts (10.3 s)
  â— Success Criteria: Feed Latency (<10ms) â€º should decode real transactions within 10ms latency budget

    expect(received).toBeLessThan(expected)

    Expected: < 10
    Received:   42.784599999999045

    [0m [90m 435 |[39m     console[33m.[39mlog([32m'==========================================\n'[39m)[33m;[39m
     [90m 436 |[39m
    [31m[1m>[22m[39m[90m 437 |[39m     expect(maxLatency)[33m.[39mtoBeLessThan([33mSUCCESS_CRITERIA[39m[33m.[39m[33mMAX_FEED_LATENCY_MS[39m)[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 438 |[39m   })[33m;[39m
     [90m 439 |[39m
     [90m 440 |[39m   it([32m'should handle high-throughput decoding of real transactions within latency budget'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (services/mempool-detector/src/__tests__/integration/success-criteria.integration.test.ts:437:24)

FAIL shared/core/__tests__/unit/tier2-optimizations.test.ts (6.569 s)
  â— T2.7: Price Momentum Detection â€º Performance â€º should handle high-frequency updates efficiently

    expect(received).toBeLessThan(expected)

    Expected: < 100
    Received:   303.6564000000071

    [0m [90m 1123 |[39m
     [90m 1124 |[39m       [90m// Should complete in under 100ms[39m
    [31m[1m>[22m[39m[90m 1125 |[39m       expect(elapsed)[33m.[39mtoBeLessThan([35m100[39m)[33m;[39m
     [90m      |[39m                       [31m[1m^[22m[39m
     [90m 1126 |[39m     })[33m;[39m
     [90m 1127 |[39m
     [90m 1128 |[39m     it([32m'should calculate signals quickly'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.<anonymous> (shared/core/__tests__/unit/tier2-optimizations.test.ts:1125:23)

  â— T2.7: Price Momentum Detection â€º Performance â€º should calculate signals quickly

    expect(received).toBeLessThan(expected)

    Expected: < 200
    Received:   446.67369999999937

    [0m [90m 1143 |[39m
     [90m 1144 |[39m       [90m// Should complete in under 200ms (increased from 50ms for CI environment stability)[39m
    [31m[1m>[22m[39m[90m 1145 |[39m       expect(elapsed)[33m.[39mtoBeLessThan([35m200[39m)[33m;[39m
     [90m      |[39m                       [31m[1m^[22m[39m
     [90m 1146 |[39m     })[33m;[39m
     [90m 1147 |[39m   })[33m;[39m
     [90m 1148 |[39m })[33m;[39m[0m

      at Object.<anonymous> (shared/core/__tests__/unit/tier2-optimizations.test.ts:1145:23)

FAIL shared/core/__tests__/unit/regression.test.ts
  â— Promise.allSettled Cleanup Regression Tests â€º should run cleanup in parallel

    expect(received).toBeLessThan(expected)

    Expected: < 100
    Received:   129

    [0m [90m 591 |[39m
     [90m 592 |[39m     [90m// If running in parallel, total time should be ~50ms, not ~150ms[39m
    [31m[1m>[22m[39m[90m 593 |[39m     expect(totalTime)[33m.[39mtoBeLessThan([35m100[39m)[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 594 |[39m
     [90m 595 |[39m     [90m// All should have started at roughly the same time[39m
     [90m 596 |[39m     [36mconst[39m startSpread [33m=[39m [33mMath[39m[33m.[39mmax([33m...[39mstartTimes) [33m-[39m [33mMath[39m[33m.[39mmin([33m...[39mstartTimes)[33m;[39m[0m

      at Object.<anonymous> (shared/core/__tests__/unit/regression.test.ts:593:23)

FAIL shared/core/__tests__/unit/tier1-optimizations.test.ts
  â— T1.1: Token Pair Indexing â€º Index Performance â€º should enable O(1) pair lookup

    expect(received).toBeLessThan(expected)

    Expected: < 50
    Received:   179.64050000000861

    [0m [90m 521 |[39m
     [90m 522 |[39m       [90m// 10k Map lookups should complete in < 10ms[39m
    [31m[1m>[22m[39m[90m 523 |[39m       expect(lookupTime)[33m.[39mtoBeLessThan([35m50[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 524 |[39m     })[33m;[39m
     [90m 525 |[39m   })[33m;[39m
     [90m 526 |[39m })[33m;[39m[0m

      at Object.<anonymous> (shared/core/__tests__/unit/tier1-optimizations.test.ts:523:26)

FAIL shared/config/__tests__/unit/chains/chain-url-builder.test.ts
  â— Test suite failed to run

    [96mshared/config/__tests__/unit/chains/chain-url-builder.test.ts[0m:[93m13[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module './chain-url-builder' or its corresponding type declarations.

    [7m13[0m } from './chain-url-builder';
    [7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~[0m
    [96mshared/config/__tests__/unit/chains/chain-url-builder.test.ts[0m:[93m122[0m:[93m28[0m - [91merror[0m[90m TS7006: [0mParameter 'key' implicitly has an 'any' type.

    [7m122[0m           rpcUrlTemplate: (key) => `https://opt-mainnet.g.alchemy.com/v2/${key}`,
    [7m   [0m [91m                           ~~~[0m
    [96mshared/config/__tests__/unit/chains/chain-url-builder.test.ts[0m:[93m123[0m:[93m27[0m - [91merror[0m[90m TS7006: [0mParameter 'key' implicitly has an 'any' type.

    [7m123[0m           wsUrlTemplate: (key) => `wss://opt-mainnet.g.alchemy.com/v2/${key}`,
    [7m   [0m [91m                          ~~~[0m
    [96mshared/config/__tests__/unit/chains/chain-url-builder.test.ts[0m:[93m146[0m:[93m28[0m - [91merror[0m[90m TS7006: [0mParameter 'key' implicitly has an 'any' type.

    [7m146[0m           rpcUrlTemplate: (key) => `https://primary/${key}`,
    [7m   [0m [91m                           ~~~[0m
    [96mshared/config/__tests__/unit/chains/chain-url-builder.test.ts[0m:[93m147[0m:[93m27[0m - [91merror[0m[90m TS7006: [0mParameter 'key' implicitly has an 'any' type.

    [7m147[0m           wsUrlTemplate: (key) => `wss://primary/${key}`,
    [7m   [0m [91m                          ~~~[0m
    [96mshared/config/__tests__/unit/chains/chain-url-builder.test.ts[0m:[93m151[0m:[93m28[0m - [91merror[0m[90m TS7006: [0mParameter 'key' implicitly has an 'any' type.

    [7m151[0m           rpcUrlTemplate: (key) => `https://secondary/${key}`,
    [7m   [0m [91m                           ~~~[0m
    [96mshared/config/__tests__/unit/chains/chain-url-builder.test.ts[0m:[93m152[0m:[93m27[0m - [91merror[0m[90m TS7006: [0mParameter 'key' implicitly has an 'any' type.

    [7m152[0m           wsUrlTemplate: (key) => `wss://secondary/${key}`,
    [7m   [0m [91m                          ~~~[0m

FAIL services/execution-engine/__tests__/unit/strategies/flash-loan-providers/provider-factory.test.ts
  â— Test suite failed to run

    TypeError: abi is not iterable

    [0m [90m 36 |[39m [90m * @see service-config.ts for full ABI documentation[39m
     [90m 37 |[39m [90m */[39m
    [31m[1m>[22m[39m[90m 38 |[39m [36mconst[39m [33mFLASH_LOAN_INTERFACE[39m [33m=[39m [36mnew[39m ethers[33m.[39m[33mInterface[39m([33mFLASH_LOAN_ARBITRAGE_ABI[39m)[33m;[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 39 |[39m
     [90m 40 |[39m [90m/**[39m
     [90m 41 |[39m [90m * Aave V3 Flash Loan Provider[39m[0m

      at new Interface (node_modules/ethers/src.ts/abi/interface.ts:342:25)
      at Object.<anonymous> (services/execution-engine/src/strategies/flash-loan-providers/aave-v3.provider.ts:38:30)
      at Object.<anonymous> (services/execution-engine/src/strategies/flash-loan-providers/provider-factory.ts:22:1)
      at Object.<anonymous> (services/execution-engine/__tests__/unit/strategies/flash-loan-providers/provider-factory.test.ts:13:1)

FAIL services/execution-engine/__tests__/unit/strategies/cross-chain.strategy.test.ts
  â— Test suite failed to run

    [96mservices/execution-engine/__tests__/unit/strategies/cross-chain.strategy.test.ts[0m:[93m23[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module '../services/simulation/types' or its corresponding type declarations.

    [7m23[0m } from '../services/simulation/types';
    [7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

FAIL services/execution-engine/__tests__/unit/strategies/intra-chain.strategy.test.ts
  â— Test suite failed to run

    [96mservices/execution-engine/__tests__/unit/strategies/intra-chain.strategy.test.ts[0m:[93m22[0m:[93m8[0m - [91merror[0m[90m TS2307: [0mCannot find module '../services/simulation/types' or its corresponding type declarations.

    [7m22[0m } from '../services/simulation/types';
    [7m  [0m [91m       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m


Test Suites: 25 failed, 2 skipped, 163 passed, 188 of 190 total
Tests:       35 failed, 51 skipped, 92 todo, 7302 passed, 7480 total
Snapshots:   0 total
Time:        4599.692 s
Ran all test suites in 4 projects.

[Jest Global Teardown] Stopping Redis test server...
[Jest Global Teardown] Redis test server stopped

